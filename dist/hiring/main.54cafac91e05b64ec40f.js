(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.g)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return jt}),n.d(e,"d",function(){return xt}),n.d(e,"e",function(){return Ct}),n.d(e,"f",function(){return L}),n.d(e,"g",function(){return M}),n.d(e,"h",function(){return it}),n.d(e,"i",function(){return at}),n.d(e,"j",function(){return vt}),n.d(e,"k",function(){return lt}),n.d(e,"l",function(){return pt}),n.d(e,"m",function(){return Ot}),n.d(e,"n",function(){return yt}),n.d(e,"o",function(){return ut}),n.d(e,"p",function(){return Et});var r=n("fXoL"),i=n("ofXK"),s=n("Cfvw"),o=n("HDdC"),a=n("DH7j"),u=n("lJxs"),c=n("XoHu");function l(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,a=0;for(let u=0;u<r;u++){const c=Object(s.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,a++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(a===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class h{}const f=new r.u("NgValueAccessor"),d={provide:f,useExisting:Object(r.bb)(()=>p),multi:!0};let p=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o))},t.\u0275dir=r.Ob({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Hb([d]),r.Fb]}),t})();const g={provide:f,useExisting:Object(r.bb)(()=>y),multi:!0},m=new r.u("CompositionEventMode");let y=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.r)()?Object(i.r)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o),r.Tb(m,8))},t.\u0275dir=r.Ob({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.fc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Hb([g])]}),t})();function v(t){return null==t||0===t.length}function b(t){return null!=t&&"number"==typeof t.length}const _=new r.u("NgValidators"),w=new r.u("NgAsyncValidators");function E(t){return null}function S(t){return null!=t}function O(t){const e=Object(r.yb)(t)?Object(s.a)(t):t;return Object(r.xb)(e),e}function T(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function C(t,e){return e.map(e=>e(t))}function I(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function x(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S);return 0==e.length?null:function(t){return T(C(t,e))}}(I(t)):null}function A(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(a.a)(e))return l(e,null);if(Object(c.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(u.a)(t=>e(...t)))}return l(t,null)}(C(t,e).map(O)).pipe(Object(u.a)(T))}}(I(t)):null}function j(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let k=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=x(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t}),t})(),N=(()=>{class t extends k{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return P(e||t)},t.\u0275dir=r.Ob({type:t,features:[r.Fb]}),t})();const P=r.ac(N);class D extends k{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class R{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let L=(()=>{class t extends R{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(D,2))},t.\u0275dir=r.Ob({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Lb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Fb]}),t})(),M=(()=>{class t extends R{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(N,10))},t.\u0275dir=r.Ob({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Lb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Fb]}),t})();function F(t,e){U(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&q(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&q(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function V(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function U(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(j(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(j(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();V(e._rawValidators,n),V(e._rawAsyncValidators,n)}}function q(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function B(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const H="VALID",z="INVALID",$="PENDING",K="DISABLED";function G(t){return(Y(t)?t.validators:t)||null}function Q(t){return Array.isArray(t)?x(t):t||null}function W(t,e){return(Y(e)?e.asyncValidators:t)||null}function X(t){return Array.isArray(t)?A(t):t||null}function Y(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Z{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Q(this._rawValidators),this._composedAsyncValidatorFn=X(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===H}get invalid(){return this.status===z}get pending(){return this.status==$}get disabled(){return this.status===K}get enabled(){return this.status!==K}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Q(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=X(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=K,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=H,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==H&&this.status!==$||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?K:H}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$,this._hasOwnPendingAsyncValidator=!0;const e=O(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof tt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof et&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.q,this.statusChanges=new r.q}_calculateStatus(){return this._allControlsDisabled()?K:this.errors?z:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($)?$:this._anyControlsHaveStatus(z)?z:H}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Y(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class J extends Z{constructor(t=null,e,n){super(G(e),W(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){B(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){B(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class tt extends Z{constructor(t,e,n){super(G(e),W(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof J?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class et extends Z{constructor(t,e,n){super(G(e),W(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof J?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const nt={provide:N,useExisting:Object(r.bb)(()=>it)},rt=(()=>Promise.resolve(null))();let it=(()=>{class t extends N{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.q,this.form=new tt({},x(t),A(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),F(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),B(this._directives,t)})}addFormGroup(t){rt.then(()=>{const e=this._findContainer(t.path),n=new tt({});(function(t,e){U(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){rt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(_,10),r.Tb(w,10))},t.\u0275dir=r.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.fc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Hb([nt]),r.Fb]}),t})();const st={provide:D,useExisting:Object(r.bb)(()=>at)},ot=(()=>Promise.resolve(null))();let at=(()=>{class t extends D{constructor(t,e,n,i){super(),this.control=new J,this._registered=!1,this.update=new r.q,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===y?n=t:Object.getPrototypeOf(t.constructor)===h?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){F(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ot.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ot.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(N,9),r.Tb(_,10),r.Tb(w,10),r.Tb(f,10))},t.\u0275dir=r.Ob({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Hb([st]),r.Fb,r.Gb]}),t})(),ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ct={provide:f,useExisting:Object(r.bb)(()=>lt),multi:!0};let lt=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o))},t.\u0275dir=r.Ob({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Hb([ct]),r.Fb]}),t})();const ht={provide:f,useExisting:Object(r.bb)(()=>pt),multi:!0};let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({}),t})(),dt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Pb)({factory:function(){return new t},token:t,providedIn:ft}),t})(),pt=(()=>{class t extends h{constructor(t,e,n,r){super(),this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(D),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o),r.Tb(dt),r.Tb(r.v))},t.\u0275dir=r.Ob({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Hb([ht]),r.Fb]}),t})();const gt={provide:f,useExisting:Object(r.bb)(()=>yt),multi:!0};function mt(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let yt=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=mt(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o))},t.\u0275dir=r.Ob({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Hb([gt]),r.Fb]}),t})(),vt=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.o),r.Tb(r.L),r.Tb(yt,9))},t.\u0275dir=r.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const bt={provide:f,useExisting:Object(r.bb)(()=>wt),multi:!0};function _t(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let wt=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.L),r.Tb(r.o))},t.\u0275dir=r.Ob({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Hb([bt]),r.Fb]}),t})(),Et=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_t(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_t(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.o),r.Tb(r.L),r.Tb(wt,9))},t.\u0275dir=r.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const St={provide:_,useExisting:Object(r.bb)(()=>Ot),multi:!0};let Ot=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return v(t.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Jb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Hb([St])]}),t})();const Tt={provide:_,useExisting:Object(r.bb)(()=>Ct),multi:!0};let Ct=(()=>{class t{constructor(){this._validator=E}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10),e=>v(e.value)||!b(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Jb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.Hb([Tt]),r.Gb]}),t})();const It={provide:_,useExisting:Object(r.bb)(()=>xt),multi:!0};let xt=(()=>{class t{constructor(){this._validator=E}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10),e=>b(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Jb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.Hb([It]),r.Gb]}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({imports:[[ft]]}),t})(),jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({imports:[At]}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5eHb":function(t,e,n){"use strict";n.d(e,"a",function(){return D}),n.d(e,"b",function(){return k});var r=n("fXoL"),i=n("R0Ic"),s=n("XNiG"),o=n("jhN1"),a=n("ofXK");const u=["toast-component",""];function c(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",5),r.fc("click",function(){return r.pc(t),r.hc().remove()}),r.Yb(1,"span",6),r.wc(2,"\xd7"),r.Xb(),r.Xb()}}function l(t,e){if(1&t&&(r.Wb(0),r.wc(1),r.Vb()),2&t){const t=r.hc(2);r.Ib(1),r.yc("[",t.duplicatesCount+1,"]")}}function h(t,e){if(1&t&&(r.Yb(0,"div"),r.wc(1),r.vc(2,l,2,1,"ng-container",4),r.Xb()),2&t){const t=r.hc();r.Kb(t.options.titleClass),r.Jb("aria-label",t.title),r.Ib(1),r.yc(" ",t.title," "),r.Ib(1),r.lc("ngIf",t.duplicatesCount)}}function f(t,e){if(1&t&&r.Ub(0,"div",7),2&t){const t=r.hc();r.Kb(t.options.messageClass),r.lc("innerHTML",t.message,r.qc)}}function d(t,e){if(1&t&&(r.Yb(0,"div",8),r.wc(1),r.Xb()),2&t){const t=r.hc();r.Kb(t.options.messageClass),r.Jb("aria-label",t.message),r.Ib(1),r.yc(" ",t.message," ")}}function p(t,e){if(1&t&&(r.Yb(0,"div"),r.Ub(1,"div",9),r.Xb()),2&t){const t=r.hc();r.Ib(1),r.tc("width",t.width+"%")}}function g(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",5),r.fc("click",function(){return r.pc(t),r.hc().remove()}),r.Yb(1,"span",6),r.wc(2,"\xd7"),r.Xb(),r.Xb()}}function m(t,e){if(1&t&&(r.Wb(0),r.wc(1),r.Vb()),2&t){const t=r.hc(2);r.Ib(1),r.yc("[",t.duplicatesCount+1,"]")}}function y(t,e){if(1&t&&(r.Yb(0,"div"),r.wc(1),r.vc(2,m,2,1,"ng-container",4),r.Xb()),2&t){const t=r.hc();r.Kb(t.options.titleClass),r.Jb("aria-label",t.title),r.Ib(1),r.yc(" ",t.title," "),r.Ib(1),r.lc("ngIf",t.duplicatesCount)}}function v(t,e){if(1&t&&r.Ub(0,"div",7),2&t){const t=r.hc();r.Kb(t.options.messageClass),r.lc("innerHTML",t.message,r.qc)}}function b(t,e){if(1&t&&(r.Yb(0,"div",8),r.wc(1),r.Xb()),2&t){const t=r.hc();r.Kb(t.options.messageClass),r.Jb("aria-label",t.message),r.Ib(1),r.yc(" ",t.message," ")}}function _(t,e){if(1&t&&(r.Yb(0,"div"),r.Ub(1,"div",9),r.Xb()),2&t){const t=r.hc();r.Ib(1),r.tc("width",t.width+"%")}}class w{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new s.a,this._onAction=new s.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const E={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},S=new r.u("ToastConfig");class O{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class T extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let C=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a.c))},t.\u0275prov=Object(r.Pb)({factory:function(){return new t(Object(r.cc)(a.c))},token:t,providedIn:"root"}),t})();class I{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let x=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new T(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new I(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(C),r.cc(r.l),r.cc(r.g),r.cc(a.c))},t.\u0275prov=Object(r.Pb)({factory:function(){return new t(Object(r.cc)(C),Object(r.cc)(r.l),Object(r.cc)(r.g),Object(r.cc)(a.c))},token:t,providedIn:"root"}),t})();class A{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new s.a,this._activate=new s.a,this._manualClose=new s.a,this._resetTimeout=new s.a,this._countDuplicate=new s.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class j{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===w?this._toastPackage:this._parentInjector.get(t,e,n)}}let k=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.P.HTML,e));const c=new A(a),l=new w(this.index,i,u,n,t,c),h=new j(l,this._injector),f=new O(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.cc(S),r.cc(x),r.cc(r.v),r.cc(o.b),r.cc(r.F))},t.\u0275prov=Object(r.Pb)({factory:function(){return new t(Object(r.cc)(S),Object(r.cc)(x),Object(r.cc)(r.r),Object(r.cc)(o.b),Object(r.cc)(r.F))},token:t,providedIn:"root"}),t})(),N=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(k),r.Tb(w),r.Tb(r.F))},t.\u0275cmp=r.Nb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.uc("@flyInOut",e.state),r.Kb(e.toastClasses),r.tc("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.vc(0,c,3,0,"button",0),r.vc(1,h,3,5,"div",1),r.vc(2,f,1,3,"div",2),r.vc(3,d,2,4,"div",3),r.vc(4,p,2,2,"div",4)),2&t&&(r.lc("ngIf",e.options.closeButton),r.Ib(1),r.lc("ngIf",e.title),r.Ib(1),r.lc("ngIf",e.message&&e.options.enableHtml),r.Ib(1),r.lc("ngIf",e.message&&!e.options.enableHtml),r.Ib(1),r.lc("ngIf",e.options.progressBar))},directives:[a.k],encapsulation:2,data:{animation:[Object(i.j)("flyInOut",[Object(i.g)("inactive",Object(i.h)({opacity:0})),Object(i.g)("active",Object(i.h)({opacity:1})),Object(i.g)("removed",Object(i.h)({opacity:0})),Object(i.i)("inactive => active",Object(i.e)("{{ easeTime }}ms {{ easing }}")),Object(i.i)("active => removed",Object(i.e)("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const P=Object.assign(Object.assign({},E),{toastComponent:N});let D=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:S,useValue:{default:P,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({imports:[[a.b]]}),t})(),R=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(k),r.Tb(w),r.Tb(r.g))},t.\u0275cmp=r.Nb({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Kb(e.toastClasses),r.tc("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.vc(0,g,3,0,"button",0),r.vc(1,y,3,5,"div",1),r.vc(2,v,1,3,"div",2),r.vc(3,b,2,4,"div",3),r.vc(4,_,2,2,"div",4)),2&t&&(r.lc("ngIf",e.options.closeButton),r.Ib(1),r.lc("ngIf",e.title),r.Ib(1),r.lc("ngIf",e.message&&e.options.enableHtml),r.Ib(1),r.lc("ngIf",e.message&&!e.options.enableHtml),r.Ib(1),r.lc("ngIf",e.options.progressBar))},directives:[a.k],encapsulation:2}),t})();Object.assign(Object.assign({},E),{toastComponent:R})},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("bHdf");function s(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.3","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},R0Ic:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return o}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return g});class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function u(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function f(t){Promise.resolve(null).then(t)}class d{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class p{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?f(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const g="!"},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return An}),n.d(e,"b",function(){return Fd}),n.d(e,"c",function(){return Pd}),n.d(e,"d",function(){return kd}),n.d(e,"e",function(){return Nd}),n.d(e,"f",function(){return kp}),n.d(e,"g",function(){return wp}),n.d(e,"h",function(){return M}),n.d(e,"i",function(){return Ih}),n.d(e,"j",function(){return Wd}),n.d(e,"k",function(){return Ed}),n.d(e,"l",function(){return Yl}),n.d(e,"m",function(){return qd}),n.d(e,"n",function(){return wd}),n.d(e,"o",function(){return eh}),n.d(e,"p",function(){return Si}),n.d(e,"q",function(){return xf}),n.d(e,"r",function(){return Ao}),n.d(e,"s",function(){return or}),n.d(e,"t",function(){return N}),n.d(e,"u",function(){return xn}),n.d(e,"v",function(){return $o}),n.d(e,"w",function(){return Od}),n.d(e,"x",function(){return _h}),n.d(e,"y",function(){return Eh}),n.d(e,"z",function(){return Ud}),n.d(e,"A",function(){return Ad}),n.d(e,"B",function(){return Fh}),n.d(e,"C",function(){return Sp}),n.d(e,"D",function(){return Mh}),n.d(e,"E",function(){return mp}),n.d(e,"F",function(){return Zd}),n.d(e,"G",function(){return ar}),n.d(e,"H",function(){return Td}),n.d(e,"I",function(){return Md}),n.d(e,"J",function(){return Ld}),n.d(e,"K",function(){return Sd}),n.d(e,"L",function(){return ih}),n.d(e,"M",function(){return rh}),n.d(e,"N",function(){return Ni}),n.d(e,"O",function(){return oh}),n.d(e,"P",function(){return li}),n.d(e,"Q",function(){return cr}),n.d(e,"R",function(){return Cp}),n.d(e,"S",function(){return Ph}),n.d(e,"T",function(){return sp}),n.d(e,"U",function(){return Nn}),n.d(e,"V",function(){return uh}),n.d(e,"W",function(){return ah}),n.d(e,"X",function(){return Uh}),n.d(e,"Y",function(){return F}),n.d(e,"Z",function(){return yp}),n.d(e,"ab",function(){return pp}),n.d(e,"bb",function(){return g}),n.d(e,"cb",function(){return dp}),n.d(e,"db",function(){return Ap}),n.d(e,"eb",function(){return up}),n.d(e,"fb",function(){return Vd}),n.d(e,"gb",function(){return ko}),n.d(e,"hb",function(){return Rc}),n.d(e,"ib",function(){return ui}),n.d(e,"jb",function(){return zr}),n.d(e,"kb",function(){return Nr}),n.d(e,"lb",function(){return Dr}),n.d(e,"mb",function(){return Fr}),n.d(e,"nb",function(){return Lr}),n.d(e,"ob",function(){return Rr}),n.d(e,"pb",function(){return Mr}),n.d(e,"qb",function(){return kc}),n.d(e,"rb",function(){return xp}),n.d(e,"sb",function(){return Nc}),n.d(e,"tb",function(){return Pc}),n.d(e,"ub",function(){return Pr}),n.d(e,"vb",function(){return H}),n.d(e,"wb",function(){return sa}),n.d(e,"xb",function(){return Ga}),n.d(e,"yb",function(){return $a}),n.d(e,"zb",function(){return Ka}),n.d(e,"Ab",function(){return jc}),n.d(e,"Bb",function(){return Zh}),n.d(e,"Cb",function(){return Pt}),n.d(e,"Db",function(){return f}),n.d(e,"Eb",function(){return kr}),n.d(e,"Fb",function(){return Qo}),n.d(e,"Gb",function(){return Tt}),n.d(e,"Hb",function(){return Ql}),n.d(e,"Ib",function(){return xs}),n.d(e,"Jb",function(){return da}),n.d(e,"Kb",function(){return xu}),n.d(e,"Lb",function(){return Tu}),n.d(e,"Mb",function(){return Bf}),n.d(e,"Nb",function(){return et}),n.d(e,"Ob",function(){return ct}),n.d(e,"Pb",function(){return S}),n.d(e,"Qb",function(){return O}),n.d(e,"Rb",function(){return ot}),n.d(e,"Sb",function(){return lt}),n.d(e,"Tb",function(){return Da}),n.d(e,"Ub",function(){return Ua}),n.d(e,"Vb",function(){return Ba}),n.d(e,"Wb",function(){return qa}),n.d(e,"Xb",function(){return Va}),n.d(e,"Yb",function(){return Fa}),n.d(e,"Zb",function(){return za}),n.d(e,"ac",function(){return yn}),n.d(e,"bc",function(){return Tc}),n.d(e,"cc",function(){return nr}),n.d(e,"dc",function(){return bn}),n.d(e,"ec",function(){return Qf}),n.d(e,"fc",function(){return Qa}),n.d(e,"gc",function(){return Hf}),n.d(e,"hc",function(){return Ja}),n.d(e,"ic",function(){return bf}),n.d(e,"jc",function(){return _f}),n.d(e,"kc",function(){return wf}),n.d(e,"lc",function(){return La}),n.d(e,"mc",function(){return sf}),n.d(e,"nc",function(){return Uf}),n.d(e,"oc",function(){return Pa}),n.d(e,"pc",function(){return ee}),n.d(e,"qc",function(){return hi}),n.d(e,"rc",function(){return di}),n.d(e,"sc",function(){return at}),n.d(e,"tc",function(){return Ou}),n.d(e,"uc",function(){return Cc}),n.d(e,"vc",function(){return Na}),n.d(e,"wc",function(){return qu}),n.d(e,"xc",function(){return Bu}),n.d(e,"yc",function(){return Hu}),n.d(e,"zc",function(){return zu}),n.d(e,"Ac",function(){return $u});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function E(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,x)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=l({"\u0275prov":l}),A=l({"\u0275inj":l}),j=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function L(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=V||B||U||q,z={},$=[],K=[],G=l({"\u0275cmp":l}),Q=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),X=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let tt=0;function et(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=tt++,n.inputs=ut(t.inputs,e),n.outputs=ut(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(rt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(it):null,n})}function nt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(rt),r.pipeDefs=()=>n.map(it)}function rt(t){return ht(t)||ft(t)}function it(t){return dt(t)}const st={};function ot(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{st[t.id]=t.type}),e}function at(t,e){return L(()=>{const n=pt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function ut(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ct=et;function lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ht(t){return t[G]||null}function ft(t){return t[Q]||null}function dt(t){return t[W]||null}function pt(t,e){const n=t[X]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const gt=20,mt=10;function yt(t){return Array.isArray(t)&&"object"==typeof t[1]}function vt(t){return Array.isArray(t)&&!0===t[1]}function bt(t){return 0!=(8&t.flags)}function _t(t){return 2==(2&t.flags)}function wt(t){return 1==(1&t.flags)}function Et(t){return null!==t.template}function St(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tt(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ot(u&&u.currentValue,e,o===z),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Tt.ngInherit=!0;const jt="http://www.w3.org/2000/svg",kt="http://www.w3.org/1998/MathML/";let Nt;function Pt(t){Nt=t}function Dt(){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}function Rt(t){return!!t.listen}const Lt={createRenderer:(t,e)=>Dt()};function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function Ft(t,e){return Mt(e[t])}function Vt(t,e){return Mt(e[t.index])}function Ut(t,e){return t.data[e]}function qt(t,e){return t[e]}function Bt(t,e){const n=e[t];return yt(n)?n:n[0]}function Ht(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function zt(t){return 4==(4&t[2])}function $t(t){return 128==(128&t[2])}function Kt(t,e){return null==e?null:t[e]}function Gt(t){t[18]=0}function Qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Wt={lFrame:Te(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xt(){return Wt.bindingsEnabled}function Yt(){Wt.bindingsEnabled=!0}function Zt(){Wt.bindingsEnabled=!1}function Jt(){return Wt.lFrame.lView}function te(){return Wt.lFrame.tView}function ee(t){Wt.lFrame.contextLView=t}function ne(){let t=re();for(;null!==t&&64===t.type;)t=t.parent;return t}function re(){return Wt.lFrame.currentTNode}function ie(){const t=Wt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function se(t,e){const n=Wt.lFrame;n.currentTNode=t,n.isParent=e}function oe(){return Wt.lFrame.isParent}function ae(){Wt.lFrame.isParent=!1}function ue(){return Wt.isInCheckNoChangesMode}function ce(t){Wt.isInCheckNoChangesMode=t}function le(){const t=Wt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function he(){return Wt.lFrame.bindingIndex}function fe(t){return Wt.lFrame.bindingIndex=t}function de(){return Wt.lFrame.bindingIndex++}function pe(t){const e=Wt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ge(t){Wt.lFrame.inI18n=t}function me(t,e){const n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ye(e)}function ye(t){Wt.lFrame.currentDirectiveIndex=t}function ve(t){const e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function be(){return Wt.lFrame.currentQueryIndex}function _e(t){Wt.lFrame.currentQueryIndex=t}function we(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ee(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=we(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Wt.lFrame=Oe();return r.currentTNode=e,r.lView=t,!0}function Se(t){const e=Oe(),n=t[1];Wt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Oe(){const t=Wt.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ce(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ie=Ce;function xe(){const t=Ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return Wt.lFrame.selectedIndex}function je(t){Wt.lFrame.selectedIndex=t}function ke(){const t=Wt.lFrame;return Ut(t.tView,t.selectedIndex)}function Ne(){Wt.lFrame.currentNamespace=jt}function Pe(){Wt.lFrame.currentNamespace=kt}function De(){Wt.lFrame.currentNamespace=null}function Re(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Le(t,e,n){Ve(t,e,3,n)}function Me(t,e,n,r){(3&t[2])===n&&Ve(t,e,n,r)}function Fe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ve(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ue(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ue(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const qe=-1;class Be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function He(t,e,n){const r=Rt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];$e(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function $e(t){return 64===t.charCodeAt(0)}function Ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ge(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Qe(t){return t!==qe}function We(t){return 32767&t}function Xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ye=!0;function Ze(t){const e=Ye;return Ye=t,e}let Je=0;function tn(t,e){const n=nn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,en(r.data,t),en(e,null),en(r.blueprint,null));const i=rn(t,e),s=t.injectorIndex;if(Qe(i)){const t=We(i),n=Xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function en(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return qe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return qe}function sn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Je++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function on(t,e,n){if(n&N.Optional)return t;w(e,"NodeInjector")}function an(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(s)}}return on(r,e,n)}function un(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:ln:e}(n);if("function"==typeof s){if(!Ee(e,t,r))return r&N.Host?on(i,n,r):an(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;w(n)}finally{Ie()}}else if("number"==typeof s){let i=null,o=nn(t,e),a=qe,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?rn(t,e):e[o+8],a!==qe&&gn(r,!1)?(i=e[1],o=We(a),e=Xe(a,e)):o=-1);-1!==o;){const t=e[1];if(pn(s,o,t.data)){const t=hn(o,e,n,i,r,u);if(t!==cn)return t}a=e[o+8],a!==qe&&gn(r,e[1].data[o+8]===u)&&pn(s,o,e)?(i=t,o=We(a),e=Xe(a,e)):o=-1}}}return an(e,n,r,i)}const cn={};function ln(){return new mn(ne(),Jt())}function hn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=fn(a,o,n,null==r?_t(a)&&Ye:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?dn(e,o,u,a):cn}function fn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Et(t)&&t.type===n)return u}return null}function dn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Be){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Ze(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;Ee(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Ze(a),o.resolving=!1,Ie()}}return i}function pn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function gn(t,e){return!(t&N.Self||t&N.Host&&e)}class mn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return un(this._tNode,this._lView,t,void 0,e)}}function yn(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||vn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||vn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function vn(t){return y(t)?()=>{const e=vn(m(t));return e&&e()}:St(t)}function bn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ne(),t)}const _n="__annotations__",wn="__parameters__",En="__prop__metadata__";function Sn(t,e,n,r,i){return L(()=>{const s=On(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(_n)?n[_n]:Object.defineProperty(n,_n,{value:[]})[_n]).push(e),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function On(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function Tn(t,e,n){return L(()=>{const r=On(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(wn)?t[wn]:Object.defineProperty(t,wn,{value:[]})[wn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Cn(t,e,n,r){return L(()=>{const i=On(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(En)?s[En]:Object.defineProperty(s,En,{value:{}})[En];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(e),r&&r(n,i,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const In=function(){return Tn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>bn(t)}))}();class xn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const An=new xn("AnalyzeForEntryComponents");var jn=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function kn(){const t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Nn=Function;function Pn(t){return"function"==typeof t}function Dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Dn(r,e)):e!==t&&e.push(r)}return e}function Rn(t,e){t.forEach(t=>Array.isArray(t)?Rn(t,e):e(t))}function Ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Fn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vn(t,e,n){let r=qn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Un(t,e){const n=qn(t,e);if(n>=0)return t[1|n]}function qn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Bn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Hn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,zn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$n=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Kn{constructor(t){this._reflect=t||H.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Fn(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Bn.test(n)||$n.test(n)||Hn.test(n)&&!zn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Gn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(wn)&&t[wn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):Fn(t.length)}parameters(t){if(!Pn(t))return[];const e=Qn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Gn(t.decorators):t.hasOwnProperty(_n)?t[_n]:null}annotations(t){if(!Pn(t))return[];const e=Qn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Gn(e[t])}),n}return t.hasOwnProperty(En)?t[En]:null}propMetadata(t){if(!Pn(t))return{};const e=Qn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Pn(t)&&this._ownPropMetadata(t,Qn(t))||{}}hasLifecycleHook(t,e){return t instanceof Nn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${f(t)}`}resourceUri(t){return`./${f(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Gn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Qn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Wn={},Xn=/\n/gm,Yn="__source",Zn=l({provide:String,useValue:l});let Jn;function tr(t){const e=Jn;return Jn=t,e}function er(t,e=N.Default){if(void 0===Jn)throw new Error("inject() must be called from an injection context");return null===Jn?R(t,void 0,e):Jn.get(t,e&N.Optional?null:void 0,e)}function nr(t,e=N.Default){return(P||er)(m(t),e)}function rr(t){throw new Error("invalid")}function ir(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(nr(t,n))}else e.push(nr(r))}return e}function sr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const or=sr(Tn("Inject",t=>({token:t})),-1),ar=sr(Tn("Optional"),8),ur=sr(Tn("Self"),2),cr=sr(Tn("SkipSelf"),4),lr=sr(Tn("Host"),1);let hr=null;function fr(){return hr=hr||new Kn}function dr(t){return function(t){const e=kn();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const s=e[i];if(void 0===s)continue;const o=Object.getPrototypeOf(s);if(s instanceof ar||"Optional"===o.ngMetadataName)n.optional=!0;else if(s instanceof cr||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(s instanceof ur||"Self"===o.ngMetadataName)n.self=!0;else if(s instanceof lr||"Host"===o.ngMetadataName)n.host=!0;else if(s instanceof or)n.token=s.token;else if(s instanceof In){if(void 0===s.attributeName)throw new Error("Attribute name must be defined.");n.token=s.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else!0===s.__ChangeDetectorRef__?(n.token=s,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(s)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=jn.Invalid):r(e);return n}(e,t))}(fr().parameters(t))}let pr=new Map;const gr=new Set;function mr(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}let yr,vr;function br(){if(void 0===yr&&(yr=null,H.trustedTypes))try{yr=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return yr}function _r(t){var e;return(null===(e=br())||void 0===e?void 0:e.createHTML(t))||t}function wr(){if(void 0===vr&&(vr=null,H.trustedTypes))try{vr=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return vr}function Er(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createHTML(t))||t}function Sr(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createScript(t))||t}function Or(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createScriptURL(t))||t}class Tr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cr extends Tr{getTypeName(){return"HTML"}}class Ir extends Tr{getTypeName(){return"Style"}}class xr extends Tr{getTypeName(){return"Script"}}class Ar extends Tr{getTypeName(){return"URL"}}class jr extends Tr{getTypeName(){return"ResourceURL"}}function kr(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function Nr(t,e){const n=Pr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pr(t){return t instanceof Tr&&t.getTypeName()||null}function Dr(t){return new Cr(t)}function Rr(t){return new Ir(t)}function Lr(t){return new xr(t)}function Mr(t){return new Ar(t)}function Fr(t){return new jr(t)}function Vr(t){const e=new qr(t);return function(){try{return!!(new window.DOMParser).parseFromString(_r(""),"text/html")}catch(t){return!1}}()?new Ur(e):e}class Ur{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_r(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_r(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=_r(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Br=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zr(t){return(t=String(t)).match(Br)||t.match(Hr)?t:"unsafe:"+t}function $r(t){return(t=String(t)).split(",").map(t=>zr(t.trim())).join(", ")}function Kr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qr=Kr("area,br,col,hr,img,wbr"),Wr=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xr=Kr("rp,rt"),Yr=Gr(Xr,Wr),Zr=Gr(Qr,Gr(Wr,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gr(Xr,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yr),Jr=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ti=Kr("srcset"),ei=Gr(Jr,ti,Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ni=Kr("script,style,template");class ri{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Zr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ni.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!ei.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Jr[i]&&(s=zr(s)),ti[i]&&(s=$r(s)),this.buf.push(" ",e,'="',oi(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Zr.hasOwnProperty(e)&&!Qr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(oi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ii=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,si=/([^\#-~ |!])/g;function oi(t){return t.replace(/&/g,"&amp;").replace(ii,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(si,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ai;function ui(t,e){let n=null;try{ai=ai||Vr(t);let r=e?String(e):"";n=ai.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ai.getInertBodyElement(r)}while(r!==s);return _r((new ri).sanitizeChildren(ci(n)||n))}finally{if(n){const t=ci(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ci(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var li=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hi(t){const e=bi();return e?Er(e.sanitize(li.HTML,t)||""):Nr(t,"HTML")?Er(kr(t)):ui(Dt(),b(t))}function fi(t){const e=bi();return e?e.sanitize(li.STYLE,t)||"":Nr(t,"Style")?kr(t):b(t)}function di(t){const e=bi();return e?e.sanitize(li.URL,t)||"":Nr(t,"URL")?kr(t):zr(b(t))}function pi(t){const e=bi();if(e)return Or(e.sanitize(li.RESOURCE_URL,t)||"");if(Nr(t,"ResourceURL"))return Or(kr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function gi(t){const e=bi();if(e)return Sr(e.sanitize(li.SCRIPT,t)||"");if(Nr(t,"Script"))return Sr(kr(t));throw new Error("unsafe value used in a script context")}function mi(t){return _r(t[0])}function yi(t){return function(t){var e;return(null===(e=br())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function vi(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?pi:di}(e,n)(t)}function bi(){const t=Jt();return t&&t[12]}function _i(t){return t.ngDebugContext}function wi(t){return t.ngOriginalError}function Ei(t,...e){t.error(...e)}class Si{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ei}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_i(t)?_i(t):this._findContext(wi(t)):null}_findOriginalError(t){let e=wi(t);for(;e&&wi(e);)e=wi(e);return e}}const Oi=/^>|^->|<!--|-->|--!>|<!-$/g,Ti=/(<|>)/;function Ci(t,e){t.__ngContext__=e}const Ii=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function xi(t){return{name:"window",target:t.ownerDocument.defaultView}}function Ai(t){return{name:"document",target:t.ownerDocument}}function ji(t){return{name:"body",target:t.ownerDocument.body}}function ki(t){return t instanceof Function?t():t}var Ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Pi;function Di(t,e){return Pi(t,e)}function Ri(t){const e=t[3];return vt(e)?e[3]:e}function Li(t){return Fi(t[13])}function Mi(t){return Fi(t[4])}function Fi(t){for(;null!==t&&!vt(t);)t=t[4];return t}function Vi(t,e,n,r,i){if(null!=r){let s,o=!1;vt(r)?s=r:yt(r)&&(o=!0,r=r[0]);const a=Mt(r);0===t&&null!==n?null==i?Yi(e,n,a):Xi(e,n,a,i||null,!0):1===t&&null!==n?Xi(e,n,a,i||null,!0):2===t?cs(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Mt(n)&&Vi(e,t,r,s,i);for(let o=mt;o<n.length;o++){const i=n[o];hs(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ui(t,e){return Rt(t)?t.createText(e):t.createTextNode(e)}function qi(t,e,n){Rt(t)?t.setValue(e,n):e.textContent=n}function Bi(t,e){return t.createComment(function(t){return t.replace(Oi,t=>t.replace(Ti,"\u200b$1\u200b"))}(e))}function Hi(t,e,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Qt(i,-1)),n.splice(r,1)}function $i(t,e){if(t.length<=mt)return;const n=mt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&zi(s,r),e>0&&(t[n-1][4]=r[4]);const o=Mn(t,mt+e);hs(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ki(t,e){if(!(256&e[2])){const n=e[11];Rt(n)&&n.destroyNode&&hs(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gi(t[1],t);for(;e;){let n=null;if(yt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)yt(e)&&Gi(e[1],e),e=e[3];null===e&&(e=t),yt(e)&&Gi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Mt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Rt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&vt(e[3])){n!==e[3]&&zi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Qi(t,e,n){return Wi(t,e.parent,n)}function Wi(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Vt(r,n)}function Xi(t,e,n,r,i){Rt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Yi(t,e,n){Rt(t)?t.appendChild(e,n):e.appendChild(n)}function Zi(t,e,n,r,i){null!==r?Xi(t,e,n,r,i):Yi(t,e,n)}function Ji(t,e){return Rt(t)?t.parentNode(e):e.parentNode}function ts(t,e,n){return rs(t,e,n)}function es(t,e,n){return 40&t.type?Vt(t,n):null}let ns,rs=es;function is(t,e){rs=t,ns=e}function ss(t,e,n,r){const i=Qi(t,r,e),s=e[11],o=ts(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Zi(s,i,n[a],o,!1);else Zi(s,i,n,o,!1);void 0!==ns&&ns(s,r,e,n,i)}function os(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return us(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return os(t,n);{const n=t[e.index];return vt(n)?us(-1,n):Mt(n)}}if(32&n)return Di(e,t)()||Mt(t[e.index]);{const n=as(t,e);return null!==n?Array.isArray(n)?n[0]:os(Ri(t[16]),n):os(t,e.next)}}return null}function as(t,e){return null!==e?t[16][6].projection[e.projection]:null}function us(t,e){const n=mt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return os(t,r)}return e[7]}function cs(t,e,n){const r=Ji(t,e);r&&function(t,e,n,r){Rt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ls(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ci(Mt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ls(t,e,n.child,r,i,s,!1),Vi(e,t,i,a,s);else if(32&u){const o=Di(n,r);let u;for(;u=o();)Vi(e,t,i,u,s);Vi(e,t,i,a,s)}else 16&u?fs(t,e,r,n,i,s):Vi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function hs(t,e,n,r,i,s){ls(n,r,t.firstChild,e,i,s,!1)}function fs(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Vi(e,t,i,a[u],s);else ls(t,e,a,o[3],i,s,!0)}function ds(t,e,n){Rt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ps(t,e,n){Rt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function gs(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ms="ng-template";function ys(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==gs(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vs(t){return 4===t.type&&t.value!==ms}function bs(t,e,n){return e===(4!==t.type||n?t.value:ms)}function _s(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!bs(t,u,n)||""===u&&1===e.length){if(ws(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ys(t.attrs,c,n)){if(ws(r))return!1;o=!0}continue}const l=Es(8&r?"class":u,i,vs(t),n);if(-1===l){if(ws(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==gs(e,c,0)||2&r&&c!==t){if(ws(r))return!1;o=!0}}}}else{if(!o&&!ws(r)&&!ws(u))return!1;if(o&&ws(u))continue;o=!1,r=u|1&r}}return ws(r)||o}function ws(t){return 0==(1&t)}function Es(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ss(t,e,n=!1){for(let r=0;r<e.length;r++)if(_s(t,e[r],n))return!0;return!1}function Os(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ts(t,e){return t?":not("+e.trim()+")":e}function Cs(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ws(o)||(e+=Ts(s,i),i=""),r=o,s=s||!ws(r);n++}return""!==i&&(e+=Ts(s,i)),e}const Is={};function xs(t){As(te(),Jt(),Ae()+t,ue())}function As(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Le(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Me(e,r,0,n)}je(n)}function js(t,e){return t<<17|e<<2}function ks(t){return t>>17&32767}function Ns(t){return 2|t}function Ps(t){return(131068&t)>>2}function Ds(t,e){return-131069&t|e<<2}function Rs(t){return 1|t}function Ls(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];_e(i),n.contentQueries(2,e[s],s)}}}function Ms(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Gt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Fs(t,e,n,r,i){let s=t.data[e];if(null===s)s=Vs(t,e,n,r,i),Wt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=ie();s.injectorIndex=null===t?-1:t.injectorIndex}return se(s,!0),s}function Vs(t,e,n,r,i){const s=re(),o=oe(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Us(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qs(t,e,n){Se(e);try{const r=t.viewQuery;null!==r&&_o(1,r,n);const i=t.template;null!==i&&zs(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ls(t,e),t.staticViewQueries&&_o(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)go(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,xe()}}function Bs(t,e,n,r){const i=e[2];if(256==(256&i))return;Se(e);const s=ue();try{Gt(e),fe(t.bindingStartIndex),null!==n&&zs(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Le(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Me(e,n,0,null),Fe(e,0)}if(function(t){for(let e=Li(t);null!==e;e=Mi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Li(t);null!==e;e=Mi(e))for(let t=mt;t<e.length;t++){const n=e[t],r=n[1];$t(n)&&Bs(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ls(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Le(e,n)}else{const n=t.contentHooks;null!==n&&Me(e,n,1),Fe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)je(~r);else{const i=r,s=n[++t],o=n[++t];me(s,i),o(2,e[i])}}}finally{je(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_o(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Le(e,n)}else{const n=t.viewHooks;null!==n&&Me(e,n,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Qt(e[3],-1))}finally{xe()}}function Hs(t,e,n,r){const i=e[10],s=!ue(),o=zt(e);try{s&&!o&&i.begin&&i.begin(),o&&qs(t,e,r),Bs(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function zs(t,e,n,r,i){const s=Ae(),o=2&r;try{je(-1),o&&e.length>gt&&As(t,e,gt,ue()),n(r,i)}finally{je(s)}}function $s(t,e,n){if(bt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ks(t,e,n){Xt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||tn(n,e),Ci(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Et(r);s&&oo(e,n,r);const u=dn(e,t,a,n);Ci(u,e),null!==o&&co(0,a-i,u,r,0,o),s&&(Bt(n.index,e)[8]=u)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Wt.lFrame.currentDirectiveIndex;try{je(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ye(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||eo(r,i)}}finally{je(-1),ye(o)}}(t,e,n))}function Gs(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Qs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ws(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ws(t,e,n,r,i,s,o,a,u,c){const l=gt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Is);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Xs(t,e,n,r){const i=Eo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&So(t).push(r,i.length-1))}function Ys(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Zs(t,e,n,r,i,s,o,a){const u=Vt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Co(t,n,c,r,i),_t(e)&&function(t,e){const n=Bt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Rt(s)?s.setProperty(u,r,i):$e(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Js(t,e,n,r){let i=!1;if(Xt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Ss(n,o.selectors,!1)&&(i||(i=[]),sn(tn(n,e),t,o.type),Et(o)?(no(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,io(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Us(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ke(n.mergedAttrs,c.hostAttrs),so(t,n,e,u,c),ro(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vs(e)?null:lo(n,i);s.push(c),o=Ys(n,u,o),a=Ys(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ke(n.mergedAttrs,n.attrs),i}function to(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function eo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function no(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ro(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Et(e)&&(n[""]=t)}}function io(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function so(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=St(i.type)),o=new Be(s,Et(i),null);t.blueprint[r]=o,n[r]=o,to(t,e,0,r,Us(t,n,i.hostVars,Is),i)}function oo(t,e,n){const r=Vt(e,t),i=Qs(n),s=t[10],o=mo(t,Ms(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function ao(t,e,n,r,i,s){const o=Vt(t,e);uo(e[11],o,s,t.value,n,r,i)}function uo(t,e,n,r,i,s,o){if(null==s)Rt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);Rt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function co(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function lo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ho(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fo(t,e){const n=Bt(e,t);if($t(n)){const t=n[1];80&n[2]?Bs(t,n,t.template,n[8]):n[5]>0&&po(n)}}function po(t){for(let n=Li(t);null!==n;n=Mi(n))for(let t=mt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Bs(t,e,t.template,e[8])}else e[5]>0&&po(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Bt(e[n],t);$t(r)&&r[5]>0&&po(r)}}function go(t,e){const n=Bt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qs(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function yo(t){for(;t;){t[2]|=64;const e=Ri(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function vo(t,e,n){const r=e[10];r.begin&&r.begin();try{Bs(t,e,t.template,n)}catch(i){throw To(e,i),i}finally{r.end&&r.end()}}function bo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ht(n),i=r[1];Hs(i,r,i.template,n)}}(t[8])}function _o(t,e,n){_e(0),e(t,n)}const wo=(()=>Promise.resolve(null))();function Eo(t){return t[7]||(t[7]=[])}function So(t){return t.cleanup||(t.cleanup=[])}function Oo(t,e,n){return(null===t||Et(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function To(t,e){const n=t[9],r=n?n.get(Si,null):null;r&&r.handleError(e)}function Co(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Io(t,e,n){const r=Ft(e,t);qi(t[11],r,n)}function xo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ao=new xn("INJECTOR",-1);class jo{get(t,e=Wn){if(e===Wn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const ko=new xn("Set Injector scope."),No={},Po={},Do=[];let Ro;function Lo(){return void 0===Ro&&(Ro=new jo),Ro}function Mo(t,e=null,n=null,r){return new Fo(t,n,e||Lo(),r)}class Fo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Rn(e,n=>this.processProvider(n,t,e)),Rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ao,qo(void 0,this));const s=this.records.get(ko);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Wn,n=N.Default){this.assertNotDestroyed();const r=tr(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof xn)&&T(t);e=n&&this.injectableDefInScope(n)?qo(Vo(t),No):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?Lo():this.parent).get(t,e=n&N.Optional&&e===Wn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Yn]&&i.unshift(e[Yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Xn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Rn(r,t=>this.processProvider(t,n,r||Do))}}this.injectorDefTypes.add(s);const a=St(s)||(()=>new s);this.records.set(s,qo(a,No));const u=r.providers;if(null!=u&&!o){const e=t;Rn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ho(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return Bo(t)?qo(void 0,t.useValue):qo(Uo(t),No)}(t);if(Ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=qo(void 0,No,!0),e.factory=()=>ir(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===No&&(e.value=Po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Vo(t){const e=T(t),n=null!==e?e.factory:St(t);if(null!==n)return n;if(t instanceof xn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Fn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Uo(t,e,n){let r;if(Ho(t)){const e=m(t);return St(e)||Vo(e)}if(Bo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ir(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>nr(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return St(e)||Vo(e);r=()=>new e(...ir(t.deps))}var i;return r}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bo(t){return null!==t&&"object"==typeof t&&Zn in t}function Ho(t){return"function"==typeof t}const zo=function(t,e,n){return function(t,e=null,n=null,r){const i=Mo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let $o=(()=>{class t{static create(t,e){return Array.isArray(t)?zo(t,e,""):zo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Wn,t.NULL=new jo,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>nr(Ao)}),t.__NG_ELEMENT_ID__=-1,t})();function Ko(t,e){Re(Ht(t)[1],ne())}function Go(t){return Object.getPrototypeOf(t.prototype).constructor}function Qo(t){let e=Go(t.type),n=!0;const r=[t];for(;e;){let i;if(Et(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Wo(t.inputs),e.declaredInputs=Wo(t.declaredInputs),e.outputs=Wo(t.outputs);const n=i.hostBindings;n&&Zo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Xo(t,s),o&&Yo(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),Et(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Qo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ke(i.hostAttrs,n=Ke(n,i.hostAttrs))}}(r)}function Wo(t){return t===z?{}:t===K?[]:t}function Xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Yo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Zo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Jo=["providersResolver"],ta=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ea(t){let e,n=Go(t.type);e=Et(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Jo)r[i]=e[i];if(Et(e))for(const i of ta)r[i]=e[i]}let na=null;function ra(){if(!na){const t=H.Symbol;if(t&&t.iterator)na=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(na=n)}}}return na}class ia{constructor(t){this.wrapped=t}static wrap(t){return new ia(t)}static unwrap(t){return ia.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ia}}function sa(t){return!!oa(t)&&(Array.isArray(t)||!(t instanceof Map)&&ra()in t)}function oa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function aa(t,e,n){return t[e]=n}function ua(t,e){return t[e]}function ca(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function la(t,e,n,r){const i=ca(t,e,n);return ca(t,e+1,r)||i}function ha(t,e,n,r,i){const s=la(t,e,n,r);return ca(t,e+2,i)||s}function fa(t,e,n,r,i,s){const o=la(t,e,n,r);return la(t,e+2,i,s)||o}function da(t,e,n,r){const i=Jt();return ca(i,de(),e)&&(te(),ao(ke(),i,t,e,n,r)),da}function pa(t,e){let n=!1,r=he();for(let s=1;s<e.length;s+=2)n=ca(t,r++,e[s])||n;if(fe(r),!n)return Is;let i=e[0];for(let s=1;s<e.length;s+=2)i+=b(e[s])+e[s+1];return i}function ga(t,e,n,r){return ca(t,de(),n)?e+b(n)+r:Is}function ma(t,e,n,r,i,s){const o=la(t,he(),n,i);return pe(2),o?e+b(n)+r+b(i)+s:Is}function ya(t,e,n,r,i,s,o,a){const u=ha(t,he(),n,i,o);return pe(3),u?e+b(n)+r+b(i)+s+b(o)+a:Is}function va(t,e,n,r,i,s,o,a,u,c){const l=fa(t,he(),n,i,o,u);return pe(4),l?e+b(n)+r+b(i)+s+b(o)+a+b(u)+c:Is}function ba(t,e,n,r,i,s,o,a,u,c,l,h){const f=he();let d=fa(t,f,n,i,o,u);return d=ca(t,f+4,l)||d,pe(5),d?e+b(n)+r+b(i)+s+b(o)+a+b(u)+c+b(l)+h:Is}function _a(t,e,n,r,i,s,o,a,u,c,l,h,f,d){const p=he();let g=fa(t,p,n,i,o,u);return g=la(t,p+4,l,f)||g,pe(6),g?e+b(n)+r+b(i)+s+b(o)+a+b(u)+c+b(l)+h+b(f)+d:Is}function wa(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g){const m=he();let y=fa(t,m,n,i,o,u);return y=ha(t,m+4,l,f,p)||y,pe(7),y?e+b(n)+r+b(i)+s+b(o)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g:Is}function Ea(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y){const v=he();let _=fa(t,v,n,i,o,u);return _=fa(t,v+4,l,f,p,m)||_,pe(8),_?e+b(n)+r+b(i)+s+b(o)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g+b(m)+y:Is}function Sa(t,e,n,r,i,s){const o=Jt(),a=ga(o,e,n,r);return a!==Is&&ao(ke(),o,t,a,i,s),Sa}function Oa(t,e,n,r,i,s,o,a){const u=Jt(),c=ma(u,e,n,r,i,s);return c!==Is&&ao(ke(),u,t,c,o,a),Oa}function Ta(t,e,n,r,i,s,o,a,u,c){const l=Jt(),h=ya(l,e,n,r,i,s,o,a);return h!==Is&&ao(ke(),l,t,h,u,c),Ta}function Ca(t,e,n,r,i,s,o,a,u,c,l,h){const f=Jt(),d=va(f,e,n,r,i,s,o,a,u,c);return d!==Is&&ao(ke(),f,t,d,l,h),Ca}function Ia(t,e,n,r,i,s,o,a,u,c,l,h,f,d){const p=Jt(),g=ba(p,e,n,r,i,s,o,a,u,c,l,h);return g!==Is&&ao(ke(),p,t,g,f,d),Ia}function xa(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g){const m=Jt(),y=_a(m,e,n,r,i,s,o,a,u,c,l,h,f,d);return y!==Is&&ao(ke(),m,t,y,p,g),xa}function Aa(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y){const v=Jt(),b=wa(v,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g);return b!==Is&&ao(ke(),v,t,b,m,y),Aa}function ja(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y,v,b){const _=Jt(),w=Ea(_,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y);return w!==Is&&ao(ke(),_,t,w,v,b),ja}function ka(t,e,n,r){const i=Jt(),s=pa(i,e);return s!==Is&&ao(ke(),i,t,s,n,r),ka}function Na(t,e,n,r,i,s,o,a){const u=Jt(),c=te(),l=t+gt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Fs(e,t,4,o||null,Kt(c,a));Js(e,n,l,Kt(c,u)),Re(e,l);const h=l.tViews=Ws(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];se(h,!1);const f=u[11].createComment("");ss(c,u,f,h),Ci(f,u),mo(u,u[l]=ho(f,u,f,h)),wt(h)&&Ks(c,u,h),null!=o&&Gs(u,h,a)}function Pa(t){return qt(Wt.lFrame.contextLView,gt+t)}function Da(t,e=N.Default){const n=Jt();return null===n?nr(t,e):un(ne(),n,m(t),e)}function Ra(){throw new Error("invalid")}function La(t,e,n){const r=Jt();return ca(r,de(),e)&&Zs(te(),ke(),r,t,e,r[11],n,!1),La}function Ma(t,e,n,r,i){const s=i?"class":"style";Co(t,n,e.inputs[s],s,r)}function Fa(t,e,n,r){const i=Jt(),s=te(),o=gt+t,a=i[11],u=i[o]=Hi(a,e,Wt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Fs(e,t,2,i,Kt(a,s));return Js(e,n,u,Kt(a,o)),null!==u.attrs&&xo(u,u.attrs,!1),null!==u.mergedAttrs&&xo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];se(c,!0);const l=c.mergedAttrs;null!==l&&He(a,u,l);const h=c.classes;null!==h&&ps(a,u,h);const f=c.styles;null!==f&&ds(a,u,f),64!=(64&c.flags)&&ss(s,i,u,c),0===Wt.lFrame.elementDepthCount&&Ci(u,i),Wt.lFrame.elementDepthCount++,wt(c)&&(Ks(s,i,c),$s(s,c,i)),null!==r&&Gs(i,c)}function Va(){let t=ne();oe()?ae():(t=t.parent,se(t,!1));const e=t;Wt.lFrame.elementDepthCount--;const n=te();n.firstCreatePass&&(Re(n,t),bt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ma(n,e,Jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ma(n,e,Jt(),e.stylesWithoutHost,!1)}function Ua(t,e,n,r){Fa(t,e,n,r),Va()}function qa(t,e,n){const r=Jt(),i=te(),s=t+gt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Kt(s,r),a=Fs(e,t,8,"ng-container",o);return null!==o&&xo(a,o,!0),Js(e,n,a,Kt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];se(o,!0);const a=r[s]=r[11].createComment("");ss(i,r,a,o),Ci(a,r),wt(o)&&(Ks(i,r,o),$s(i,o,r)),null!=n&&Gs(r,o)}function Ba(){let t=ne();const e=te();oe()?ae():(t=t.parent,se(t,!1)),e.firstCreatePass&&(Re(e,t),bt(t)&&e.queries.elementEnd(t))}function Ha(t,e,n){qa(t,e,n),Ba()}function za(){return Jt()}function $a(t){return!!t&&"function"==typeof t.then}function Ka(t){return!!t&&"function"==typeof t.subscribe}const Ga=Ka;function Qa(t,e,n=!1,r){const i=Jt(),s=te(),o=ne();return Xa(s,i,i[11],o,t,e,n,r),Qa}function Wa(t,e,n=!1,r){const i=ne(),s=Jt(),o=te();return Xa(o,s,Oo(ve(o.data),i,s),i,t,e,n,r),Wa}function Xa(t,e,n,r,i,s,o=!1,a){const u=wt(r),c=t.firstCreatePass&&So(t),l=Eo(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=a?a(f):z,p=d.target||f,g=l.length,m=a?t=>a(Mt(t[r.index])).target:r.index;if(Rt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Za(r,e,0,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Za(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Za(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function Ya(t,e,n,r){try{return!1!==n(r)}catch(i){return To(t,i),!1}}function Za(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Bt(t.index,e):e;0==(32&e[2])&&yo(o);let a=Ya(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ya(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ja(t=1){return function(t){return(Wt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Wt.lFrame.contextLView))[8]}(t)}function tu(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ss(t,s,!0):Os(r,s))return i}else n=i}return n}function eu(t){const e=Jt()[16][6];if(!e.projection){const n=e.projection=Fn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?tu(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function nu(t,e=0,n){const r=Jt(),i=te(),s=Fs(i,gt+t,16,null,n||null);null===s.projection&&(s.projection=e),ae(),64!=(64&s.flags)&&function(t,e,n){fs(e[11],0,e,n,Qi(t,n,e),ts(n.parent||e[6],n,e))}(i,r,s)}function ru(t,e,n){return iu(t,"",e,"",n),ru}function iu(t,e,n,r,i){const s=Jt(),o=ga(s,e,n,r);return o!==Is&&Zs(te(),ke(),s,t,o,s[11],i,!1),iu}function su(t,e,n,r,i,s,o){const a=Jt(),u=ma(a,e,n,r,i,s);return u!==Is&&Zs(te(),ke(),a,t,u,a[11],o,!1),su}function ou(t,e,n,r,i,s,o,a,u){const c=Jt(),l=ya(c,e,n,r,i,s,o,a);return l!==Is&&Zs(te(),ke(),c,t,l,c[11],u,!1),ou}function au(t,e,n,r,i,s,o,a,u,c,l){const h=Jt(),f=va(h,e,n,r,i,s,o,a,u,c);return f!==Is&&Zs(te(),ke(),h,t,f,h[11],l,!1),au}function uu(t,e,n,r,i,s,o,a,u,c,l,h,f){const d=Jt(),p=ba(d,e,n,r,i,s,o,a,u,c,l,h);return p!==Is&&Zs(te(),ke(),d,t,p,d[11],f,!1),uu}function cu(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){const g=Jt(),m=_a(g,e,n,r,i,s,o,a,u,c,l,h,f,d);return m!==Is&&Zs(te(),ke(),g,t,m,g[11],p,!1),cu}function lu(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m){const y=Jt(),v=wa(y,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g);return v!==Is&&Zs(te(),ke(),y,t,v,y[11],m,!1),lu}function hu(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y,v){const b=Jt(),_=Ea(b,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y);return _!==Is&&Zs(te(),ke(),b,t,_,b[11],v,!1),hu}function fu(t,e,n){const r=Jt(),i=pa(r,e);return i!==Is&&Zs(te(),ke(),r,t,i,r[11],n,!1),fu}function du(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ks(s):Ps(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];pu(t[a],e)&&(u=!0,t[a+1]=r?Rs(n):Ns(n)),a=r?ks(n):Ps(n)}u&&(t[n+1]=r?Ns(s):Rs(s))}function pu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&qn(t,e)>=0}const gu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mu(t){return t.substring(gu.key,gu.keyEnd)}function yu(t){return t.substring(gu.value,gu.valueEnd)}function vu(t,e){const n=gu.textEnd;return n===e?-1:(e=gu.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,gu.key=e,n),wu(t,e,n))}function bu(t,e){const n=gu.textEnd;let r=gu.key=wu(t,e,n);return n===r?-1:(r=gu.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Eu(t,r,n),r=gu.value=wu(t,r,n),r=gu.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=Su(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=Su(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),Eu(t,r,n))}function _u(t){gu.key=0,gu.keyEnd=0,gu.value=0,gu.valueEnd=0,gu.textEnd=t.length}function wu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Eu(t,e,n,r){return(e=wu(t,e,n))<n&&e++,e}function Su(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Ou(t,e,n){return ju(t,e,n,!1),Ou}function Tu(t,e){return ju(t,e,null,!0),Tu}function Cu(t){ku(Lu,Iu,t,!1)}function Iu(t,e){for(let n=function(t){return _u(t),bu(t,wu(t,0,gu.textEnd))}(e);n>=0;n=bu(e,n))Lu(t,mu(e),yu(e))}function xu(t){ku(Vn,Au,t,!0)}function Au(t,e){for(let n=function(t){return _u(t),vu(t,wu(t,0,gu.textEnd))}(e);n>=0;n=vu(e,n))Vn(t,mu(e),!0)}function ju(t,e,n,r){const i=Jt(),s=te(),o=pe(2);s.firstUpdatePass&&Pu(s,t,o,r),e!==Is&&ca(i,o,e)&&Mu(s,s.data[Ae()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(kr(t)))),t}(e,n),r,o)}function ku(t,e,n,r){const i=te(),s=pe(2);i.firstUpdatePass&&Pu(i,null,s,r);const o=Jt();if(n!==Is&&ca(o,s,n)){const a=i.data[Ae()];if(Uu(a,r)&&!Nu(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=d(t,n||"")),Ma(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Is&&(i=$);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Mu(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return $;const r=[],i=kr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Nu(t,e){return e>=t.expandoStartIndex}function Pu(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ae()],o=Nu(t,n);Uu(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ve(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ru(n=Du(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Du(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ps(r))return t[ks(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Du(null,t,e,n[1],r),n=Ru(n,e.attrs,r),function(t,e,n,r){t[ks(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ru(r,t[s].hostAttrs,n);return Ru(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ks(o),u=Ps(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||qn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ks(t[a+1]);t[r+1]=js(e,a),0!==e&&(t[e+1]=Ds(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=js(a,0),0!==a&&(t[a+1]=Ds(t[a+1],r)),a=r;else t[r+1]=js(u,0),0===a?a=r:t[u+1]=Ds(t[u+1],r),u=r;l&&(t[r+1]=Ns(t[r+1])),du(t,c,r,!0),du(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&qn(s,e)>=0&&(n[r+1]=Rs(n[r+1]))}(e,c,t,r,s),o=js(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Du(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ru(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ru(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Lu(t,e,n){Vn(t,e,kr(n))}function Mu(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Vu(1==(1&c)?Fu(u,e,n,i,Ps(c),o):void 0)||(Vu(s)||2==(2&c)&&(s=Fu(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Rt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ni.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ni.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ft(Ae(),n),i,s))}function Fu(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Is&&(l=c?$:void 0);let h=c?Un(l,r):u===r?l:void 0;if(s&&!Vu(h)&&(h=Un(e,r)),Vu(h)&&(a=h,o))return a;const f=t[i+1];i=o?ks(f):Ps(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Un(t,r))}return a}function Vu(t){return void 0!==t}function Uu(t,e){return 0!=(t.flags&(e?16:32))}function qu(t,e=""){const n=Jt(),r=te(),i=t+gt,s=r.firstCreatePass?Fs(r,i,1,e,null):r.data[i],o=n[i]=Ui(n[11],e);ss(r,n,o,s),se(s,!1)}function Bu(t){return Hu("",t,""),Bu}function Hu(t,e,n){const r=Jt(),i=ga(r,t,e,n);return i!==Is&&Io(r,Ae(),i),Hu}function zu(t,e,n,r,i){const s=Jt(),o=ma(s,t,e,n,r,i);return o!==Is&&Io(s,Ae(),o),zu}function $u(t,e,n,r,i,s,o){const a=Jt(),u=ya(a,t,e,n,r,i,s,o);return u!==Is&&Io(a,Ae(),u),$u}function Ku(t,e,n,r,i,s,o,a,u){const c=Jt(),l=va(c,t,e,n,r,i,s,o,a,u);return l!==Is&&Io(c,Ae(),l),Ku}function Gu(t,e,n,r,i,s,o,a,u,c,l){const h=Jt(),f=ba(h,t,e,n,r,i,s,o,a,u,c,l);return f!==Is&&Io(h,Ae(),f),Gu}function Qu(t,e,n,r,i,s,o,a,u,c,l,h,f){const d=Jt(),p=_a(d,t,e,n,r,i,s,o,a,u,c,l,h,f);return p!==Is&&Io(d,Ae(),p),Qu}function Wu(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){const g=Jt(),m=wa(g,t,e,n,r,i,s,o,a,u,c,l,h,f,d,p);return m!==Is&&Io(g,Ae(),m),Wu}function Xu(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m){const y=Jt(),v=Ea(y,t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m);return v!==Is&&Io(y,Ae(),v),Xu}function Yu(t){const e=Jt(),n=pa(e,t);return n!==Is&&Io(e,Ae(),n),Yu}function Zu(t,e,n){ku(Vn,Au,ga(Jt(),t,e,n),!0)}function Ju(t,e,n,r,i){ku(Vn,Au,ma(Jt(),t,e,n,r,i),!0)}function tc(t,e,n,r,i,s,o){ku(Vn,Au,ya(Jt(),t,e,n,r,i,s,o),!0)}function ec(t,e,n,r,i,s,o,a,u){ku(Vn,Au,va(Jt(),t,e,n,r,i,s,o,a,u),!0)}function nc(t,e,n,r,i,s,o,a,u,c,l){ku(Vn,Au,ba(Jt(),t,e,n,r,i,s,o,a,u,c,l),!0)}function rc(t,e,n,r,i,s,o,a,u,c,l,h,f){ku(Vn,Au,_a(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f),!0)}function ic(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){ku(Vn,Au,wa(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p),!0)}function sc(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m){ku(Vn,Au,Ea(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m),!0)}function oc(t){ku(Vn,Au,pa(Jt(),t),!0)}function ac(t,e,n){Cu(ga(Jt(),t,e,n))}function uc(t,e,n,r,i){Cu(ma(Jt(),t,e,n,r,i))}function cc(t,e,n,r,i,s,o){Cu(ya(Jt(),t,e,n,r,i,s,o))}function lc(t,e,n,r,i,s,o,a,u){Cu(va(Jt(),t,e,n,r,i,s,o,a,u))}function hc(t,e,n,r,i,s,o,a,u,c,l){Cu(ba(Jt(),t,e,n,r,i,s,o,a,u,c,l))}function fc(t,e,n,r,i,s,o,a,u,c,l,h,f){Cu(_a(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f))}function dc(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){Cu(wa(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p))}function pc(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m){Cu(Ea(Jt(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m))}function gc(t){Cu(pa(Jt(),t))}function mc(t,e,n,r,i){return ju(t,ga(Jt(),e,n,r),i,!1),mc}function yc(t,e,n,r,i,s,o){return ju(t,ma(Jt(),e,n,r,i,s),o,!1),yc}function vc(t,e,n,r,i,s,o,a,u){return ju(t,ya(Jt(),e,n,r,i,s,o,a),u,!1),vc}function bc(t,e,n,r,i,s,o,a,u,c,l){return ju(t,va(Jt(),e,n,r,i,s,o,a,u,c),l,!1),bc}function _c(t,e,n,r,i,s,o,a,u,c,l,h,f){return ju(t,ba(Jt(),e,n,r,i,s,o,a,u,c,l,h),f,!1),_c}function wc(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){return ju(t,_a(Jt(),e,n,r,i,s,o,a,u,c,l,h,f,d),p,!1),wc}function Ec(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m){return ju(t,wa(Jt(),e,n,r,i,s,o,a,u,c,l,h,f,d,p,g),m,!1),Ec}function Sc(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y,v){return ju(t,Ea(Jt(),e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y),v,!1),Sc}function Oc(t,e,n){return ju(t,pa(Jt(),e),n,!1),Oc}function Tc(t,e,n){const r=Jt();return ca(r,de(),e)&&Zs(te(),ke(),r,t,e,r[11],n,!0),Tc}function Cc(t,e,n){const r=Jt();if(ca(r,de(),e)){const i=te(),s=ke();Zs(i,s,r,t,e,Oo(ve(i.data),s,r),n,!0)}return Cc}const Ic=void 0;var xc=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ac={};function jc(t,e,n){"string"!=typeof e&&(n=e,e=t[Rc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ac[e]=t,n&&(Ac[e][Rc.ExtraData]=n)}function kc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Dc(e);if(n)return n;const r=e.split("-")[0];if(n=Dc(r),n)return n;if("en"===r)return xc;throw new Error(`Missing locale data for the locale "${t}".`)}function Nc(t){return kc(t)[Rc.CurrencyCode]||null}function Pc(t){return kc(t)[Rc.PluralCase]}function Dc(t){return t in Ac||(Ac[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Ac[t]}var Rc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Lc=["zero","one","two","few","many"],Mc="en-US",Fc={marker:"element"},Vc={marker:"ICU"};var Uc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let qc=Mc;function Bc(t){var e;null==(e=t)&&E("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(qc=t.toLowerCase().replace(/_/g,"-"))}function Hc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?es(t,0,n):Mt(n[i])}function zc(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Xi(t,o,n[s[e]],a,!1)}}function $c(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Kc(r)||Gc(r,e)&&null===Qc(r)&&Wc(r,e.index)}}function Kc(t){return!(64&t.type)}function Gc(t,e){return Kc(e)||t.index>e.index}function Qc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Wc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(is(Hc,zc),t.insertBeforeIndex=e)}function Xc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Yc(t,e,n){const r=Vs(t,n,64,null,null);return $c(e,r),r}function Zc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Jc=0,tl=0;function el(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Ui(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=Ji(i,r)),c===o?(l=r,h=s):(l=null,h=Mt(n[c])),null!==h){const e=(131070&u)>>>1;Xi(i,h,n[e],l,!1);const r=Xc(t,e);if(null!==r&&"object"==typeof r){const e=Zc(r,n);null!==e&&el(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];uo(i,Ft(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Vc:const t=e[++a],r=e[++a];null===n[r]&&Ci(n[r]=Bi(i,t),n);break;case Fc:const s=e[++a],o=e[++a];null===n[o]&&Ci(n[o]=Hi(i,s,null),n)}}}function nl(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=b(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=t.data[a];"string"==typeof c?uo(e[11],e[a],null,c,s,i,u):Zs(t,c,e,s,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&qi(e[11],l,i);break;case 2:il(t,Xc(t,a),e,i);break;case 3:rl(t,Xc(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Xc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&rl(t,n,r,e)}}s+=a}}function rl(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Jc;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),nl(t,r,e.update[i],n,s)}}function il(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Pc(e)(parseInt(t,10)),r=Lc[n];return void 0!==r?r:"other"}(e,qc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Zc(e,n)!==i&&(sl(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&el(t,e.create[i],n,r)}}function sl(t,e,n){let r=Zc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Ft(r,n);null!==t&&cs(n[11],t)}else sl(t,Xc(t,~r),n)}}}const ol=/\ufffd(\d+):?\d*\ufffd/gi,al=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ul=/\ufffd(\d+)\ufffd/,cl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ll=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fl=/\uE500/g;function dl(t,e,n,r,i,s,o){const a=Us(t,r,1,null);let u=a<<Uc.SHIFT,c=ie();e===c&&(c=null),null===c&&(u|=Uc.APPEND_EAGERLY),o&&(u|=Uc.COMMENT,void 0===Pi&&(Pi=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Zc(t,e);n=null!==i?t.remove[i]:K}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Vs(t,a,o?32:1,null===s?"":s,null);$c(n,l);const h=l.index;return se(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(is(Hc,zc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&E("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function pl(t,e,n,r,i,s,o){const a=o.match(ol),u=dl(t,e,n,s,r,a?null:o,!1);a&&gl(i,o,u.index)}function gl(t,e,n,r,i=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,u=e.split(ol);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=ml(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[s]=c,t[o]=t.length-a,c}function ml(t){return 1<<Math.min(t,31)}function yl(t){let e,n,r="",i=0,s=!1;for(;null!==(e=ll.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function vl(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Us(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(ml(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=wl(t,a,e,n,r,i.cases[c],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function bl(t){const e=[],n=[];let r=1,i=0;const s=_l(t=t.replace(cl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=_l(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function _l(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);cl.test(n)?r.push(bl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function wl(t,e,n,r,i,s,o,a){const u=[],c=[],l=[];e.cases.push(s),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Vr(Dt()).getInertBodyElement(o),f=ci(h)||h;return f?El(t,e,n,r,u,c,l,f,i,a,0):0}function El(t,e,n,r,i,s,o,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Us(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(Zr.hasOwnProperty(p)){Tl(i,Fc,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(ol)?ei.hasOwnProperty(n)&&(Jr[n]?gl(o,e.value,a,e.name,zr):ti[n]?gl(o,e.value,a,e.name,$r):gl(o,e.value,a,e.name)):Cl(i,a,e)}h=El(t,e,n,r,i,s,o,f,a,c,l+1)|h,Sl(s,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(ol);Tl(i,null,m?"":g,u,a),Sl(s,a,l),m&&(h=gl(o,g,a)|h);break;case Node.COMMENT_NODE:const y=ul.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];Tl(i,Vc,"",u,a),vl(t,n,r,u,e,a),Ol(s,a,l)}}f=f.nextSibling}return h}function Sl(t,e,n){0===n&&t.push(e)}function Ol(t,e,n){0===n&&(t.push(~e),t.push(e))}function Tl(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Cl(t,e,n){t.push(e<<1|1,n.name,n.value)}const Il=/\[(\ufffd.+?\ufffd?)\]/,xl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Al=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,jl=/{([A-Z0-9_]+)}/g,kl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Nl=/\/\*/,Pl=/\d+\:(\d+)/;function Dl(t,e,n=-1){const r=te(),i=Jt(),s=gt+t,o=Kt(r.consts,e),a=ie();r.firstCreatePass&&function(t,e,n,r,i,s){const o=ie(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return yl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return yl(t.substring(n,r))}}(i,s),h.replace(fl," ")).split(hl);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const s=_l(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&pl(t,o,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);vl(t,n,u,e,r,dl(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),gt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),se(ie(),!1);else{const e=Yc(t,c[0],n);c.unshift([]),se(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Wi(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],u=(o&Uc.COMMENT)===Uc.COMMENT,c=(o&Uc.APPEND_EAGERLY)===Uc.APPEND_EAGERLY,l=o>>>Uc.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Ui(i,a)),c&&null!==n&&Xi(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ge(!0)}function Rl(){ge(!1)}function Ll(t,e,n){Dl(t,e,n),Rl()}function Ml(t,e){const n=te(),r=Kt(n.consts,e);!function(t,e,n){const r=ne().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];if(""!==s){if(al.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);gl(i,s,r,e)}}t.data[e]=i}}(n,t+gt,r)}function Fl(t){return ca(Jt(),de(),t)&&(Jc|=1<<Math.min(tl,31)),tl++,Fl}function Vl(t){!function(t,e,n){if(tl>0){const r=t.data[n];nl(t,e,Array.isArray(r)?r:r.update,he()-tl-1,Jc)}Jc=0,tl=0}(te(),Jt(),t+gt)}function Ul(t,e={}){return function(t,e={}){let n=t;if(Il.test(t)){const t={},e=[0];n=n.replace(xl,(n,r,i)=>{const s=r||i,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Pl),n=e?parseInt(e[1],10):0,r=Nl.test(t);o.push([n,r,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let u=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){u=t;break}const[c,l,h]=o[u];return l?e.pop():a!==c&&e.push(c),o.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(Al,(t,n,r,i,s,o)=>e.hasOwnProperty(r)?`${n}${e[r]}${o}`:t),n=n.replace(jl,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(kl,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function ql(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)ql(t[s],e,n,r,i);else{const s=te(),o=Jt();let a=Ho(t)?t:m(t.provide),u=Uo(t);const c=ne(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ho(t)||!t.multi){const r=new Be(u,i,Da),d=zl(a,e,i?l:l+f,h);-1===d?(sn(tn(c,o),s,a),Bl(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=zl(a,e,l+f,h),p=zl(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){sn(tn(c,o),s,a);const l=function(t,e,n,r,i){const s=new Be(t,n,Da);return s.multi=[],s.index=e,s.componentProviders=0,Hl(s,i,r&&!n),s}(i?Kl:$l,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Bl(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Bl(s,t,d>-1?d:p,Hl(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Bl(t,e,n,r){const i=Ho(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Hl(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $l(t,e,n,r){return Gl(this.multi,[])}function Kl(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=dn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Gl(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Gl(i,s);return s}function Gl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ql(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=te();if(r.firstCreatePass){const i=Et(t);ql(n,r.data,r.blueprint,i,!0),ql(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Wl{}class Xl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Yl=(()=>{class t{}return t.NULL=new Xl,t})();function Zl(...t){}function Jl(t,e){return new eh(Vt(t,e))}const th=function(){return Jl(ne(),Jt())};let eh=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=th,t})();function nh(t){return t instanceof eh?t.nativeElement:t}class rh{}let ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sh(),t})();const sh=function(){const t=Jt(),e=Bt(ne().index,t);return function(t){return t[11]}(yt(e)?e:t)};let oh=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class ah{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const uh=new ah("11.2.12");class ch{constructor(){}supports(t){return sa(t)}create(t){return new hh(t)}}const lh=(t,e)=>e;class hh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||lh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<gh(n,r,i)?e:n,o=gh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!sa(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ra()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new fh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ph),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ph),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ph{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new dh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class mh{constructor(){}supports(t){return t instanceof Map||oa(t)}create(){return new yh}}class yh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||oa(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new vh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class vh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bh(){return new _h([new ch])}let _h=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||bh()),deps:[[t,new cr,new ar]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:bh}),t})();function wh(){return new Eh([new mh])}let Eh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||wh()),deps:[[t,new cr,new ar]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:wh}),t})();function Sh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Mt(s)),vt(s))for(let t=mt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Sh(e[1],e,n,r)}const o=n.type;if(8&o)Sh(t,e,n.child,r);else if(32&o){const t=Di(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=as(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ri(e[16]);Sh(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oh{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Sh(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(vt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&($i(t,n),Mn(e,n))}this._attachedToViewContainer=!1}Ki(this._lView[1],this._lView)}onDestroy(t){Xs(this._lView[1],this._lView,null,t)}markForCheck(){yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ce(!0);try{vo(t,e,n)}finally{ce(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,hs(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Th extends Oh{constructor(t){super(t),this._view=t}detectChanges(){bo(this._view)}checkNoChanges(){!function(t){ce(!0);try{bo(t)}finally{ce(!1)}}(this._view)}get context(){return null}}const Ch=xh;let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ch,t.__ChangeDetectorRef__=!0,t})();function xh(t=!1){return function(t,e,n){if(!n&&_t(t)){const n=Bt(t.index,e);return new Oh(n,n)}return 47&t.type?new Oh(e[16],e):null}(ne(),Jt(),t)}const Ah=[new mh],jh=new _h([new ch]),kh=new Eh(Ah),Nh=function(){return Lh(ne(),Jt())};let Ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nh,t})();const Dh=Ph,Rh=class extends Dh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ms(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),qs(e,n,t),new Oh(n)}};function Lh(t,e){return 4&t.type?new Rh(e,t,Jl(t,e)):null}class Mh{}class Fh{}const Vh=function(){return $h(ne(),Jt())};let Uh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vh,t})();const qh=Uh,Bh=class extends qh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new mn(this._hostTNode,this._hostLView)}get parentInjector(){const t=rn(this._hostTNode,this._hostLView);if(Qe(t)){const e=Xe(t,this._hostLView),n=We(t);return new mn(e[1].data[n+8],e)}return new mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Hh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Mh,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(vt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Bh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=mt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-mt?(e[4]=n[i],Ln(n,mt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=us(i,s),a=n[11],u=Ji(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,hs(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),Ln(zh(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Hh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=$i(this._lContainer,e);n&&(Mn(zh(this._lContainer),e),Ki(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=$i(this._lContainer,e);return n&&null!=Mn(zh(this._lContainer),e)?new Oh(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Hh(t){return t[8]}function zh(t){return t[8]||(t[8]=[])}function $h(t,e){let n;const r=e[t.index];if(vt(r))n=r;else{let i;if(8&t.type)i=Mt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Xi(n,Ji(n,r),i,function(t,e){return Rt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ho(r,e,i,t),mo(e,n)}return new Bh(n,t,e)}const Kh={};class Gh extends Yl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ht(t);return new Xh(e,this.ngModule)}}function Qh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Wh=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ii});class Xh extends Wl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Cs).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Qh(this.componentDef.inputs)}get outputs(){return Qh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Kh,i);return s!==Kh||r===Kh?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(rh,Lt),o=i.get(oh,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Rt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Hi(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?jt:"math"===e?kt:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ii,clean:wo,playerHandler:null,flags:0},f=Ws(0,null,null,1,0,null,null,null,null,null),d=Ms(null,f,h,l,null,null,s,a,o,i);let p,g;Se(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Fs(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(xo(a,u,!0),null!==t&&(He(i,t,u),null!==a.classes&&ps(i,t,a.classes),null!==a.styles&&ds(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ms(n,Qs(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(sn(tn(a,n),o,e.type),no(o,a),io(a,n.length,1)),mo(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)He(a,c,["ng-version",uh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ws(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&He(a,c,t),e&&e.length>0&&ps(a,c,e.join(" "))}if(g=Ut(f,gt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ne();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),so(t,r,e,Us(t,e,1,null),n));const i=dn(e,t,r.directiveStart,r);Ci(i,e);const s=Vt(r,e);return s&&Ci(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=ne();e.contentQueries(1,o,t.directiveStart)}const a=ne();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(je(a.index),to(n[1],a,0,a.directiveStart,a.directiveEnd,e),eo(e,o)),o}(t,this.componentDef,d,h,[Ko]),qs(f,d,null)}finally{xe()}return new Yh(this.componentType,p,Jl(g,d),d,g)}}class Yh extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Th(r),this.componentType=t}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Zh(t,e,n,r){return L(()=>{const i=t;null!==e&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...e):i.decorators=e),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Jh=new Map;class tf extends Mh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gh(this);const n=pt(t),r=t[Y]||null;r&&Bc(r),this._bootstrapComponents=ki(n.bootstrap),this._r3Injector=Mo(t,e,[{provide:Mh,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=$o.THROW_IF_NOT_FOUND,n=N.Default){return t===$o||t===Mh||t===Ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ef extends Fh{constructor(t){super(),this.moduleType=t,null!==pt(t)&&function(t){const e=new Set;!function t(n){const r=pt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Jh.get(i),n),Jh.set(i,n));const s=ki(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new tf(this.moduleType,t)}}function nf(t,e,n){const r=le()+t,i=Jt();return i[r]===Is?aa(i,r,n?e.call(n):e()):ua(i,r)}function rf(t,e,n,r){return pf(Jt(),le(),t,e,n,r)}function sf(t,e,n,r,i){return gf(Jt(),le(),t,e,n,r,i)}function of(t,e,n,r,i,s){return mf(Jt(),le(),t,e,n,r,i,s)}function af(t,e,n,r,i,s,o){return yf(Jt(),le(),t,e,n,r,i,s,o)}function uf(t,e,n,r,i,s,o,a){const u=le()+t,c=Jt(),l=fa(c,u,n,r,i,s);return ca(c,u+4,o)||l?aa(c,u+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):ua(c,u+5)}function cf(t,e,n,r,i,s,o,a,u){const c=le()+t,l=Jt(),h=fa(l,c,n,r,i,s);return la(l,c+4,o,a)||h?aa(l,c+6,u?e.call(u,n,r,i,s,o,a):e(n,r,i,s,o,a)):ua(l,c+6)}function lf(t,e,n,r,i,s,o,a,u,c){const l=le()+t,h=Jt();let f=fa(h,l,n,r,i,s);return ha(h,l+4,o,a,u)||f?aa(h,l+7,c?e.call(c,n,r,i,s,o,a,u):e(n,r,i,s,o,a,u)):ua(h,l+7)}function hf(t,e,n,r,i,s,o,a,u,c,l){const h=le()+t,f=Jt(),d=fa(f,h,n,r,i,s);return fa(f,h+4,o,a,u,c)||d?aa(f,h+8,l?e.call(l,n,r,i,s,o,a,u,c):e(n,r,i,s,o,a,u,c)):ua(f,h+8)}function ff(t,e,n,r){return vf(Jt(),le(),t,e,n,r)}function df(t,e){const n=t[e];return n===Is?void 0:n}function pf(t,e,n,r,i,s){const o=e+n;return ca(t,o,i)?aa(t,o+1,s?r.call(s,i):r(i)):df(t,o+1)}function gf(t,e,n,r,i,s,o){const a=e+n;return la(t,a,i,s)?aa(t,a+2,o?r.call(o,i,s):r(i,s)):df(t,a+2)}function mf(t,e,n,r,i,s,o,a){const u=e+n;return ha(t,u,i,s,o)?aa(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):df(t,u+3)}function yf(t,e,n,r,i,s,o,a,u){const c=e+n;return fa(t,c,i,s,o,a)?aa(t,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):df(t,c+4)}function vf(t,e,n,r,i,s){let o=e+n,a=!1;for(let u=0;u<i.length;u++)ca(t,o++,i[u])&&(a=!0);return a?aa(t,o,r.apply(s,i)):df(t,o)}function bf(t,e){const n=te();let r;const i=t+gt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=St(r.type)),o=D(Da);try{const t=Ze(!1),e=s();return Ze(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Jt(),i,e),e}finally{D(o)}}function _f(t,e,n){const r=t+gt,i=Jt(),s=qt(i,r);return Cf(i,Tf(i,r)?pf(i,le(),e,s.transform,n,s):s.transform(n))}function wf(t,e,n,r){const i=t+gt,s=Jt(),o=qt(s,i);return Cf(s,Tf(s,i)?gf(s,le(),e,o.transform,n,r,o):o.transform(n,r))}function Ef(t,e,n,r,i){const s=t+gt,o=Jt(),a=qt(o,s);return Cf(o,Tf(o,s)?mf(o,le(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Sf(t,e,n,r,i,s){const o=t+gt,a=Jt(),u=qt(a,o);return Cf(a,Tf(a,o)?yf(a,le(),e,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function Of(t,e,n){const r=t+gt,i=Jt(),s=qt(i,r);return Cf(i,Tf(i,r)?vf(i,le(),e,s.transform,n,s):s.transform.apply(s,n))}function Tf(t,e){return t[1].data[e].pure}function Cf(t,e){return ia.isWrapped(e)&&(e=ia.unwrap(e),t[he()]=Is),e}function If(t){return e=>{setTimeout(t,void 0,e)}}const xf=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=If(u),a&&(a=If(a)),c&&(c=If(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Af(){return this._results[ra()]()}class jf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ra(),n=jf.prototype;n[e]||(n[e]=Af)}get changes(){return this._changes||(this._changes=new xf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Dn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class kf{constructor(t){this.queryList=t,this.matches=null}clone(){return new kf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Nf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Kf(t,e).matches&&this.queries[e].setDirty()}}class Pf{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Df{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Df(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Rf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Lf(e,i)),this.matchTNodeWithReadOption(t,e,fn(e,t,i,!1,!1))}else n===Ph?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,fn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===eh||r===Uh||r===Ph&&4&e.type)this.addMatch(e.index,-2);else{const n=fn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Lf(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mf(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Jl(t,e):4&t.type?Lh(t,e):null}(e,t):-2===n?function(t,e,n){return n===eh?Jl(e,t):n===Ph?Lh(e,t):n===Uh?$h(e,t):void 0}(t,e,r):dn(t,t[1],n,e)}function Ff(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Mf(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Vf(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ff(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=mt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Vf(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Vf(n[1],n,i,r)}}}}}return r}function Uf(t){const e=Jt(),n=te(),r=be();_e(r+1);const i=Kf(n,r);if(t.dirty&&zt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Vf(n,e,r,[]):Ff(n,e,i,r);t.reset(s,nh),t.notifyOnChanges()}return!0}return!1}function qf(t,e,n){const r=te();r.firstCreatePass&&($f(r,new Pf(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),zf(r,Jt(),e)}function Bf(t,e,n,r){const i=te();if(i.firstCreatePass){const s=ne();$f(i,new Pf(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}zf(i,Jt(),n)}function Hf(){return t=Jt(),e=be(),t[19].queries[e].queryList;var t,e}function zf(t,e,n){const r=new jf(4==(4&n));Xs(t,e,r,r.destroy),null===e[19]&&(e[19]=new Nf),e[19].queries.push(new kf(r))}function $f(t,e,n){null===t.queries&&(t.queries=new Df),t.queries.track(new Rf(e,n))}function Kf(t,e){return t.queries.getByIndex(e)}function Gf(t,e){return Lh(t,e)}function Qf(t=N.Default){const e=xh(!0);if(null!=e||t&N.Optional)return e;w("ChangeDetectorRef")}const Wf=(()=>({"\u0275\u0275attribute":da,"\u0275\u0275attributeInterpolate1":Sa,"\u0275\u0275attributeInterpolate2":Oa,"\u0275\u0275attributeInterpolate3":Ta,"\u0275\u0275attributeInterpolate4":Ca,"\u0275\u0275attributeInterpolate5":Ia,"\u0275\u0275attributeInterpolate6":xa,"\u0275\u0275attributeInterpolate7":Aa,"\u0275\u0275attributeInterpolate8":ja,"\u0275\u0275attributeInterpolateV":ka,"\u0275\u0275defineComponent":et,"\u0275\u0275defineDirective":ct,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":O,"\u0275\u0275defineNgModule":ot,"\u0275\u0275definePipe":lt,"\u0275\u0275directiveInject":Da,"\u0275\u0275getInheritedFactory":yn,"\u0275\u0275inject":nr,"\u0275\u0275injectAttribute":bn,"\u0275\u0275invalidFactory":Ra,"\u0275\u0275invalidFactoryDep":rr,"\u0275\u0275injectPipeChangeDetectorRef":Qf,"\u0275\u0275templateRefExtractor":Gf,"\u0275\u0275NgOnChangesFeature":Tt,"\u0275\u0275ProvidersFeature":Ql,"\u0275\u0275CopyDefinitionFeature":ea,"\u0275\u0275InheritDefinitionFeature":Qo,"\u0275\u0275nextContext":Ja,"\u0275\u0275namespaceHTML":De,"\u0275\u0275namespaceMathML":Pe,"\u0275\u0275namespaceSVG":Ne,"\u0275\u0275enableBindings":Yt,"\u0275\u0275disableBindings":Zt,"\u0275\u0275elementStart":Fa,"\u0275\u0275elementEnd":Va,"\u0275\u0275element":Ua,"\u0275\u0275elementContainerStart":qa,"\u0275\u0275elementContainerEnd":Ba,"\u0275\u0275elementContainer":Ha,"\u0275\u0275pureFunction0":nf,"\u0275\u0275pureFunction1":rf,"\u0275\u0275pureFunction2":sf,"\u0275\u0275pureFunction3":of,"\u0275\u0275pureFunction4":af,"\u0275\u0275pureFunction5":uf,"\u0275\u0275pureFunction6":cf,"\u0275\u0275pureFunction7":lf,"\u0275\u0275pureFunction8":hf,"\u0275\u0275pureFunctionV":ff,"\u0275\u0275getCurrentView":za,"\u0275\u0275restoreView":ee,"\u0275\u0275listener":Qa,"\u0275\u0275projection":nu,"\u0275\u0275syntheticHostProperty":Cc,"\u0275\u0275syntheticHostListener":Wa,"\u0275\u0275pipeBind1":_f,"\u0275\u0275pipeBind2":wf,"\u0275\u0275pipeBind3":Ef,"\u0275\u0275pipeBind4":Sf,"\u0275\u0275pipeBindV":Of,"\u0275\u0275projectionDef":eu,"\u0275\u0275hostProperty":Tc,"\u0275\u0275property":La,"\u0275\u0275propertyInterpolate":ru,"\u0275\u0275propertyInterpolate1":iu,"\u0275\u0275propertyInterpolate2":su,"\u0275\u0275propertyInterpolate3":ou,"\u0275\u0275propertyInterpolate4":au,"\u0275\u0275propertyInterpolate5":uu,"\u0275\u0275propertyInterpolate6":cu,"\u0275\u0275propertyInterpolate7":lu,"\u0275\u0275propertyInterpolate8":hu,"\u0275\u0275propertyInterpolateV":fu,"\u0275\u0275pipe":bf,"\u0275\u0275queryRefresh":Uf,"\u0275\u0275viewQuery":qf,"\u0275\u0275loadQuery":Hf,"\u0275\u0275contentQuery":Bf,"\u0275\u0275reference":Pa,"\u0275\u0275classMap":xu,"\u0275\u0275classMapInterpolate1":Zu,"\u0275\u0275classMapInterpolate2":Ju,"\u0275\u0275classMapInterpolate3":tc,"\u0275\u0275classMapInterpolate4":ec,"\u0275\u0275classMapInterpolate5":nc,"\u0275\u0275classMapInterpolate6":rc,"\u0275\u0275classMapInterpolate7":ic,"\u0275\u0275classMapInterpolate8":sc,"\u0275\u0275classMapInterpolateV":oc,"\u0275\u0275styleMap":Cu,"\u0275\u0275styleMapInterpolate1":ac,"\u0275\u0275styleMapInterpolate2":uc,"\u0275\u0275styleMapInterpolate3":cc,"\u0275\u0275styleMapInterpolate4":lc,"\u0275\u0275styleMapInterpolate5":hc,"\u0275\u0275styleMapInterpolate6":fc,"\u0275\u0275styleMapInterpolate7":dc,"\u0275\u0275styleMapInterpolate8":pc,"\u0275\u0275styleMapInterpolateV":gc,"\u0275\u0275styleProp":Ou,"\u0275\u0275stylePropInterpolate1":mc,"\u0275\u0275stylePropInterpolate2":yc,"\u0275\u0275stylePropInterpolate3":vc,"\u0275\u0275stylePropInterpolate4":bc,"\u0275\u0275stylePropInterpolate5":_c,"\u0275\u0275stylePropInterpolate6":wc,"\u0275\u0275stylePropInterpolate7":Ec,"\u0275\u0275stylePropInterpolate8":Sc,"\u0275\u0275stylePropInterpolateV":Oc,"\u0275\u0275classProp":Tu,"\u0275\u0275advance":xs,"\u0275\u0275template":Na,"\u0275\u0275text":qu,"\u0275\u0275textInterpolate":Bu,"\u0275\u0275textInterpolate1":Hu,"\u0275\u0275textInterpolate2":zu,"\u0275\u0275textInterpolate3":$u,"\u0275\u0275textInterpolate4":Ku,"\u0275\u0275textInterpolate5":Gu,"\u0275\u0275textInterpolate6":Qu,"\u0275\u0275textInterpolate7":Wu,"\u0275\u0275textInterpolate8":Xu,"\u0275\u0275textInterpolateV":Yu,"\u0275\u0275i18n":Ll,"\u0275\u0275i18nAttributes":Ml,"\u0275\u0275i18nExp":Fl,"\u0275\u0275i18nStart":Dl,"\u0275\u0275i18nEnd":Rl,"\u0275\u0275i18nApply":Vl,"\u0275\u0275i18nPostprocess":Ul,"\u0275\u0275resolveWindow":xi,"\u0275\u0275resolveDocument":Ai,"\u0275\u0275resolveBody":ji,"\u0275\u0275setComponentScope":nt,"\u0275\u0275setNgModuleScope":at,"\u0275\u0275sanitizeHtml":hi,"\u0275\u0275sanitizeStyle":fi,"\u0275\u0275sanitizeResourceUrl":pi,"\u0275\u0275sanitizeScript":gi,"\u0275\u0275sanitizeUrl":di,"\u0275\u0275sanitizeUrlOrResourceUrl":vi,"\u0275\u0275trustConstantHtml":mi,"\u0275\u0275trustConstantResourceUrl":yi,forwardRef:g,resolveForwardRef:m}))();const Xf=[],Yf=[];let Zf=!1;function Jf(t){return Array.isArray(t)?t.every(Jf):!!m(t)}function td(t,e){const n=Dn(e.declarations||Xf),r=nd(t);n.forEach(e=>{e.hasOwnProperty(G)?ed(ht(e),r):e.hasOwnProperty(Q)||e.hasOwnProperty(W)||(e.ngSelectorScope=t)})}function ed(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(G)?ht(t):ft(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>dt(t)),t.schemas=e.schemas,t.tView=null}function nd(t){if(!id(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const e=pt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ki(e.imports).forEach(t=>{const e=t;if(!id(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=nd(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),ki(e.declarations).forEach(t=>{dt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),ki(e.exports).forEach(t=>{const e=t;if(id(e)){const t=nd(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else dt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function rd(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function id(t){return!!pt(t)}let sd=0;function od(t,e){let n=null;ud(t,e||{}),Object.defineProperty(t,Q,{get:()=>{if(null===n){const r=ad(t,e||{});n=kn().compileDirective(Wf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function ad(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=kn(),s=ld(t,e);return s.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),s.usesInheritance&&hd(t),{metadata:s,sourceMapUrl:r}}function ud(t,e){let n=null;Object.defineProperty(t,Z,{get:()=>{if(null===n){const r=ad(t,e),i=kn();n=i.compileFactory(Wf,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function cd(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function ld(t,e){const n=fr(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:dr(t),host:e.host||z,propMetadata:r,inputs:e.inputs||K,outputs:e.outputs||K,queries:dd(t,r,pd),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!cd(t),exportAs:(i=e.exportAs,void 0===i?null:yd(i)),providers:e.providers||null,viewQueries:dd(t,r,gd)};var i}function hd(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ft(n)||ht(n)||!bd(n)||od(n,null),n=Object.getPrototypeOf(n)}function fd(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?yd(n):m(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function dd(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];s.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${_(t)}" since the query selector wasn't defined.`);if(s.some(md))throw new Error("Cannot combine @Input decorators with query decorators");r.push(fd(i,e))}})}return r}function pd(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function gd(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function md(t){return"Input"===t.ngMetadataName}function yd(t){return t.split(",").map(t=>t.trim())}const vd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function bd(t){const e=fr();if(vd.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(md(n)||pd(n)||gd(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function _d(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:dr(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const wd=Sn("Directive",(t={})=>t,void 0,void 0,(t,e)=>Id(t,e)),Ed=Sn("Component",(t={})=>Object.assign({changeDetection:M.Default},t),wd,void 0,(t,e)=>Cd(t,e)),Sd=Sn("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>xd(t,e)),Od=Cn("Input",t=>({bindingPropertyName:t})),Td=Cn("Output",t=>({bindingPropertyName:t})),Cd=function(t,e){let n=null;!function(t,e){mr(e)&&(pr.set(t,e),gr.add(t))}(t,e),ud(t,e),Object.defineProperty(t,G,{get:()=>{if(null===n){const r=kn();if(mr(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let s=e.preserveWhitespaces;void 0===s&&(s=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let o=e.encapsulation;void 0===o&&(o=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:F.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},ld(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:s,styles:e.styles||K,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:o,interpolation:e.interpolation,viewProviders:e.viewProviders||null});sd++;try{u.usesInheritance&&hd(t),n=r.compileComponent(Wf,a,u)}finally{sd--}if(0===sd&&function(){if(!Zf){Zf=!0;try{for(let t=Yf.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=Yf[t];n.declarations&&n.declarations.every(Jf)&&(Yf.splice(t,1),td(e,n))}}finally{Zf=!1}}}(),void 0!==t.ngSelectorScope){const e=nd(t.ngSelectorScope);ed(n,e)}}return n},configurable:!1})},Id=od,xd=function(t,e){let n=null,r=null;Object.defineProperty(t,Z,{get:()=>{if(null===r){const n=_d(t,e),i=kn();r=i.compileFactory(Wf,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,W,{get:()=>{if(null===n){const r=_d(t,e);n=kn().compilePipe(Wf,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},Ad=Sn("NgModule",t=>t,void 0,void 0,(t,e)=>jd(t,e)),jd=function(t,e={}){!function(t,e,n=!1){const r=Dn(e.declarations||Xf);let i=null;Object.defineProperty(t,X,{configurable:!0,get:()=>(null===i&&(i=kn().compileNgModule(Wf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Dn(e.bootstrap||Xf).map(m),declarations:r.map(m),imports:Dn(e.imports||Xf).map(m).map(rd),exports:Dn(e.exports||Xf).map(m).map(rd),schemas:e.schemas?Dn(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(t,Z,{get:()=>{if(null===s){const e=kn();s=e.compileFactory(Wf,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:dr(t),injectFn:"inject",target:e.R3FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,A,{get:()=>{if(null===o){const n={name:t.name,type:t,providers:e.providers||Xf,imports:[(e.imports||Xf).map(m),(e.exports||Xf).map(m)]};o=kn().compileInjector(Wf,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){Yf.push({moduleType:t,ngModule:e})}(t,e)},kd=new xn("Application Initializer");let Nd=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Zl,this.reject=Zl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();$a(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(nr(kd,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Pd=new xn("AppId"),Dd={provide:Pd,useFactory:function(){return`${Rd()}${Rd()}${Rd()}`},deps:[]};function Rd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ld=new xn("Platform Initializer"),Md=new xn("Platform ID"),Fd=new xn("appBootstrapListener");let Vd=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ud=new xn("LocaleId"),qd=new xn("DefaultCurrencyCode");class Bd{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Hd=function(t){return new ef(t)},zd=Hd,$d=function(t){return Promise.resolve(Hd(t))},Kd=function(t){const e=Hd(t),n=ki(pt(t).declarations).reduce((t,e)=>{const n=ht(e);return n&&t.push(new Xh(n)),t},[]);return new Bd(e,n)},Gd=Kd,Qd=function(t){return Promise.resolve(Kd(t))};let Wd=(()=>{class t{constructor(){this.compileModuleSync=zd,this.compileModuleAsync=$d,this.compileModuleAndAllComponentsSync=Gd,this.compileModuleAndAllComponentsAsync=Qd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Xd=(()=>Promise.resolve(0))();function Yd(t){"undefined"==typeof Zone?Xd.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zd{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xf(!1),this.onMicrotaskEmpty=new xf(!1),this.onStable=new xf(!1),this.onError=new xf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ep(t),tp(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ep(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return np(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),rp(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return np(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),rp(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ep(t),tp(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Jd,Zl,Zl);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Jd={};function tp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ep(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function np(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rp(t){t._nesting--,tp(t)}class ip{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xf,this.onMicrotaskEmpty=new xf,this.onStable=new xf,this.onError=new xf}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let sp=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zd.assertNotInAngularZone(),Yd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(nr(Zd))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),op=(()=>{class t{constructor(){this._applications=new Map,lp.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lp.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class ap{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function up(t){lp=t}let cp,lp=new ap,hp=!0,fp=!1;function dp(){return fp=!0,hp}function pp(){if(fp)throw new Error("Cannot enable prod mode after platform setup.");hp=!1}const gp=new xn("AllowMultipleToken");class mp{constructor(t,e){this.name=t,this.token=e}}function yp(t,e,n=[]){const r=`Platform: ${e}`,i=new xn(r);return(e=[])=>{let s=vp();if(!s||s.injector.get(gp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ko,useValue:"platform"});!function(t){if(cp&&!cp.destroyed&&!cp.injector.get(gp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cp=t.get(bp);const e=t.get(Ld,null);e&&e.forEach(t=>t())}($o.create({providers:t,name:r}))}return function(t){const e=vp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function vp(){return cp&&!cp.destroyed?cp:null}let bp=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ip:("zone.js"===t?void 0:t)||new Zd({enableLongStackTrace:dp(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Zd,useValue:n}];return n.run(()=>{const e=$o.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Si,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ep(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return $a(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Nd);return t.runInitializers(),t.donePromise.then(()=>(Bc(i.injector.get(Ud,Mc)||Mc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=_p({},e);return function(t,e,n){const r=new ef(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(wp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(nr($o))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function _p(t,e){return Array.isArray(e)?e.reduce(_p,t):Object.assign(Object.assign({},t),e)}let wp=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zd.assertNotInAngularZone(),Yd(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Mh),i=n.create($o.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(sp,null),a=o&&i.injector.get(op);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ep(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ep(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fd,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(nr(Zd),nr($o),nr(Si),nr(Yl),nr(Nd))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Ep(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sp{}class Op{}const Tp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cp=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Tp}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ip(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ip(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(nr(Wd),nr(Op,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Ip(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const xp=function(t){return null},Ap=yp(null,"core",[{provide:Md,useValue:"unknown"},{provide:bp,deps:[$o]},{provide:op,deps:[]},{provide:Vd,deps:[]}]),jp=[{provide:wp,useClass:wp,deps:[Zd,$o,Si,Yl,Nd]},{provide:Wh,deps:[Zd],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Nd,useClass:Nd,deps:[[new ar,kd]]},{provide:Wd,useClass:Wd,deps:[]},Dd,{provide:_h,useFactory:function(){return jh},deps:[]},{provide:Eh,useFactory:function(){return kh},deps:[]},{provide:Ud,useFactory:function(t){return Bc(t=t||"undefined"!=typeof $localize&&$localize.locale||Mc),t},deps:[[new or(Ud),new ar,new cr]]},{provide:qd,useValue:"USD"}];let kp=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(nr(wp))},t.\u0275mod=ot({type:t}),t.\u0275inj=O({providers:jp}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",function(){return M}),n.d(e,"b",function(){return k}),n.d(e,"c",function(){return R}),n.d(e,"d",function(){return w});var r=n("ofXK"),i=n("fXoL");class s extends r.p{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.t)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.s)(document.cookie,t)}}let a,u=null;const c=new i.u("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.r)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.c,i.v],multi:!0}];class h{static init(){Object(i.eb)(new h)}addToWindow(t){i.vb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.vb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.vb.getAllAngularRootElements=()=>t.getAllRootElements(),i.vb.frameworkStabilizers||(i.vb.frameworkStabilizers=[]),i.vb.frameworkStabilizers.push(t=>{const e=i.vb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.r)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.u("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(f),i.cc(i.F))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.r)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.r)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.cc(r.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function b(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?b(t,i,n):(i=i.replace(v,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.Y.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.Y.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.cc(d),i.cc(m),i.cc(i.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class E{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.N.DashCase|i.N.Important)?t.style.setProperty(e,n,r&i.N.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.N.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class S extends E{constructor(t,e,n,r){super(t),this.component=n;const i=b(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(v,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(v,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class O extends E{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=b(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let T=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(r.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const C=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let j=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.r)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(C.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&x.hasOwnProperty(e)&&(e=x[e]))}return I[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),C.forEach(r=>{r!=n&&(0,A[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.cc(r.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:function(){return Object(i.cc)(P)},token:t,providedIn:"root"}),t})();function N(t){return new P(t.get(r.c))}let P=(()=>{class t extends k{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.P.NONE:return e;case i.P.HTML:return Object(i.kb)(e,"HTML")?Object(i.Eb)(e):Object(i.ib)(this._doc,String(e)).toString();case i.P.STYLE:return Object(i.kb)(e,"Style")?Object(i.Eb)(e):e;case i.P.SCRIPT:if(Object(i.kb)(e,"Script"))return Object(i.Eb)(e);throw new Error("unsafe value used in a script context");case i.P.URL:return Object(i.ub)(e),Object(i.kb)(e,"URL")?Object(i.Eb)(e):Object(i.jb)(String(e));case i.P.RESOURCE_URL:if(Object(i.kb)(e,"ResourceURL"))return Object(i.Eb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.lb)(t)}bypassSecurityTrustStyle(t){return Object(i.ob)(t)}bypassSecurityTrustScript(t){return Object(i.nb)(t)}bypassSecurityTrustUrl(t){return Object(i.pb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.mb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(r.c))},t.\u0275prov=Object(i.Pb)({factory:function(){return N(Object(i.cc)(i.r))},token:t,providedIn:"root"}),t})();const D=[{provide:i.I,useValue:r.q},{provide:i.J,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.c,useFactory:function(){return Object(i.Cb)(document),document},deps:[]}],R=Object(i.Z)(i.db,"browser",D),L=[[],{provide:i.gb,useValue:"root"},{provide:i.p,useFactory:function(){return new i.p},deps:[]},{provide:f,useClass:T,multi:!0,deps:[r.c,i.F,i.I]},{provide:f,useClass:j,multi:!0,deps:[r.c]},[],{provide:w,useClass:w,deps:[d,m,i.c]},{provide:i.M,useExisting:w},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[r.c]},{provide:i.T,useClass:i.T,deps:[i.F]},{provide:d,useClass:d,deps:[f,i.F]},[]];let M=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.cc(t,12))},t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({providers:L,imports:[r.b,i.f]}),t})();"undefined"!=typeof window&&window},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return G}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return K}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return z}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return V}),n.d(e,"k",function(){return q}),n.d(e,"l",function(){return w}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return X}),n.d(e,"o",function(){return W}),n.d(e,"p",function(){return a}),n.d(e,"q",function(){return Q}),n.d(e,"r",function(){return s}),n.d(e,"s",function(){return M}),n.d(e,"t",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.u("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Pb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.cc)(f)}const h=new r.u("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.cc(u))},t.\u0275prov=Object(r.Pb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.cc)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Pb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.cc)(u).location;return new w(Object(r.cc)(c),e&&e.origin||"")}const _=new r.u("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(_,8))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(_,8))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(v),r.cc(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Pb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new S(Object(r.cc)(v),Object(r.cc)(c))}function T(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){const n=Object(r.qb)(t),i=n[r.hb.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.hb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.hb.NumberSymbols][x.Group]}return i}const j=r.tb,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,N=".",P="0";function D(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let L=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.z))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})();function M(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class F{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new F(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.X),r.Tb(r.S),r.Tb(r.x))},t.\u0275dir=r.Ob({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let q=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new B,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.X),r.Tb(r.S))},t.\u0275dir=r.Ob({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class B{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Db)(e)}'.`)}let z=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=$){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.y))},t.\u0275pipe=r.Sb({name:"keyvalue",type:t,pure:!1}),t})();function $(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let K=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(N))>-1&&(o=o.replace(N,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===P;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===P;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=D(e)),null!=n&&(h=D(n)),null!=r?f=D(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(A(n,r)),m.length&&(a+=A(n,i)+m.join("")),g&&(a+=A(n,x.Exponential)+"+"+g)}else a=A(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(N)?i.split(N):[i.substring(0,i.lastIndexOf(P)+1),i.substring(i.lastIndexOf(P)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===P?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.qb)(t)[r.hb.NumberFormats][e]}(e,C.Decimal),A(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Db)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.z))},t.\u0275pipe=r.Sb({name:"number",type:t,pure:!0}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({providers:[{provide:R,useClass:L}]}),t})();const Q="browser";function W(t){return"server"===t}let X=(()=>{class t{}return t.\u0275prov=Object(r.Pb)({token:t,providedIn:"root",factory:()=>new Y(Object(r.cc)(u),window)}),t})();class Y{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Z(this.window.history)||Z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new v(i,a,r);return u},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function C(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.u("angularfire2.app.options"),b=new u.u("angularfire2.app.nameOrConfig"),_=new u.W("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.cb)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.F,[new u.G,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.V.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.cc(u.I))},t.\u0275mod=u.Rb({type:t}),t.\u0275inj=u.Qb({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},"tk/3":function(t,e,n){"use strict";n.d(e,"a",function(){return C}),n.d(e,"b",function(){return q});var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("ofXK");class l{}class h{}class f{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof f?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new f;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof f?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class d{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function m(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}class b{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new f),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:m(this.body)||y(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:y(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new b(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var _=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class w{constructor(t,e=200,n="OK"){this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class E extends w{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new E({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S extends w{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new S({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class O extends w{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function T(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let C=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof b)r=t;else{let i,s;i=n.headers instanceof f?n.headers:new f(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new b(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(i.a)(r).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof b||"events"===n.observe)return s;const c=s.pipe(Object(a.a)(t=>t instanceof S));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(u.a)(t=>t.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,T(n,e))}post(t,e,n={}){return this.request("POST",t,T(n,e))}put(t,e,n={}){return this.request("PUT",t,T(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(l))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const x=new r.u("HTTP_INTERCEPTORS");let A=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})();const j=/^\)\]\}',?\n/;class k{}let N=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new f(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new E({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(j,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new S({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new O({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new O({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(k))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})();const D=new r.u("XSRF_COOKIE_NAME"),R=new r.u("XSRF_HEADER_NAME");class L{}let M=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.s)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c.c),r.cc(r.I),r.cc(D))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(L),r.cc(R))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(x,[]);this.chain=t.reduceRight((t,e)=>new I(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(h),r.cc(r.v))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:F,useClass:A}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:D,useValue:e.cookieName}:[],e.headerName?{provide:R,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({providers:[F,{provide:x,useExisting:F,multi:!0},{provide:L,useClass:M},{provide:D,useValue:"XSRF-TOKEN"},{provide:R,useValue:"X-XSRF-TOKEN"}]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({providers:[C,{provide:l,useClass:V},P,{provide:h,useExisting:P},N,{provide:k,useExisting:N}],imports:[[U.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return On}),n.d(e,"b",function(){return Tn}),n.d(e,"c",function(){return Mn}),n.d(e,"d",function(){return In});var r=n("ofXK"),i=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("2Vo4"),u=n("z+Ro"),c=n("DH7j"),l=n("7o/Q");class h extends l.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class f extends l.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var d=n("SeVD"),p=n("HDdC");function g(t,e,n,r,i=new f(t,n,r)){if(!i.closed)return e instanceof p.a?e.subscribe(i):Object(d.a)(e)(i)}var m=n("yCtX");const y={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new b(t,this.resultSelector))}}class b extends h{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(y),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(g(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===y?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var _=n("sVev"),w=n("GyhO"),E=n("EY2u");function S(t){return new p.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(E.b)()).subscribe(e)})}var O=n("EQ5u"),T=n("XNiG"),C=n("lJxs"),I=n("eIep"),x=n("IzEk"),A=n("JX91"),j=n("Kqap"),k=n("pLZG"),N=n("zx2A");function P(t){return function(e){const n=new D(t),r=e.lift(n);return n.caught=r}}class D{constructor(t){this.selector=t}call(t,e){return e.subscribe(new R(t,this.selector,this.caught))}}class R extends N.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N.a(this);this.add(r);const i=Object(N.c)(n,r);i!==r&&this.add(i)}}}var L=n("bOdf"),M=n("4I5i");function F(t){return function(e){return 0===t?Object(E.b)():e.lift(new V(t))}}class V{constructor(t){if(this.total=t,this.total<0)throw new M.a}call(t,e){return e.subscribe(new U(t,this.total))}}class U extends l.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var q=n("XDbj"),B=n("xbPD"),H=n("SpAZ"),z=n("SxV6"),$=n("5+tZ"),K=n("vkgz"),G=n("x+ZX"),Q=n("quSY");class W{constructor(t){this.callback=t}call(t,e){return e.subscribe(new X(t,this.callback))}}class X extends l.a{constructor(t,e){super(t),this.add(new Q.a(e))}}var Y=n("bHdf");class Z{constructor(t,e){this.id=t,this.url=e}}class J extends Z{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tt extends Z{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class et extends Z{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nt extends Z{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rt extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Z{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ot extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class at extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ct{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class mt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yt(t){return new mt(t)}function vt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function bt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _t(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!wt(t[i],e[i]))return!1;return!0}function wt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Et(t){return Array.prototype.concat.apply([],t)}function St(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tt(t){return Object(i.xb)(t)?t:Object(i.yb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function Ct(t,e,n){return n?function(t,e){return _t(t,e)}(t.queryParams,e.queryParams)&&It(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wt(t[n],e[n]))}(t.queryParams,e.queryParams)&&xt(t.root,e.root)}function It(t,e){if(!Pt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!It(t.children[n],e.children[n]))return!1}return!0}function xt(t,e){return At(t,e,e.segments)}function At(t,e,n){if(t.segments.length>n.length)return!!Pt(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Pt(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xt(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Pt(t.segments,r)&&!!t.children.primary&&At(t.children.primary,e,i)}}class jt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Lt.serialize(this)}}class kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ot(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mt(this)}}class Nt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return zt(this)}}function Pt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Dt{}class Rt{parse(t){const e=new Wt(t);return new jt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ft(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ut(e)}=${Ut(t)}`).join("&"):`${Ut(e)}=${Ut(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lt=new Rt;function Mt(t){return t.segments.map(t=>zt(t)).join("/")}function Ft(t,e){if(!t.hasChildren())return Mt(t);if(e){const e=t.children.primary?Ft(t.children.primary,!1):"",n=[];return Ot(t.children,(t,e)=>{e!==gt&&n.push(`${e}:${Ft(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ot(t.children,(t,r)=>{r===gt&&(n=n.concat(e(t,r)))}),Ot(t.children,(t,r)=>{r!==gt&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===gt?[Ft(t.children.primary,!1)]:[`${n}:${Ft(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Mt(t)}/${e[0]}`:`${Mt(t)}/(${e.join("//")})`}}function Vt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ut(t){return Vt(t).replace(/%3B/gi,";")}function qt(t){return Vt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bt(t){return decodeURIComponent(t)}function Ht(t){return Bt(t.replace(/\+/g,"%20"))}function zt(t){return`${qt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qt(t)}=${qt(e[t])}`).join("")}`;var e}const $t=/^[^\/()?;=#]+/;function Kt(t){const e=t.match($t);return e?e[0]:""}const Gt=/^[^=?&#]+/,Qt=/^[^?&#]+/;class Wt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kt(t,e)),n}parseSegment(){const t=Kt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Nt(Bt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kt(this.remaining);t&&(n=t,this.capture(n))}t[Bt(e)]=Bt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Gt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Qt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ht(e),i=Ht(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=gt);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new kt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Xt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zt(t,this._root).map(t=>t.value)}}function Yt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yt(t,n);if(e)return e}return null}function Zt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zt(t,n);if(r.length)return r.unshift(e),r}return[]}class Jt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function te(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ee extends Xt{constructor(t,e){super(t),this.snapshot=e,ae(this,t)}toString(){return this.snapshot.toString()}}function ne(t,e){const n=function(t,e){const n=new se([],{},{},"",{},gt,e,null,t.root,-1,{});return new oe("",new Jt(n,[]))}(t,e),r=new a.a([new Nt("",{})]),i=new a.a({}),s=new a.a({}),o=new a.a({}),u=new a.a(""),c=new re(r,i,o,u,s,gt,e,n.root);return c.snapshot=n.root,new ee(new Jt(c,[]),n)}class re{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)(t=>yt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)(t=>yt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ie(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class se{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oe extends Xt{constructor(t,e){super(e),this.url=t,ae(this,e)}toString(){return ue(this._root)}}function ae(t,e){e.value._routerState=t,e.children.forEach(e=>ae(t,e))}function ue(t){const e=t.children.length>0?` { ${t.children.map(ue).join(", ")} } `:"";return`${t.value}${e}`}function ce(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_t(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_t(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_t(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_t(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function le(t,e){var n,r;return _t(t.params,e.params)&&Pt(n=t.url,r=e.url)&&n.every((t,e)=>_t(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||le(t.parent,e.parent))}function he(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return he(t,e,r);return he(t,e)})}(t,e,n);return new Jt(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return fe(e,t),t}}const n=new re(new a.a((r=e.value).url),new a.a(r.params),new a.a(r.queryParams),new a.a(r.fragment),new a.a(r.data),r.outlet,r.component,r),i=e.children.map(e=>he(t,e));return new Jt(n,i)}var r}function fe(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)fe(t.children[n],e.children[n])}function de(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pe(t){return"object"==typeof t&&null!=t&&t.outlets}function ge(t,e,n,r,i){let s={};return r&&Ot(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new jt(n.root===t?e:me(n.root,t,e),s,i)}function me(t,e,n){const r={};return Ot(t.children,(t,i)=>{r[i]=t===e?n:me(t,e,n)}),new kt(t.segments,r)}class ye{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&de(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pe);if(r&&r!==St(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ve{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function be(t,e,n){if(t||(t=new kt([],{})),0===t.segments.length&&t.hasChildren())return _e(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(pe(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Oe(a,u,e))return s;r+=2}else{if(!Oe(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new kt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new kt(t.segments.slice(r.pathIndex),t.children),_e(e,0,i)}return r.match&&0===i.length?new kt(t.segments,{}):r.match&&!t.hasChildren()?we(t,e,n):r.match?_e(t,0,i):we(t,e,n)}function _e(t,e,n){if(0===n.length)return new kt(t.segments,{});{const r=function(t){return pe(t[0])?t[0].outlets:{[gt]:t}}(n),i={};return Ot(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=be(t.children[r],e,n))}),Ot(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new kt(t.segments,i)}}function we(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(pe(s)){const t=Ee(s.outlets);return new kt(r,t)}if(0===i&&de(n[0])){r.push(new Nt(t.segments[e].path,Se(n[0]))),i++;continue}const o=pe(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&de(a)?(r.push(new Nt(o,Se(a))),i+=2):(r.push(new Nt(o,{})),i++)}return new kt(r,{})}function Ee(t){const e={};return Ot(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=we(new kt([],{}),0,t))}),e}function Se(t){const e={};return Ot(t,(t,n)=>e[n]=`${t}`),e}function Oe(t,e,n){return t==n.path&&_t(e,n.parameters)}class Te{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ce(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=te(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ot(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=te(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=te(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new dt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ht(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ce(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ce(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ce(t){ce(t.value),t.children.forEach(Ce)}class Ie{constructor(t,e){this.routes=t,this.module=e}}function xe(t){return"function"==typeof t}function Ae(t){return t instanceof jt}const je=Symbol("INITIAL_VALUE");function ke(){return Object(I.a)(t=>function(...t){let e,n;return Object(u.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(c.a)(t[0])&&(t=t[0]),Object(m.a)(t,n).lift(new v(e))}(t.map(t=>t.pipe(Object(x.a)(1),Object(A.a)(je)))).pipe(Object(j.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==je)return t;if(r===je&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ae(r))return r}return t},t)},je),Object(k.a)(t=>t!==je),Object(C.a)(t=>Ae(t)?t:!0===t),Object(x.a)(1)))}let Ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Ub(0,"router-outlet")},directives:function(){return[In]},encapsulation:2}),t})();function Pe(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];De(r,Re(e,r))}}function De(t,e){t.children&&Pe(t.children,e)}function Re(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Le(t){const e=t.children&&t.children.map(Le),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==gt&&(n.component=Ne),n}function Me(t){return t.outlet||gt}function Fe(t,e){const n=t.filter(t=>Me(t)===e);return n.push(...t.filter(t=>Me(t)!==e)),n}const Ve={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ue(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ve):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bt)(n,t,e);if(!i)return Object.assign({},Ve);const s={};Ot(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function qe(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Be(t,e,n)&&Me(n)!==gt)}(t,n,r)){const i=new kt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Me(s)!==gt){const n=new kt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Me(s)]=n}return i}(t,e,r,new kt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Be(t,e,n))}(t,n,r)){const s=new kt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Be(t,n,a)&&!i[Me(a)]){const n=new kt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Me(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new kt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Be(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function He(t,e,n,r){return!!(Me(t)===r||r!==gt&&Be(e,n,t))&&("**"===t.path||Ue(e,t,n).matched)}function ze(t,e,n){return 0===e.length&&!t.children[n]}class $e{constructor(t){this.segmentGroup=t||null}}class Ke{constructor(t){this.urlTree=t}}function Ge(t){return new p.a(e=>e.error(new $e(t)))}function Qe(t){return new p.a(e=>e.error(new Ke(t)))}function We(t){return new p.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xe{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.D)}apply(){const t=qe(this.urlTree.root,[],[],this.config).segmentGroup,e=new kt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,gt).pipe(Object(C.a)(t=>this.createUrlTree(Ye(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(P(t=>{if(t instanceof Ke)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $e)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,gt).pipe(Object(C.a)(e=>this.createUrlTree(Ye(e),t.queryParams,t.fragment))).pipe(P(t=>{if(t instanceof $e)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new kt([],{[gt]:t}):t;return new jt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(C.a)(t=>new kt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(Object(L.a)(r=>{const i=n.children[r],s=Fe(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(C.a)(t=>({segment:t,outlet:r})))}),Object(j.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(k.a)((e,n)=>t(e,n,r)):H.a,F(1),n?Object(B.a)(e):Object(q.a)(()=>new _.a))}())}expandSegment(t,e,n,r,i,a){return Object(s.a)(n).pipe(Object(L.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(P(t=>{if(t instanceof $e)return Object(o.a)(null);throw t}))),Object(z.a)(t=>!!t),P((t,n)=>{if(t instanceof _.a||"EmptyError"===t.name){if(ze(e,r,i))return Object(o.a)(new kt([],{}));throw new $e(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return He(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Ge(e):Ge(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qe(i):this.lineralizeSegments(n,i).pipe(Object($.a)(n=>{const i=new kt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ue(e,r,i);if(!o)return Ge(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Qe(l):this.lineralizeSegments(r,l).pipe(Object($.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(C.a)(t=>(n._loadedConfig=t,new kt(r,{})))):Object(o.a)(new kt(r,{}));const{matched:s,consumedSegments:a,lastChild:u}=Ue(e,n,r);if(!s)return Ge(e);const c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object($.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:u,slicedSegments:l}=qe(e,a,c,s),h=new kt(u.segments,u.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe(Object(C.a)(t=>new kt(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new kt(a,{}));const f=Me(n)===i;return this.expandSegment(r,h,s,l,f?gt:i,!0).pipe(Object(C.a)(t=>new kt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Ie(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object($.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(C.a)(t=>(e._loadedConfig=t,t))):function(t){return new p.a(e=>e.error(vt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Ie([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&xe(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!xe(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Tt(s)});return Object(o.a)(i).pipe(ke(),Object(K.a)(t=>{if(!Ae(t))return;const e=vt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(C.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return We(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ot(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ot(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new kt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ye(t){const e={};for(const n of Object.keys(t.children)){const r=Ye(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new kt(t.segments.concat(e.segments),e.children)}return t}(new kt(t.segments,e))}class Ze{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Je{constructor(t,e){this.component=t,this.route=e}}function tn(t,e,n){const r=t._root;return nn(r,e?e._root:null,n,[r.value])}function en(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=te(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pt(t.url,e.url)||!_t(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!le(t,e)||!_t(t.queryParams,e.queryParams);case"paramsChange":default:return!le(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ze(r)):(s.data=o.data,s._resolvedData=o._resolvedData),nn(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Je(a.outlet.component,o))}else o&&rn(e,a,i),i.canActivateChecks.push(new Ze(r)),nn(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Ot(s,(t,e)=>rn(t,n.getContext(e),i)),i}function rn(t,e,n){const r=te(t),i=t.value;Ot(r,(t,r)=>{rn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Je(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class sn{}function on(t){return new p.a(e=>e.error(t))}class an{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=qe(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,gt);if(null===e)return null;const n=new se([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jt(n,e),i=new oe(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ie(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Fe(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=cn(n);return r.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ze(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!He(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?St(n).parameters:{};i=new se(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(t),Me(t),t.component,t,ln(e),hn(e)+n.length,dn(t))}else{const r=Ue(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new se(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(t),Me(t),t.component,t,ln(e),hn(e)+s.length,dn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=qe(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Jt(i,t)]}if(0===a.length&&0===c.length)return[new Jt(i,[])];const l=Me(t)===r,h=this.processSegment(a,u,c,l?gt:r);return null===h?null:[new Jt(i,h)]}}function un(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cn(t){const e=[],n=new Set;for(const r of t){if(!un(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=cn(r.children);e.push(new Jt(r.value,t))}return e.filter(t=>!n.has(t))}function ln(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fn(t){return t.data||{}}function dn(t){return t.resolve||{}}function pn(t){return Object(I.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(C.a)(()=>e)):Object(o.a)(e)})}class gn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mn=new i.u("ROUTES");class yn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(C.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ie(Et(r.injector.get(mn,void 0,i.t.Self|i.t.Optional)).map(Le),r)}),P(t=>{throw e._loader$=void 0,t}));return e._loader$=new O.a(n,()=>new T.a).pipe(Object(G.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Tt(t()).pipe(Object($.a)(t=>t instanceof i.B?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class vn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bn,this.attachRef=null}}class bn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new vn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wn(t){throw t}function En(t,e,n){return e.parse("/")}function Sn(t,e){return Object(o.a)(null)}let On=(()=>{class t{constructor(t,e,n,r,s,o,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T.a,this.errorHandler=wn,this.malformedUriErrorHandler=En,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sn,afterPreactivation:Sn},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new gn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.D),this.console=s.get(i.fb);const l=s.get(i.F);this.isNgZoneEnabled=l instanceof i.F&&i.F.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new jt(new kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yn(o,u,t=>this.triggerEvent(new ut(t)),t=>this.triggerEvent(new ct(t))),this.routerState=ne(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(k.a)(t=>0!==t.id),Object(C.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(I.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(K.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(I.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(I.a)(t=>{const n=this.transitions.getValue();return e.next(new J(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?E.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,Object(I.a)(t=>function(t,e,n,r,i){return new Xe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(C.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(K.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object($.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const a=new an(t,e,n,r,i,s).recognize();return null===a?on(new sn):Object(o.a)(a)}catch(a){return on(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(C.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(K.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new rt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new J(n,this.serializeUrl(r),i,s);e.next(u);const c=ne(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),E.a}),pn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(K.a)(t=>{const e=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(C.a)(t=>Object.assign(Object.assign({},t),{guards:tn(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object($.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object($.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=en(s,e,i);let a;if(function(t){return t&&xe(t.canDeactivate)}(o))a=Tt(o.canDeactivate(t,e,n,r));else{if(!xe(o))throw new Error("Invalid CanDeactivate guard");a=Tt(o(t,e,n,r))}return a.pipe(Object(z.a)())});return Object(o.a)(a).pipe(ke())}(t.component,t.route,n,e,r)),Object(z.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object($.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(L.a)(e=>Object(w.a)(function(t,e){return null!==t&&e&&e(new lt(t)),Object(o.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ft(t)),Object(o.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>S(()=>{const i=e.guards.map(i=>{const s=en(i,e.node,n);let o;if(function(t){return t&&xe(t.canActivateChild)}(s))o=Tt(s.canActivateChild(r,t));else{if(!xe(s))throw new Error("Invalid CanActivateChild guard");o=Tt(s(r,t))}return o.pipe(Object(z.a)())});return Object(o.a)(i).pipe(ke())}));return Object(o.a)(i).pipe(ke())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>S(()=>{const i=en(r,e,n);let s;if(function(t){return t&&xe(t.canActivate)}(i))s=Tt(i.canActivate(e,t));else{if(!xe(i))throw new Error("Invalid CanActivate guard");s=Tt(i(e,t))}return s.pipe(Object(z.a)())}));return Object(o.a)(i).pipe(ke())}(t,e.route,n))),Object(z.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(C.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(K.a)(t=>{if(Ae(t.guardsResult)){const e=vt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(k.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new et(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),pn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(K.a)(t=>{const e=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(I.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object($.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(L.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object($.a)(i=>function(t,e,n,r){const i=en(t,e,r);return Tt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(K.a)(t=>{a[i]=t}))),F(1),Object($.a)(()=>Object.keys(a).length===i.length?Object(o.a)(a):E.a))}(t._resolve,t,e,r).pipe(Object(C.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ie(t,n).resolve),null)))}(t.route,e,r,i)),Object(K.a)(()=>a++),F(1),Object($.a)(e=>a===n.length?Object(o.a)(t):E.a))})),Object(K.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new et(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(K.a)(t=>{const e=new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),pn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(C.a)(t=>{const e=function(t,e,n){const r=he(t,e._root,n?n._root:void 0);return new ee(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(K.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(C.a)(t=>(new Te(u,t.targetRouterState,t.currentRouterState,c).activate(a),t))),Object(K.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new et(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new W(i))),P(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ae(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new et(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new nt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return E.a}));var i,a,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pe(t),this.config=t.map(Le),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ge(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ye(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ot(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ye(n,e,r)}(n);if(s.toRoot())return ge(e.root,new kt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ve(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ve(t,t===e.root,0)}const r=de(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ve(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?_e(o.segmentGroup,o.index,s.commands):be(o.segmentGroup,o.index,s.commands);return ge(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ae(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ae(t))return Ct(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ct(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.U),i.cc(Dt),i.cc(bn),i.cc(r.h),i.cc(i.v),i.cc(i.C),i.cc(i.j),i.cc(void 0))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),Tn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new T.a,this.subscription=t.events.subscribe(t=>{t instanceof tt&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(On),i.Tb(re),i.Tb(r.i))},t.\u0275dir=i.Ob({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.fc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.bc("href",e.href,i.rc),i.Jb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Gb]}),t})();function Cn(t){return""===t||!!t}let In=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.q,this.deactivateEvents=new i.q,this.name=r||gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(bn),i.Tb(i.X),i.Tb(i.l),i.dc("name"),i.Tb(i.i))},t.\u0275dir=i.Ob({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===re?this.route:t===bn?this.childContexts:this.parent.get(t,e)}}class An{}class jn{preload(t,e){return Object(o.a)(null)}}let kn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new yn(e,n,e=>t.triggerEvent(new ut(e)),e=>t.triggerEvent(new ct(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(k.a)(t=>t instanceof tt),Object(L.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.D);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(Y.a)(),Object(C.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object($.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.cc(On),i.cc(i.C),i.cc(i.j),i.cc(i.v),i.cc(An))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),Nn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof J?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tt&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new pt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(On),i.cc(r.n),i.cc(void 0))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const Pn=new i.u("ROUTER_CONFIGURATION"),Dn=new i.u("ROUTER_FORROOT_GUARD"),Rn=[r.h,{provide:Dt,useClass:Rt},{provide:On,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new On(null,t,e,n,i,s,o,Et(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=Object(r.r)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Dt,bn,r.h,i.v,i.C,i.j,mn,Pn,[class{},new i.G],[class{},new i.G]]},bn,{provide:re,useFactory:function(t){return t.routerState.root},deps:[On]},{provide:i.C,useClass:i.R},kn,jn,class{preload(t,e){return e().pipe(P(()=>Object(o.a)(null)))}},{provide:Pn,useValue:{enableTracing:!1}}];function Ln(){return new i.E("Router",On)}let Mn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Rn,qn(e),{provide:Dn,useFactory:Un,deps:[[On,new i.G,new i.Q]]},{provide:Pn,useValue:n||{}},{provide:r.i,useFactory:Vn,deps:[r.m,[new i.s(r.a),new i.G],Pn]},{provide:Nn,useFactory:Fn,deps:[On,r.n,Pn]},{provide:An,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jn},{provide:i.E,multi:!0,useFactory:Ln},[Bn,{provide:i.d,multi:!0,useFactory:Hn,deps:[Bn]},{provide:$n,useFactory:zn,deps:[Bn]},{provide:i.b,multi:!0,useExisting:$n}]]}}static forChild(e){return{ngModule:t,providers:[qn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.cc(Dn,8),i.cc(On,8))},t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({}),t})();function Fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Nn(t,e,n)}function Vn(t,e,n={}){return n.useHash?new r.e(t,e):new r.l(t,e)}function Un(t){return"guarded"}function qn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:mn,multi:!0,useValue:t}]}let Bn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T.a}appInitializer(){return this.injector.get(r.g,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(On),r=this.injector.get(Pn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Pn),n=this.injector.get(kn),r=this.injector.get(Nn),s=this.injector.get(On),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.v))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();function Hn(t){return t.appInitializer.bind(t)}function zn(t){return t.bootstrapListener.bind(t)}const $n=new i.u("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("jhN1"),i=n("fXoL"),s=n("tk/3"),o=n("3Pt+");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"container"],[1,"text"],[1,"context"],["src","assets/images/20943593.svg","alt","",1,"img-fluid","${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"]],template:function(t,e){1&t&&(i.Yb(0,"div",0),i.Yb(1,"div",1),i.Yb(2,"h4"),i.wc(3,"Welcome to Profiles Evaluation App...!"),i.Xb(),i.Yb(4,"div",2),i.wc(5," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages. "),i.Xb(),i.Xb(),i.Ub(6,"img",3),i.Xb())},styles:["img[_ngcontent-%COMP%]{height:auto;margin-left:1rem;max-width:60%}.container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{border-radius:1rem}.container[_ngcontent-%COMP%]{align-items:center;background-color:#fff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);display:flex;justify-content:space-around;margin:2rem 10% 0;text-align:center;width:80%}.context[_ngcontent-%COMP%]{margin-left:2rem;text-align:justify;width:18rem}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:1rem}"]}),t})();var u=n("mrSG"),c=n("XNiG"),l=n("LRne"),h=n("HDdC"),f=n("Cfvw"),d=n("VRyK"),p=n("pxpQ"),g=n("eIep"),m=n("lJxs"),y=n("qgXg"),v=n("quSY"),b=n("9ppp"),_=n("Ylt2");class w extends c.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new E(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new b.a;if(this.isStopped||this.hasError?s=v.a.EMPTY:(this.observers.push(t),s=new _.a(this,t)),r&&t.add(t=new p.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||y.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class E{constructor(t,e){this.time=t,this.value=e}}function S(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new w(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var O=n("SxV6");function T(t,e){return e?Object(g.a)(()=>t,e):Object(g.a)(()=>t)}var C=n("tf+s"),I=n("pLZG"),x=n("spgP"),A=n("ofXK");const j=new i.u("angularfire2.auth.use-emulator"),k=new i.u("angularfire2.auth.settings"),N=new i.u("angularfire2.auth.tenant-id"),P=new i.u("angularfire2.auth.langugage-code"),D=new i.u("angularfire2.auth.use-device-language"),R=new i.u("angularfire.auth.persistence");let L=(()=>{class t{constructor(t,e,r,i,s,o,a,u,y,v){const b=new x.d(i),_=Object(x.h)(b),w=new c.a,E=Object(l.a)(void 0).pipe(Object(p.b)(b.outsideAngular),Object(g.a)(()=>i.runOutsideAngular(()=>n.e(8).then(n.bind(null,"6nsN")))),Object(m.a)(()=>Object(x.g)(t,i,e)),Object(m.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(x.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,y&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return v&&r.setPersistence(v),r},[e,a,u,y,n,v])})),S({bufferSize:1,refCount:!1}));if(Object(A.o)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(l.a)(null);else{E.pipe(Object(O.a)()).subscribe();const t=E.pipe(Object(g.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),_,S({bufferSize:1,refCount:!1})),e=t=>new h.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=E.pipe(Object(g.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=E.pipe(Object(g.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(T(n),Object(C.a)(b.outsideAngular),Object(p.b)(b.insideAngular)),this.user=t.pipe(T(r),Object(C.a)(b.outsideAngular),Object(p.b)(b.insideAngular)),this.idToken=this.user.pipe(Object(g.a)(t=>t?Object(f.a)(t.getIdToken()):Object(l.a)(null))),this.idTokenResult=this.user.pipe(Object(g.a)(t=>t?Object(f.a)(t.getIdTokenResult()):Object(l.a)(null))),this.credential=Object(d.a)(t,w,this.authState.pipe(Object(I.a)(t=>!t))).pipe(Object(m.a)(t=>(null==t?void 0:t.user)?t:null),Object(C.a)(b.outsideAngular),Object(p.b)(b.insideAngular))}return Object(x.i)(this,E,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>w.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(x.c),i.cc(x.b,8),i.cc(i.I),i.cc(i.F),i.cc(j,8),i.cc(k,8),i.cc(N,8),i.cc(P,8),i.cc(D,8),i.cc(R,8))},t.\u0275prov=i.Pb({factory:function(){return new t(i.cc(x.c),i.cc(x.b,8),i.cc(i.I),i.cc(i.F),i.cc(j,8),i.cc(k,8),i.cc(N,8),i.cc(P,8),i.cc(D,8),i.cc(R,8))},token:t,providedIn:"any"}),t})();Object(x.e)(L,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({providers:[L]}),t})();var F=n("D0XW"),V=n("JX91"),U=n("7o/Q");function q(){return t=>t.lift(new B)}class B{call(t,e){return e.subscribe(new H(t))}}class H extends U.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var z=n("Kqap");class ${constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new K(t,this.compare,this.keySelector))}}class K extends U.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var G=n("Jgta"),Q=n("zIRd"),W=n("qOnz"),X=n("q/0M"),Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Z(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var J,tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},et=et||{},nt=tt||self;function rt(){}function it(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function st(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ot="closure_uid_"+(1e9*Math.random()>>>0),at=0;function ut(t,e,n){return t.call.apply(t.bind,arguments)}function ct(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lt(t,e,n){return(lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:ct).apply(null,arguments)}function ht(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ft(){return Date.now()}function dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function pt(){this.j=this.j,this.i=this.i}pt.prototype.j=!1,pt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ot)&&t[ot]||(t[ot]=++at)}(this)},pt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function yt(t){return Array.prototype.concat.apply([],arguments)}function vt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bt(t){return/^[\s\xa0]*$/.test(t)}var _t,wt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Et(t,e){return-1!=t.indexOf(e)}function St(t,e){return t<e?-1:t>e?1:0}t:{var Ot=nt.navigator;if(Ot){var Tt=Ot.userAgent;if(Tt){_t=Tt;break t}}_t=""}function Ct(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function It(t){var e={};for(var n in t)e[n]=t[n];return e}var xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<xt.length;s++)n=xt[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jt(t){return jt[" "](t),t}jt[" "]=rt;var kt,Nt,Pt=Et(_t,"Opera"),Dt=Et(_t,"Trident")||Et(_t,"MSIE"),Rt=Et(_t,"Edge"),Lt=Rt||Dt,Mt=Et(_t,"Gecko")&&!(Et(_t.toLowerCase(),"webkit")&&!Et(_t,"Edge"))&&!(Et(_t,"Trident")||Et(_t,"MSIE"))&&!Et(_t,"Edge"),Ft=Et(_t.toLowerCase(),"webkit")&&!Et(_t,"Edge");function Vt(){var t=nt.document;return t?t.documentMode:void 0}t:{var Ut="",qt=(Nt=_t,Mt?/rv:([^\);]+)(\)|;)/.exec(Nt):Rt?/Edge\/([\d\.]+)/.exec(Nt):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Nt):Ft?/WebKit\/(\S+)/.exec(Nt):Pt?/(?:Version)[ \/]?(\S+)/.exec(Nt):void 0);if(qt&&(Ut=qt?qt[1]:""),Dt){var Bt=Vt();if(null!=Bt&&Bt>parseFloat(Ut)){kt=String(Bt);break t}}kt=Ut}var Ht={};function zt(t){return function(t,e){var n=Ht;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=wt(String(kt)).split("."),r=wt(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=St(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||St(0==o[2].length,0==a[2].length)||St(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var $t=nt.document&&Dt&&(Vt()||parseInt(kt,10))||void 0,Kt=!Dt||9<=Number($t),Gt=Dt&&!zt("9"),Qt=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nt.addEventListener("test",rt,e),nt.removeEventListener("test",rt,e)}catch(n){}return t}();function Wt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Xt(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Mt){t:{try{jt(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Wt.prototype.b=function(){this.defaultPrevented=!0},dt(Xt,Wt);var Yt={2:"touch",3:"pen",4:"mouse"};Xt.prototype.b=function(){Xt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Zt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function te(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Jt,this.Y=this.Z=!1}function ee(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ne(t){this.src=t,this.a={},this.b=0}function re(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=gt(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ee(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ie(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ne.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ie(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new te(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var se="closure_lm_"+(1e6*Math.random()|0),oe={};function ae(t,e,n,r,i){if(r&&r.once)return ce(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ae(t,e[s],n,r,i);return null}return n=ye(n),t&&t[Zt]?t.va(e,n,st(r)?!!r.capture:!!r,i):ue(t,e,n,!1,r,i)}function ue(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=st(i)?!!i.capture:!!i;if(o&&!Kt)return null;var a=ge(t);if(a||(t[se]=a=new ne(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=pe,e=Kt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ce(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ce(t,e[s],n,r,i);return null}return n=ye(n),t&&t[Zt]?t.wa(e,n,st(r)?!!r.capture:!!r,i):ue(t,e,n,!0,r,i)}function le(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)le(t,e[s],n,r,i);else r=st(r)?!!r.capture:!!r,n=ye(n),t&&t[Zt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ie(s=t.a[e],n,r,i))&&(ee(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=ge(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ie(e,n,r,i)),(n=-1<t?e[t]:null)&&he(n))}function he(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zt])re(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ge(e))?(re(n,t),0==n.b&&(n.src=null,e[se]=null)):ee(t)}}}function fe(t){return t in oe?oe[t]:oe[t]="on"+t}function de(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&he(t),n.call(r,e)}function pe(t,e){if(t.Y)return!0;if(!Kt){if(!e)t:{e=["window","event"];for(var n=nt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return de(t,e=new Xt(e,this))}return de(t,new Xt(e,this))}function ge(t){return(t=t[se])instanceof ne?t:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(t){return"function"==typeof t?t:(t[me]||(t[me]=function(e){return t.handleEvent(e)}),t[me])}function ve(){pt.call(this),this.c=new ne(this),this.J=this,this.C=null}function be(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;At(e=new Wt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=_e(o,r,!0,e)&&i}if(i=_e(o=e.a=t,r,!0,e)&&i,i=_e(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_e(o=e.a=n[s],r,!1,e)&&i}function _e(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&re(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}dt(ve,pt),ve.prototype[Zt]=!0,(J=ve.prototype).addEventListener=function(t,e,n,r){ae(this,t,e,n,r)},J.removeEventListener=function(t,e,n,r){le(this,t,e,n,r)},J.G=function(){if(ve.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ee(n[r]);delete e.a[t],e.b--}}this.C=null},J.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},J.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var we=nt.JSON.stringify;function Ee(){this.b=this.a=null}var Se,Oe=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ce},function(t){t.reset()});function Te(){var t=je,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ce(){this.next=this.b=this.a=null}function Ie(t){nt.setTimeout(function(){throw t},0)}function xe(t,e){Se||function(){var t=nt.Promise.resolve(void 0);Se=function(){t.then(ke)}}(),Ae||(Se(),Ae=!0),je.add(t,e)}Ee.prototype.add=function(t,e){var n=Oe.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ce.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ce.prototype.reset=function(){this.next=this.b=this.a=null};var Ae=!1,je=new Ee;function ke(){for(var t;t=Te();){try{t.a.call(t.b)}catch(n){Ie(n)}var e=Oe;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ae=!1}function Ne(t,e){ve.call(this),this.b=t||1,this.a=e||nt,this.f=lt(this.Za,this),this.g=ft()}function Pe(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function De(t,e,n){if("function"==typeof t)n&&(t=lt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lt(t.handleEvent,t)}return 2147483647<Number(e)?-1:nt.setTimeout(t,e||0)}function Re(t){t.a=De(function(){t.a=null,t.c&&(t.c=!1,Re(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}dt(Ne,ve),(J=Ne.prototype).aa=!1,J.M=null,J.Za=function(){if(this.aa){var t=ft()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),be(this,"tick"),this.aa&&(Pe(this),this.start()))}},J.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ft())},J.G=function(){Ne.X.G.call(this),Pe(this),delete this.a};var Le=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Re(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(nt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pt);function Me(t){pt.call(this),this.b=t,this.a={}}dt(Me,pt);var Fe=[];function Ve(t,e,n,r){Array.isArray(n)||(n&&(Fe[0]=n.toString()),n=Fe);for(var i=0;i<n.length;i++){var s=ae(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ue(t){Ct(t.a,function(t,e){this.a.hasOwnProperty(e)&&he(t)},t),t.a={}}function qe(){this.a=!0}function Be(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return we(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Me.prototype.G=function(){Me.X.G.call(this),Ue(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qe.prototype.info=function(){};var He={},ze=null;function $e(){return ze=ze||new ve}function Ke(t){Wt.call(this,He.Fa,t)}function Ge(t){var e=$e();be(e,new Ke(e,t))}function Qe(t,e){Wt.call(this,He.STAT_EVENT,t),this.stat=e}function We(t){var e=$e();be(e,new Qe(e,t))}function Xe(t){Wt.call(this,He.Ga,t)}function Ye(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){t()},e)}He.Fa="serverreachability",dt(Ke,Wt),He.STAT_EVENT="statevent",dt(Qe,Wt),He.Ga="timingevent",dt(Xe,Wt);var Ze={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Je={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function tn(){}function en(){}tn.prototype.a=null;var nn,rn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function sn(){Wt.call(this,"d")}function on(){Wt.call(this,"c")}function an(){}function un(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Me(this),this.P=cn,this.R=new Ne(t=Lt?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}dt(sn,Wt),dt(on,Wt),dt(an,tn),nn=new an;var cn=45e3,ln={},hn={};function fn(t,e,n){t.H=1,t.i=Dn(xn(e)),t.j=n,t.I=!0,dn(t,null)}function dn(t,e){t.u=ft(),mn(t),t.l=xn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Gn(n.b,"t",r),t.D=0,t.a=qr(t.g,t.g.C?e:null),0<t.O&&(t.F=new Le(lt(t.Ca,t,t.a),t.O)),Ve(t.J,t.a,"readystatechange",t.Xa),e=t.B?It(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ge(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function pn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=gn(t,n);if(i==hn){4==e&&(t.h=4,We(14),r=!1),Be(t.c,t.f,null,"[Incomplete Response]");break}if(i==ln){t.h=4,We(15),Be(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Be(t.c,t.f,i,null),wn(t,i)}4==e&&0==n.length&&(t.h=1,We(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pr(e),e.F=!0,We(11))):(Be(t.c,t.f,n,"[Invalid Chunked Response]"),_n(t),bn(t))}function gn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?hn:(n=Number(e.substring(n,r)),isNaN(n)?ln:(r+=1)+n>e.length?hn:(e=e.substr(r,n),t.D=r+n,e))}function mn(t){t.T=ft()+t.P,yn(t,t.P)}function yn(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ye(lt(t.Va,t),e)}function vn(t){t.o&&(nt.clearTimeout(t.o),t.o=null)}function bn(t){0==t.g.v||t.A||Lr(t.g,t)}function _n(t){vn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Pe(t.R),Ue(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function wn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||tr(n.b,t)))if(n.I=t.N,!t.C&&tr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Sd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Rr(n),Or(n)}Nr(n),We(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ye(lt(n.Sa,n),6e3));if(1>=Jn(n.b)&&n.ea){try{n.ea()}catch(Sd){}n.ea=void 0}}else Fr(n,11)}else if((t.C||n.a==t)&&Rr(n),!bt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Et(l,"spdy")||Et(l,"quic")||Et(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(er(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Pn(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ft()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Ur(u,u.C?u.ga:null,u.fa),d.C){nr(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(vn(p),mn(p)),u.a=d}else kr(u);0<n.g.length&&Ir(n)}else"stop"!=i[0]&&"close"!=i[0]||Fr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fr(n,7):Sr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ge(4)}catch(Sd){}}function En(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(it(t)||"string"==typeof t)mt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(it(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(it(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(J=un.prototype).setTimeout=function(t){this.P=t},J.Xa=function(t){t=t.target;var e=this.F;e&&3==br(t)?e.f():this.Ca(t)},J.Ca=function(t){try{if(t==this.a)t:{var e=br(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Lt&&!this.a.$())){this.A||4!=e||7==n||Ge(8==n||0>=r?3:2),vn(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,We(12),_n(this),bn(this);break t}Be(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wn(this,u)}this.I?(pn(this,e,s),Lt&&this.b&&3==e&&(Ve(this.J,this.R,"tick",this.Wa),this.R.start())):(Be(this.c,this.f,s,null),wn(this,s)),4==e&&_n(this),this.b&&!this.A&&(4==e?Lr(this.g,this):(this.b=!1,mn(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,We(12)):(this.h=0,We(13)),_n(this),bn(this)}}}catch(c){}},J.Wa=function(){if(this.a){var t=br(this.a),e=this.a.$();this.D<e.length&&(vn(this),pn(this,t,e),this.b&&4!=t&&mn(this))}},J.cancel=function(){this.A=!0,_n(this)},J.Va=function(){this.o=null;var t=ft();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ge(3),We(17)),_n(this),this.h=2,bn(this)):yn(this,this.T-t)},(J=Sn.prototype).K=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},J.L=function(){return On(this),this.a.concat()},J.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},J.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},J.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof In){this.a=void 0!==e?e:t.a,An(this,t.f),this.j=t.j,jn(this,t.c),kn(this,t.h),this.g=t.g,e=t.b;var n=new Hn;n.c=e.c,e.a&&(n.a=new Sn(e.a),n.b=e.b),Nn(this,n),this.i=t.i}else t&&(n=String(t).match(Cn))?(this.a=!!e,An(this,n[1]||"",!0),this.j=Rn(n[2]||""),jn(this,n[3]||"",!0),kn(this,n[4]),this.g=Rn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.i=Rn(n[7]||"")):(this.a=!!e,this.b=new Hn(null,this.a))}function xn(t){return new In(t)}function An(t,e,n){t.f=n?Rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jn(t,e,n){t.c=n?Rn(e,!0):e}function kn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Nn(t,e,n){e instanceof Hn?(t.b=e,function(t,e){e&&!t.f&&(zn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Gn(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ln(e,qn)),t.b=new Hn(e,t.a))}function Pn(t,e,n){t.b.set(e,n)}function Dn(t){return Pn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ft()).toString(36)),t}function Rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ln(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}In.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ln(e,Fn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ln(e,Fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ln(n,"/"==n.charAt(0)?Un:Vn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ln(n,Bn)),t.join("")};var Fn=/[#\/\?@]/g,Vn=/[#\?:]/g,Un=/[#\?]/g,qn=/[#\?@]/g,Bn=/#/g;function Hn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $n(t,e){zn(t),e=Qn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function Kn(t,e){return zn(t),e=Qn(t,e),Tn(t.a.b,e)}function Gn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),vt(n)),t.b+=n.length)}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(J=Hn.prototype).add=function(t,e){zn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},J.forEach=function(t,e){zn(this),this.a.forEach(function(n,r){mt(n,function(n){t.call(e,n,r,this)},this)},this)},J.L=function(){zn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},J.K=function(t){zn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=yt(e,this.a.get(Qn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yt(e,t[n])}return e},J.set=function(t,e){return zn(this),this.c=null,Kn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},J.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},J.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Wn=function(){return function(t,e){this.b=t,this.a=e}}();function Xn(t){this.g=t||Yn,t=nt.PerformanceNavigationTiming?0<(t=nt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nt.ia&&nt.ia.ya&&nt.ia.ya()&&nt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Yn=10;function Zn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Jn(t){return t.b?1:t.a?t.a.size:0}function tr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function er(t,e){t.a?t.a.add(e):t.b=e}function nr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Z(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return vt(t.c)}function ir(){}function sr(){this.a=new ir}function or(t,e,n){var r=n||"";try{En(t,function(t,n){var i=t;st(t)&&(i=we(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ap){throw e.push(r+"type="+encodeURIComponent("_badmap")),ap}}function ar(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Xn.prototype.cancel=function(){var t,e;if(this.c=rr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Z(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ir.prototype.stringify=function(t){return nt.JSON.stringify(t,void 0)},ir.prototype.parse=function(t){return nt.JSON.parse(t,void 0)};var ur=nt.JSON.parse;function cr(t){ve.call(this),this.headers=new Sn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=lr,this.D=this.F=!1}dt(cr,ve);var lr="",hr=/^https?$/i,fr=["POST","PUT"];function dr(t){return"content-type"==t.toLowerCase()}function pr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gr(t),yr(t)}function gr(t){t.u||(t.u=!0,be(t,"complete"),be(t,"error"))}function mr(t){if(t.b&&void 0!==et&&(!t.s[1]||4!=br(t)||2!=t.W()))if(t.l&&4==br(t))De(t.za,0,t);else if(be(t,"readystatechange"),4==br(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Cn)[1]||null;if(!s&&nt.self&&nt.self.location){var o=nt.self.location.protocol;s=o.substr(0,o.length-1)}i=!hr.test(s?s.toLowerCase():"")}e=i}if(e)be(t,"complete"),be(t,"success");else{t.h=6;try{var a=2<br(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",gr(t)}}finally{yr(t)}}}function yr(t,e){if(t.a){vr(t);var n=t.a,r=t.s[0]?rt:null;t.a=null,t.s=null,e||be(t,"ready");try{n.onreadystatechange=r}catch(ap){}}}function vr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(nt.clearTimeout(t.m),t.m=null)}function br(t){return t.a?t.a.readyState:0}function _r(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ct(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pn(t,e,n))}function wr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Er(t){this.pa=0,this.g=[],this.c=new qe,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wr("baseRetryDelayMs",5e3,t),this.Ra=wr("retryDelaySeedMs",1e4,t),this.Ma=wr("forwardChannelMaxRetries",2,t),this.ma=wr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Xn(t&&t.concurrentRequestLimit),this.ka=new sr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Sr(t){if(Tr(t),3==t.v){var e=t.R++,n=xn(t.B);Pn(n,"SID",t.J),Pn(n,"RID",e),Pn(n,"TYPE","terminate"),Ar(t,n),(e=new un(t,t.c,e,void 0)).H=2,e.i=Dn(xn(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon&&(n=nt.navigator.sendBeacon(e.i.toString(),"")),!n&&nt.Image&&((new Image).src=e.i,n=!0),n||(e.a=qr(e.g,null),e.a.ba(e.i)),e.u=ft(),mn(e)}Vr(t)}function Or(t){t.a&&(Pr(t),t.a.cancel(),t.a=null)}function Tr(t){Or(t),t.j&&(nt.clearTimeout(t.j),t.j=null),Rr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&nt.clearTimeout(t.h),t.h=null)}function Cr(t,e){t.g.push(new Wn(t.Oa++,e)),3==t.v&&Ir(t)}function Ir(t){Zn(t.b)||t.h||(t.h=!0,xe(t.Ba,t),t.u=0)}function xr(t,e){var n;n=e?e.f:t.R++;var r=xn(t.B);Pn(r,"SID",t.J),Pn(r,"RID",n),Pn(r,"AID",t.P),Ar(t,r),t.i&&t.l&&_r(r,t.i,t.l),n=new un(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),er(t.b,n),fn(n,r,e)}function Ar(t,e){t.f&&En({},function(t,n){Pn(e,n,t)})}function jr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lt(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{or(l,o,"req"+c+"_")}catch(yi){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function kr(t){t.a||t.j||(t.T=1,xe(t.Aa,t),t.o=0)}function Nr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ye(lt(t.Aa,t),Mr(t,t.o)),t.o++,0))}function Pr(t){null!=t.s&&(nt.clearTimeout(t.s),t.s=null)}function Dr(t){t.a=new un(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xn(t.la);Pn(e,"RID","rpc"),Pn(e,"SID",t.J),Pn(e,"CI",t.H?"0":"1"),Pn(e,"AID",t.P),Ar(t,e),Pn(e,"TYPE","xmlhttp"),t.i&&t.l&&_r(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Dn(xn(e)),n.j=null,n.I=!0,dn(n,t)}function Rr(t){null!=t.m&&(nt.clearTimeout(t.m),t.m=null)}function Lr(t,e){var n=null;if(t.a==e){Rr(t),Pr(t),t.a=null;var r=2}else{if(!tr(t.b,e))return;n=e.s,nr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ft()-e.u;var i=t.u;be(r=$e(),new Xe(r,n,e,i)),Ir(t)}else kr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Jn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ye(lt(t.Ba,t,e),Mr(t,t.u)),t.u++,0)))}(t,e)||2==r&&Nr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fr(t,5);break;case 4:Fr(t,10);break;case 3:Fr(t,6);break;default:Fr(t,2)}}function Mr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Fr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lt(t.Ya,t);n||(n=new In("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||An(n,"https"),Dn(n)),function(t,e){var n=new qe;if(nt.Image){var r=new Image;r.onload=ht(ar,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ht(ar,n,r,"TestLoadImage: error",!1,e),r.onabort=ht(ar,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ht(ar,n,r,"TestLoadImage: timeout",!1,e),nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else We(2);t.v=0,t.f&&t.f.ra(e),Vr(t),Tr(t)}function Vr(t){t.v=0,t.I=-1,t.f&&(0==rr(t.b).length&&0==t.g.length||(t.b.c.length=0,vt(t.g),t.g.length=0),t.f.qa())}function Ur(t,e,n){var r=function(t){return t instanceof In?xn(t):new In(t,void 0)}(n);if(""!=r.c)e&&jn(r,e+"."+r.c),kn(r,r.h);else{var i=nt.location;r=function(t,e,n,r){var i=new In(null,void 0);return t&&An(i,t),e&&jn(i,e),n&&kn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ct(t.V,function(t,e){Pn(r,e,t)}),n=t.na,(e=t.A)&&n&&Pn(r,e,n),Pn(r,"VER",t.ha),Ar(t,r),r}function qr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t.Na)).F=t.C,e}function Br(){}function Hr(){if(Dt&&!(10<=Number($t)))throw Error("Environmental error: no available transport.")}function zr(t,e){ve.call(this),this.a=new Er(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Gr(this)}function $r(t){sn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kr(){on.call(this),this.status=1}function Gr(t){this.a=t}(J=cr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:nn),this.a.onreadystatechange=lt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void pr(this,s)}t=n||"";var i=new Sn(this.headers);r&&En(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=dr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=nt.FormData&&t instanceof nt.FormData,!(0<=gt(fr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vr(this),0<this.o&&((this.D=function(t){return Dt&&zt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=lt(this.xa,this)):this.m=De(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){pr(this,s)}},J.xa=function(){void 0!==et&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,be(this,"timeout"),this.abort(8))},J.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,be(this,"complete"),be(this,"abort"),yr(this))},J.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yr(this,!0)),cr.X.G.call(this)},J.za=function(){this.j||(this.A||this.l||this.g?mr(this):this.Ua())},J.Ua=function(){mr(this)},J.W=function(){try{return 2<br(this)?this.a.status:-1}catch(Nt){return-1}},J.$=function(){try{return this.a?this.a.responseText:""}catch(Nt){return""}},J.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ur(e)}},J.ua=function(){return this.h},J.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(J=Er.prototype).ha=8,J.v=1,J.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new un(this,this.c,t,void 0),r=this.l;if(this.O&&(r?At(r=It(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jr(this,n,e),Pn(i=xn(this.B),"RID",t),Pn(i,"CVER",22),this.A&&Pn(i,"X-HTTP-Session-Id",this.A),Ar(this,i),this.i&&r&&_r(i,this.i,r),er(this.b,n),this.Ia&&Pn(i,"TYPE","init"),this.da?(Pn(i,"$req",e),Pn(i,"SID","null"),n.U=!0,fn(n,i,null)):fn(n,i,e),this.v=2}}else 3==this.v&&(t?xr(this,t):0==this.g.length||Zn(this.b)||xr(this))},J.Aa=function(){if(this.j=null,Dr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ye(lt(this.Ta,this),t)}},J.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,We(10),Or(this),Dr(this))},J.Sa=function(){null!=this.m&&(this.m=null,Or(this),Nr(this),We(19))},J.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),We(2)):(this.c.info("Failed to ping google.com"),We(1))},(J=Br.prototype).ta=function(){},J.sa=function(){},J.ra=function(){},J.qa=function(){},J.Ja=function(){},Hr.prototype.a=function(t,e){return new zr(t,e)},dt(zr,ve),zr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;We(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ur(t,null,t.fa),Ir(t)},zr.prototype.close=function(){Sr(this.a)},zr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Cr(this.a,e)}else this.l?((e={}).__data__=we(t),Cr(this.a,e)):Cr(this.a,t)},zr.prototype.G=function(){this.a.f=null,delete this.f,Sr(this.a),delete this.a,zr.X.G.call(this)},dt($r,sn),dt(Kr,on),dt(Gr,Br),Gr.prototype.ta=function(){be(this.a,"a")},Gr.prototype.sa=function(t){be(this.a,new $r(t))},Gr.prototype.ra=function(t){be(this.a,new Kr(t))},Gr.prototype.qa=function(){be(this.a,"b")},Hr.prototype.createWebChannel=Hr.prototype.a,zr.prototype.send=zr.prototype.h,zr.prototype.open=zr.prototype.g,zr.prototype.close=zr.prototype.close,Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,Je.COMPLETE="complete",en.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",ve.prototype.listen=ve.prototype.va,cr.prototype.listenOnce=cr.prototype.wa,cr.prototype.getLastError=cr.prototype.Qa,cr.prototype.getLastErrorCode=cr.prototype.ua,cr.prototype.getStatus=cr.prototype.W,cr.prototype.getResponseJson=cr.prototype.Pa,cr.prototype.getResponseText=cr.prototype.$,cr.prototype.send=cr.prototype.ba;var Qr=Ze,Wr=Je,Xr=He,Yr=en,Zr=cr,Jr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Jr.o=-1;var ti={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ei=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(u.c)(e,t),e}(Error),ni=new X.b("@firebase/firestore");function ri(){return ni.logLevel}function ii(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ni.logLevel<=X.a.DEBUG){var r=e.map(ai);ni.debug.apply(ni,Object(u.f)(["Firestore (8.6.3): "+t],r))}}function si(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ni.logLevel<=X.a.ERROR){var r=e.map(ai);ni.error.apply(ni,Object(u.f)(["Firestore (8.6.3): "+t],r))}}function oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ni.logLevel<=X.a.WARN){var r=e.map(ai);ni.warn.apply(ni,Object(u.f)(["Firestore (8.6.3): "+t],r))}}function ai(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ap){return t}}function ui(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw si(e),new Error(e)}function ci(t,e){t||ui()}function li(t,e){return t}function hi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fi=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=hi(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function di(t,e){return t<e?-1:t>e?1:0}function pi(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function gi(t){return t+"\0"}var mi=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ei(ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ei(ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ei(ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ei(ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?di(this.nanoseconds,t.nanoseconds):di(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),yi=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new mi(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function vi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _i(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var wi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ui(),void 0===n?n=t.length-e:n>t.length-e&&ui(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ei(ti.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(wi),Si=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Si.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ei(ti.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ei(ti.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ei(ti.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ei(ti.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(wi),Ti=function(){function t(t){this.fields=t,t.sort(Oi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return pi(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ci=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return di(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ci.EMPTY_BYTE_STRING=new Ci("");var Ii=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(ci(!!t),"string"==typeof t){var e=0,n=Ii.exec(t);if(ci(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ai(t.seconds),nanos:Ai(t.nanos)}}function Ai(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ji(t){return"string"==typeof t?Ci.fromBase64String(t):Ci.fromUint8Array(t)}function ki(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ni(t){var e=t.mapValue.fields.__previous_value__;return ki(e)?Ni(e):e}function Pi(t){var e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}function Di(t){return null==t}function Ri(t){return 0===t&&1/t==-1/0}function Li(t){return"number"==typeof t&&Number.isInteger(t)&&!Ri(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Mi=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ei.fromString(e))},t.fromName=function(e){return new t(Ei.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ei.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ei.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ei(e.slice()))},t}();function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ki(t)?4:10:ui()}function Vi(t,e){var n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pi(t).isEqual(Pi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=xi(t.timestampValue),r=xi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ji(t.bytesValue).isEqual(ji(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ai(t.geoPointValue.latitude)===Ai(e.geoPointValue.latitude)&&Ai(t.geoPointValue.longitude)===Ai(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ai(t.integerValue)===Ai(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ai(t.doubleValue),r=Ai(e.doubleValue);return n===r?Ri(n)===Ri(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return pi(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vi(n)!==vi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vi(n[i],r[i])))return!1;return!0}(t,e);default:return ui()}}function Ui(t,e){return void 0!==(t.values||[]).find(function(t){return Vi(t,e)})}function qi(t,e){var n=Fi(t),r=Fi(e);if(n!==r)return di(n,r);switch(n){case 0:return 0;case 1:return di(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ai(t.integerValue||t.doubleValue),r=Ai(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Bi(t.timestampValue,e.timestampValue);case 4:return Bi(Pi(t),Pi(e));case 5:return di(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ji(t),r=ji(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=di(n[i],r[i]);if(0!==s)return s}return di(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=di(Ai(t.latitude),Ai(e.latitude));return 0!==n?n:di(Ai(t.longitude),Ai(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=qi(n[i],r[i]);if(s)return s}return di(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=di(r[o],s[o]);if(0!==a)return a;var u=qi(n[r[o]],i[s[o]]);if(0!==u)return u}return di(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ui()}}function Bi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return di(t,e);var n=xi(t),r=xi(e),i=di(n.seconds,r.seconds);return 0!==i?i:di(n.nanos,r.nanos)}function Hi(t){return zi(t)}function zi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=xi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ji(t.bytesValue).toBase64():"referenceValue"in t?Mi.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=zi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+zi(t.fields[s])}return e+"}"}(t.mapValue):ui();var e}function $i(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ki(t){return!!t&&"integerValue"in t}function Gi(t){return!!t&&"arrayValue"in t}function Qi(t){return!!t&&"nullValue"in t}function Wi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xi(t){return!!t&&"mapValue"in t}function Yi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},xi(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return bi(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Yi(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Yi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Zi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Xi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yi(e)},t.prototype.setAll=function(t){var e=this,n=Oi.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Yi(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Xi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Vi(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Xi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){bi(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Yi(this.value))},t}();function Ji(t){var e=[];return bi(t.fields,function(t,n){var r=new Oi([t]);if(Xi(n)){var i=Ji(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Ti(e)}var ts=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,yi.min(),Zi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Zi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Zi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),es=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function ns(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new es(t,e,n,r,i,s,o)}function rs(t){var e=li(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Hi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Di(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ms(e.startAt)),e.endAt&&(n+="|ub:",n+=ms(e.endAt)),e.h=n}return e.h}function is(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Vi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_s(t.startAt,e.startAt)&&_s(t.endAt,e.endAt)}function ss(t){return Mi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var os=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(u.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new as(t,n,r):"array-contains"===n?new hs(t,r):"in"===n?new fs(t,r):"not-in"===n?new ds(t,r):"array-contains-any"===n?new ps(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new us(t,n):new cs(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(qi(e,this.value)):null!==e&&Fi(this.value)===Fi(e)&&this.m(qi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ui()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),as=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Mi.fromName(r.referenceValue),i}return Object(u.c)(e,t),e.prototype.matches=function(t){var e=Mi.comparator(t.key,this.key);return this.m(e)},e}(os),us=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ls(0,n),r}return Object(u.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(os),cs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ls(0,n),r}return Object(u.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(os);function ls(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Mi.fromName(t.referenceValue)})}var hs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(u.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Gi(e)&&Ui(e.arrayValue,this.value)},e}(os),fs=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(u.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ui(this.value.arrayValue,e)},e}(os),ds=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(u.c)(e,t),e.prototype.matches=function(t){if(Ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ui(this.value.arrayValue,e)},e}(os),ps=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(u.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Gi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ui(e.value.arrayValue,t)})},e}(os),gs=function(t,e){this.position=t,this.before=e};function ms(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Hi(t)}).join(",")}var ys=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Mi.comparator(Mi.fromName(o.referenceValue),n.key):qi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function _s(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Vi(t.position[n],e.position[n]))return!1;return!0}var ws=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Es(t,e,n,r,i,s,o,a){return new ws(t,e,n,r,i,s,o,a)}function Ss(t){return new ws(t)}function Os(t){return!Di(t.limit)&&"F"===t.limitType}function Ts(t){return!Di(t.limit)&&"L"===t.limitType}function Cs(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Is(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function xs(t){return null!==t.collectionGroup}function As(t){var e=li(t);if(null===e.p){e.p=[];var n=Is(e),r=Cs(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ys(n)),e.p.push(new ys(Oi.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ys(Oi.keyField(),u))}}}return e.p}function js(t){var e=li(t);if(!e.T)if("F"===e.limitType)e.T=ns(e.path,e.collectionGroup,As(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=As(e);r<i.length;r++){var s=i[r];n.push(new ys(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new gs(e.endAt.position,!e.endAt.before):null,a=e.startAt?new gs(e.startAt.position,!e.startAt.before):null;e.T=ns(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function ks(t,e,n){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ns(t,e){return is(js(t),js(e))&&t.limitType===e.limitType}function Ps(t){return rs(js(t))+"|lt:"+t.limitType}function Ds(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Hi(e.value);var e}).join(", ")+"]"),Di(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ms(t.startAt)),t.endAt&&(e+=", endAt: "+ms(t.endAt)),"Target("+e+")"}(js(t))+"; limitType="+t.limitType+")"}function Rs(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Mi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!bs(t.startAt,As(t),e)||t.endAt&&bs(t.endAt,As(t),e))}(t,e)}function Ls(t){return function(e,n){for(var r=!1,i=0,s=As(t);i<s.length;i++){var o=s[i],a=Ms(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Ms(t,e,n){var r=t.field.isKeyField()?Mi.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?qi(r,i):ui()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ui()}}function Fs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ri(e)?"-0":e}}function Vs(t){return{integerValue:""+t}}function Us(t,e){return Li(e)?Vs(e):Fs(t,e)}var qs=function(){this._=void 0};function Bs(t,e,n){return t instanceof $s?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ks?Gs(t,e):t instanceof Qs?Ws(t,e):function(t,e){var n=zs(t,e),r=Ys(n)+Ys(t.A);return Ki(n)&&Ki(t.A)?Vs(r):Fs(t.R,r)}(t,e)}function Hs(t,e,n){return t instanceof Ks?Gs(t,e):t instanceof Qs?Ws(t,e):n}function zs(t,e){return t instanceof Xs?Ki(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e}(qs),Ks=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(u.c)(e,t),e}(qs);function Gs(t,e){for(var n=Zs(e),r=function(t){n.some(function(e){return Vi(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Qs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(u.c)(e,t),e}(qs);function Ws(t,e){for(var n=Zs(e),r=function(t){n=n.filter(function(e){return!Vi(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(u.c)(e,t),e}(qs);function Ys(t){return Ai(t.integerValue||t.doubleValue)}function Zs(t){return Gi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Js=function(t,e){this.field=t,this.transform=e},to=function(t,e){this.version=t,this.transformResults=e},eo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function no(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ro=function(){};function io(t,e,n){t instanceof co?function(t,e,n){var r=t.value.clone(),i=fo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(t,e,n){if(no(t.precondition,e)){var r=fo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ho(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function so(t,e,n){t instanceof co?function(t,e,n){if(no(t.precondition,e)){var r=t.value.clone(),i=po(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(uo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof lo?function(t,e,n){if(no(t.precondition,e)){var r=po(t.fieldTransforms,n,e),i=e.data;i.setAll(ho(t)),i.setAll(r),e.convertToFoundDocument(uo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){no(t.precondition,e)&&e.convertToNoDocument(yi.min())}(t,e)}function oo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=zs(s.transform,o||null);null!=a&&(null==n&&(n=Zi.empty()),n.set(s.field,a))}return n||null}function ao(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&pi(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ks&&e instanceof Ks||t instanceof Qs&&e instanceof Qs?pi(t.elements,e.elements,Vi):t instanceof Xs&&e instanceof Xs?Vi(t.A,e.A):t instanceof $s&&e instanceof $s}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function uo(t){return t.isFoundDocument()?t.version:yi.min()}var co=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(u.c)(e,t),e}(ro),lo=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(u.c)(e,t),e}(ro);function ho(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function fo(t,e,n){var r=new Map;ci(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Hs(o,a,n[i]))}return r}function po(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Bs(a,u,e))}return r}var go,mo,yo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(u.c)(e,t),e}(ro),vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(u.c)(e,t),e}(ro),bo=function(t){this.count=t};function _o(t){switch(t){case ti.OK:return ui();case ti.CANCELLED:case ti.UNKNOWN:case ti.DEADLINE_EXCEEDED:case ti.RESOURCE_EXHAUSTED:case ti.INTERNAL:case ti.UNAVAILABLE:case ti.UNAUTHENTICATED:return!1;case ti.INVALID_ARGUMENT:case ti.NOT_FOUND:case ti.ALREADY_EXISTS:case ti.PERMISSION_DENIED:case ti.FAILED_PRECONDITION:case ti.ABORTED:case ti.OUT_OF_RANGE:case ti.UNIMPLEMENTED:case ti.DATA_LOSS:return!0;default:return ui()}}function wo(t){if(void 0===t)return si("GRPC error has no .code"),ti.UNKNOWN;switch(t){case go.OK:return ti.OK;case go.CANCELLED:return ti.CANCELLED;case go.UNKNOWN:return ti.UNKNOWN;case go.DEADLINE_EXCEEDED:return ti.DEADLINE_EXCEEDED;case go.RESOURCE_EXHAUSTED:return ti.RESOURCE_EXHAUSTED;case go.INTERNAL:return ti.INTERNAL;case go.UNAVAILABLE:return ti.UNAVAILABLE;case go.UNAUTHENTICATED:return ti.UNAUTHENTICATED;case go.INVALID_ARGUMENT:return ti.INVALID_ARGUMENT;case go.NOT_FOUND:return ti.NOT_FOUND;case go.ALREADY_EXISTS:return ti.ALREADY_EXISTS;case go.PERMISSION_DENIED:return ti.PERMISSION_DENIED;case go.FAILED_PRECONDITION:return ti.FAILED_PRECONDITION;case go.ABORTED:return ti.ABORTED;case go.OUT_OF_RANGE:return ti.OUT_OF_RANGE;case go.UNIMPLEMENTED:return ti.UNIMPLEMENTED;case go.DATA_LOSS:return ti.DATA_LOSS;default:return ui()}}(mo=go||(go={}))[mo.OK=0]="OK",mo[mo.CANCELLED=1]="CANCELLED",mo[mo.UNKNOWN=2]="UNKNOWN",mo[mo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mo[mo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mo[mo.NOT_FOUND=5]="NOT_FOUND",mo[mo.ALREADY_EXISTS=6]="ALREADY_EXISTS",mo[mo.PERMISSION_DENIED=7]="PERMISSION_DENIED",mo[mo.UNAUTHENTICATED=16]="UNAUTHENTICATED",mo[mo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mo[mo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mo[mo.ABORTED=10]="ABORTED",mo[mo.OUT_OF_RANGE=11]="OUT_OF_RANGE",mo[mo.UNIMPLEMENTED=12]="UNIMPLEMENTED",mo[mo.INTERNAL=13]="INTERNAL",mo[mo.UNAVAILABLE=14]="UNAVAILABLE",mo[mo.DATA_LOSS=15]="DATA_LOSS";var Eo=function(){function t(t,e){this.comparator=t,this.root=e||Oo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new So(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new So(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new So(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new So(this.root,t,this.comparator,!0)},t}(),So=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Oo=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ui();if(this.right.isRed())throw ui();var t=this.left.check();if(t!==this.right.check())throw ui();return t+(this.isRed()?0:1)},t}();Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ui()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ui()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Oo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var To=function(){function t(t){this.comparator=t,this.data=new Eo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Co(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Co(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Co=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Io=new Eo(Mi.comparator);function xo(){return Io}var Ao=new Eo(Mi.comparator);function jo(){return Ao}var ko=new Eo(Mi.comparator);function No(){return ko}var Po=new To(Mi.comparator);function Do(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Po,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ro=new To(di);function Lo(){return Ro}var Mo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(yi.min(),r,Lo(),xo(),Do())},t}(),Fo=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ci.EMPTY_BYTE_STRING,n,Do(),Do(),Do())},t}(),Vo=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Uo=function(t,e){this.targetId=t,this.V=e},qo=function(t,e,n,r){void 0===n&&(n=Ci.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bo=function(){function t(){this.S=0,this.D=$o(),this.C=Ci.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Do(),e=Do(),n=Do();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ui()}}),new Fo(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=$o()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Ho=function(){function t(t){this.W=t,this.G=new Map,this.H=xo(),this.J=zo(),this.Y=new To(di)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ui()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ss(i))if(0===n){var s=new Mi(i.path);this.tt(e,s,ts.newNoDocument(s,yi.min()))}else ci(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&ss(s.target)){var o=new Mi(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,ts.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Do();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Mo(t,n,this.Y,this.H,r);return this.H=xo(),this.J=zo(),this.Y=new To(di),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Bo,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new To(di),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ii("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Bo),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function zo(){return new Eo(Mi.comparator)}function $o(){return new Eo(Mi.comparator)}var Ko={asc:"ASCENDING",desc:"DESCENDING"},Go={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qo=function(t,e){this.databaseId=t,this.I=e};function Wo(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xo(t,e){return t.I?e.toBase64():e.toUint8Array()}function Yo(t,e){return Wo(t,e.toTimestamp())}function Zo(t){return ci(!!t),yi.fromTimestamp(function(t){var e=xi(t);return new mi(e.seconds,e.nanos)}(t))}function Jo(t,e){return function(t){return new Ei(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ta(t){var e=Ei.fromString(t);return ci(Oa(e)),e}function ea(t,e){return Jo(t.databaseId,e.path)}function na(t,e){var n=ta(e);if(n.get(1)!==t.databaseId.projectId)throw new ei(ti.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ei(ti.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Mi(oa(n))}function ra(t,e){return Jo(t.databaseId,e)}function ia(t){var e=ta(t);return 4===e.length?Ei.emptyPath():oa(e)}function sa(t){return new Ei(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oa(t){return ci(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function aa(t,e,n){return{name:ea(t,e),fields:n.value.mapValue.fields}}function ua(t,e,n){var r=na(t,e.name),i=Zo(e.updateTime),s=new Zi({mapValue:{fields:e.fields}}),o=ts.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ca(t,e){var n;if(e instanceof co)n={update:aa(t,e.key,e.value)};else if(e instanceof yo)n={delete:ea(t,e.key)};else if(e instanceof lo)n={update:aa(t,e.key,e.data),updateMask:Sa(e.fieldMask)};else{if(!(e instanceof vo))return ui();n={verify:ea(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $s)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ks)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ui()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yo(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ui()}(t,e.precondition)),n}function la(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?eo.updateTime(Zo(t.updateTime)):void 0!==t.exists?eo.exists(t.exists):eo.none()}(e.currentDocument):eo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ci("REQUEST_TIME"===e.setToServerValue),n=new $s):"appendMissingElements"in e?n=new Ks(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Qs(e.removeAllFromArray.values||[]):"increment"in e?n=new Xs(t,e.increment):ui();var r=Oi.fromServerFormat(e.fieldPath);return new Js(r,n)}(t,e)}):[];if(e.update){var i=na(t,e.update.name),s=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Ti((t.fieldPaths||[]).map(function(t){return Oi.fromServerFormat(t)}))}(e.updateMask);return new lo(i,s,o,n,r)}return new co(i,s,n,r)}if(e.delete){var a=na(t,e.delete);return new yo(a,n)}if(e.verify){var u=na(t,e.verify);return new vo(u,n)}return ui()}function ha(t,e){return{documents:[ra(t,e.path)]}}function fa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ra(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ra(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wi(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(Qi(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wi(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(Qi(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:va(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ba(t.field),direction:ya(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Di(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ga(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ga(e.endAt)),n}function da(t){var e=ia(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ci(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=pa(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ys(_a(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Di(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ma(n.startAt));var l=null;return n.endAt&&(l=ma(n.endAt)),Es(e,i,a,o,u,"F",c,l)}function pa(t){return t?void 0!==t.unaryFilter?[Ea(t)]:void 0!==t.fieldFilter?[wa(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return pa(t)}).reduce(function(t,e){return t.concat(e)}):ui():[]}function ga(t){return{before:t.before,values:t.position}}function ma(t){return new gs(t.values||[],!!t.before)}function ya(t){return Ko[t]}function va(t){return Go[t]}function ba(t){return{fieldPath:t.canonicalString()}}function _a(t){return Oi.fromServerFormat(t.fieldPath)}function wa(t){return os.create(_a(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ui()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ea(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_a(t.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_a(t.unaryFilter.field);return os.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_a(t.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_a(t.unaryFilter.field);return os.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ui()}}function Sa(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Oa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ta(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ia(e)),e=Ca(t.get(n),e);return Ia(e)}function Ca(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Ia(t){return t+"\x01\x01"}function xa(t){var e=t.length;if(ci(e>=2),2===e)return ci("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ei.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ui(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ui()}s=o+2}return new Ei(r)}var Aa=function(t,e){this.seconds=t,this.nanoseconds=e},ja=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ja.store="owner",ja.key="owner";var ka=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ka.store="mutationQueues",ka.keyPath="userId";var Na=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Na.store="mutations",Na.keyPath="batchId",Na.userMutationsIndex="userMutationsIndex",Na.userMutationsKeyPath=["userId","batchId"];var Pa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ta(e)]},t.key=function(t,e,n){return[t,Ta(e),n]},t}();Pa.store="documentMutations",Pa.PLACEHOLDER=new Pa;var Da=function(t,e){this.path=t,this.readTime=e},Ra=function(t,e){this.path=t,this.version=e},La=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};La.store="remoteDocuments",La.readTimeIndex="readTimeIndex",La.readTimeIndexPath="readTime",La.collectionReadTimeIndex="collectionReadTimeIndex",La.collectionReadTimeIndexPath=["parentPath","readTime"];var Ma=function(t){this.byteSize=t};Ma.store="remoteDocumentGlobal",Ma.key="remoteDocumentGlobalKey";var Fa=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Fa.store="targets",Fa.keyPath="targetId",Fa.queryTargetsIndexName="queryTargetsIndex",Fa.queryTargetsKeyPath=["canonicalId","targetId"];var Va=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Va.store="targetDocuments",Va.keyPath=["targetId","path"],Va.documentTargetsIndex="documentTargetsIndex",Va.documentTargetsKeyPath=["path","targetId"];var Ua=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ua.key="targetGlobalKey",Ua.store="targetGlobal";var qa=function(t,e){this.collectionId=t,this.parent=e};qa.store="collectionParents",qa.keyPath=["collectionId","parent"];var Ba=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ba.store="clientMetadata",Ba.keyPath="clientId";var Ha=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ha.store="bundles",Ha.keyPath="bundleId";var za=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};za.store="namedQueries",za.keyPath="name";var $a=Object(u.f)(Object(u.f)([],Object(u.f)(Object(u.f)([],Object(u.f)(Object(u.f)([],Object(u.f)(Object(u.f)([],[ka.store,Na.store,Pa.store,La.store,Fa.store,ja.store,Ua.store,Va.store]),[Ba.store])),[Ma.store])),[qa.store])),[Ha.store,za.store]),Ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ga=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Qa=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Wa=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ui(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Xa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Qa,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ja(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=iu(e.target.error);n.ft.reject(new Ja(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ja(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ii("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new eu(e)},t}(),Ya=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(W.i)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ii("SimpleDb","Removing database:",t),nu(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(W.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(u.b)(this,void 0,void 0,function(){var e,n=this;return Object(u.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ii("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ei(ti.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ja(t,n))},i.onupgradeneeded=function(t){ii("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ii("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(u.d)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,h;return Object(u.d)(this,function(u){switch(u.label){case 0:++s,u.label=1;case 1:return u.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=u.sent(),e=Xa.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Wa.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(u.sent(),o),c)];case 4:return ii("SimpleDb","Transaction failed with error:",(l=u.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),a.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Za=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return nu(this.Pt.delete())},t}(),Ja=function(t){function e(e,n){var r=this;return(r=t.call(this,ti.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(u.c)(e,t),e}(ei);function tu(t){return"IndexedDbTransactionError"===t.name}var eu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ii("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ii("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),nu(n)},t.prototype.add=function(t){return ii("SimpleDb","ADD",this.store.name,t,t),nu(this.store.add(t))},t.prototype.get=function(t){var e=this;return nu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ii("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ii("SimpleDb","DELETE",this.store.name,t),nu(this.store.delete(t))},t.prototype.count=function(){return ii("SimpleDb","COUNT",this.store.name),nu(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ii("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Wa(function(n,r){e.onerror=function(t){var e=iu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Wa(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Za(i),o=e(i.primaryKey,i.value,s);if(o instanceof Wa){var a=o.catch(function(t){return s.done(),Wa.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Wa.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function nu(t){return new Wa(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=iu(t.target.error);n(e)}})}var ru=!1;function iu(t){var e=Ya._t(Object(W.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ei("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ru||(ru=!0,setTimeout(function(){throw r},0)),r}}return t}var su=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(u.c)(e,t),e}(Ga);function ou(t,e){var n=li(t);return Ya.It(n.Mt,e)}var au=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&io(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&so(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&so(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(yi.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Do())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&pi(this.mutations,t.mutations,function(t,e){return ao(t,e)})&&pi(this.baseMutations,t.baseMutations,function(t,e){return ao(t,e)})},t}(),uu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ci(e.mutations.length===r.length);for(var i=No(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),cu=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=yi.min()),void 0===s&&(s=yi.min()),void 0===o&&(o=Ci.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),lu=function(t){this.Lt=t};function hu(t,e){if(e.document)return ua(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Mi.fromSegments(e.noDocument.path),r=mu(e.noDocument.readTime),i=ts.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Mi.fromSegments(e.unknownDocument.path);return r=mu(e.unknownDocument.version),ts.newUnknownDocument(s,r)}return ui()}function fu(t,e,n){var r=du(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:ea(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Wo(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new La(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=gu(e.version);return o=e.hasCommittedMutations,new La(null,new Da(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=gu(e.version);return new La(new Ra(c,l),null,null,!0,r,i)}return ui()}function du(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(t){var e=new mi(t[0],t[1]);return yi.fromTimestamp(e)}function gu(t){var e=t.toTimestamp();return new Aa(e.seconds,e.nanoseconds)}function mu(t){var e=new mi(t.seconds,t.nanoseconds);return yi.fromTimestamp(e)}function yu(t,e){for(var n=(e.baseMutations||[]).map(function(e){return la(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return la(t.Lt,e)}),s=mi.fromMillis(e.localWriteTimeMs);return new au(e.batchId,s,n,i)}function vu(t){var e,n,r=mu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mu(t.lastLimboFreeSnapshotVersion):yi.min();return void 0!==t.query.documents?(ci(1===(n=t.query).documents.length),e=js(Ss(ia(n.documents[0])))):e=function(t){return js(da(t))}(t.query),new cu(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ci.fromBase64String(t.resumeToken))}function bu(t,e){var n,r=gu(e.snapshotVersion),i=gu(e.lastLimboFreeSnapshotVersion);n=ss(e.target)?ha(t.Lt,e.target):fa(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Fa(e.targetId,rs(e.target),r,s,e.sequenceNumber,i,n)}function _u(t){var e=da({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ks(e,e.limit,"L"):e}var wu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Eu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:mu(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Eu(t).put({bundleId:(n=e).id,createTime:gu(Zo(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Su(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:_u(e.bundledQuery),readTime:mu(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Su(t).put(function(t){return{name:t.name,readTime:gu(Zo(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Eu(t){return ou(t,Ha.store)}function Su(t){return ou(t,za.store)}var Ou=function(){function t(){this.Bt=new Tu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Wa.resolve()},t.prototype.getCollectionParents=function(t,e){return Wa.resolve(this.Bt.getEntries(e))},t}(),Tu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new To(Ei.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new To(Ei.comparator)).toArray()},t}(),Cu=function(){function t(){this.qt=new Tu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Ta(i)};return Iu(t).put(s)}return Wa.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[gi(e),""],!1,!0);return Iu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(xa(s.parent))}return n})},t}();function Iu(t){return ou(t,qa.store)}var xu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Au=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ju(t,e,n){var r=t.store(Na.store),i=t.store(Pa.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ci(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Pa.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Wa.waitFor(s).next(function(){return c})}function ku(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ui();e=t.noDocument}return JSON.stringify(e).length}Au.DEFAULT_COLLECTION_PERCENTILE=10,Au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Au.DEFAULT=new Au(41943040,Au.DEFAULT_COLLECTION_PERCENTILE,Au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Au.DISABLED=new Au(-1,0,0);var Nu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ci(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(t).$t({index:Na.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ru(t),o=Du(t);return o.add({}).next(function(a){ci("number"==typeof a);for(var u=new au(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ca(t.Lt,e)}),i=n.mutations.map(function(e){return ca(t.Lt,e)});return new Na(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new To(function(t,e){return di(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Pa.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Pa.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Wa.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Du(t).get(e).next(function(t){return t?(ci(t.userId===n.userId),yu(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Wa.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Du(t).$t({index:Na.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ci(e.batchId>=r),s=yu(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Du(t).$t({index:Na.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(t).Nt(Na.userMutationsIndex,n).next(function(t){return t.map(function(t){return yu(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ru(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=xa(r[1]);if(a===n.userId&&e.path.isEqual(c))return Du(t).get(u).next(function(t){if(!t)throw ui();ci(t.userId===n.userId),s.push(yu(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new To(di),i=[];return e.forEach(function(e){var s=Pa.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ru(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=xa(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Wa.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Pa.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new To(di);return Ru(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=xa(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Du(t).get(e).next(function(t){if(null===t)throw ui();ci(t.userId===n.userId),r.push(yu(n.R,t))}))}),Wa.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ju(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Wa.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Wa.resolve();var r=IDBKeyRange.lowerBound(Pa.prefixForUser(e.userId)),i=[];return Ru(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=xa(t[1]);i.push(s)}else r.done()}).next(function(){ci(0===i.length)})})},t.prototype.containsKey=function(t,e){return Pu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Lu(t).get(this.userId).next(function(t){return t||new ka(e.userId,-1,"")})},t}();function Pu(t,e,n){var r=Pa.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ru(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Du(t){return ou(t,Na.store)}function Ru(t){return ou(t,Pa.store)}function Lu(t){return ou(t,ka.store)}var Mu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Fu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return yi.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Vu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ci(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Vu(t).$t(function(o,a){var u=vu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Wa.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Vu(t).$t(function(t,n){var r=vu(n);e(r)})},t.prototype.Xt=function(t){return Uu(t).get(Ua.key).next(function(t){return ci(null!==t),t})},t.prototype.Zt=function(t,e){return Uu(t).put(Ua.key,e)},t.prototype.te=function(t,e){return Vu(t).put(bu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=rs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vu(t).$t({range:r,index:Fa.queryTargetsIndexName},function(t,n,r){var s=vu(n);is(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=qu(t);return e.forEach(function(e){var o=Ta(e.path);i.push(s.put(new Va(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Wa.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=qu(t);return Wa.forEach(e,function(e){var s=Ta(e.path);return Wa.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=qu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qu(t),i=Do();return r.$t({range:n,kt:!0},function(t,e,n){var r=xa(t[1]),s=new Mi(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Ta(e.path),r=IDBKeyRange.bound([n],[gi(n)],!1,!0),i=0;return qu(t).$t({index:Va.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Vu(t).get(e).next(function(t){return t?vu(t):null})},t}();function Vu(t){return ou(t,Fa.store)}function Uu(t){return ou(t,Ua.store)}function qu(t){return ou(t,Va.store)}function Bu(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){if(t.code!==ti.FAILED_PRECONDITION||t.message!==Ka)throw t;return ii("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Hu(t,e){var n=t[1],r=e[1],i=di(t[0],e[0]);return 0===i?di(n,r):i}var zu=function(){function t(t){this.ne=t,this.buffer=new To(Hu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Hu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),$u=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ii("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return tu(e=n.sent())?(ii("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Bu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ku=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Wa.resolve(Jr.o);var r=new zu(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ii("LruGarbageCollector","Garbage collection skipped; disabled"),Wa.resolve(xu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ii("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ii("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ri()<=X.a.DEBUG&&ii("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Wa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Gu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ku(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Qu(t,n)},t.prototype.removeReference=function(t,e,n){return Qu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Qu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Lu(t).Ot(function(r){return Pu(t,r,e).next(function(t){return t&&(n=!0),Wa.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),qu(t).delete([0,Ta(o.path)])})});i.push(u)}}).next(function(){return Wa.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Qu(t,e)},t.prototype.we=function(t,e){var n,r=qu(t),i=Jr.o;return r.$t({index:Va.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Jr.o&&e(new Mi(xa(n)),i),i=o,n=s):i=Jr.o}).next(function(){i!==Jr.o&&e(new Mi(xa(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Qu(t,e){return qu(t).put(function(t,e){return new Va(0,Ta(t.path),e)}(e,t.currentSequenceNumber))}var Wu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bi(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return _i(this.inner)},t}(),Xu=function(){function t(){this.changes=new Wu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:yi.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ts.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Wa.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Yu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return tc(t).put(ec(e),n)},t.prototype.removeEntry=function(t,e){var n=tc(t),r=ec(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return tc(t).get(ec(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return tc(t).get(ec(e)).next(function(t){return{document:n.ye(e,t),size:ku(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=xo();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=xo(),i=new Eo(Mi.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,ku(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Wa.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return tc(t).$t({range:r},function(t,e,r){for(var o=Mi.fromSegments(t);s&&Mi.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=xo(),s=e.path.length+1,o={};if(n.isEqual(yi.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=du(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=La.collectionReadTimeIndex}return tc(t).$t(o,function(t,n,o){if(t.length===s){var a=hu(r.R,n);e.path.isPrefixOf(a.key.path)?Rs(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Zu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ju(t).get(Ma.key).next(function(t){return ci(!!t),t})},t.prototype.me=function(t,e){return Ju(t).put(Ma.key,e)},t.prototype.ye=function(t,e){if(e){var n=hu(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(yi.min()))return n}return ts.newInvalidDocument(t)},t}(),Zu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Wu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(u.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new To(function(t,e){return di(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=fu(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=ku(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=fu(e.Ie.R,ts.newNoDocument(s,yi.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Wa.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Xu);function Ju(t){return ou(t,Ma.store)}function tc(t){return ou(t,La.store)}function ec(t){return t.path.toArray()}var nc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ci(n<r&&n>=0&&r<=11);var s=new Xa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ja.store)}(t),function(t){t.createObjectStore(ka.store,{keyPath:ka.keyPath}),t.createObjectStore(Na.store,{keyPath:Na.keyPath,autoIncrement:!0}).createIndex(Na.userMutationsIndex,Na.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pa.store)}(t),rc(t),function(t){t.createObjectStore(La.store)}(t));var o=Wa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Va.store),t.deleteObjectStore(Fa.store),t.deleteObjectStore(Ua.store)}(t),rc(t)),o=o.next(function(){return function(t){var e=t.store(Ua.store),n=new Ua(0,0,yi.min().toTimestamp(),0);return e.put(Ua.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Na.store).Nt().next(function(n){t.deleteObjectStore(Na.store),t.createObjectStore(Na.store,{keyPath:Na.keyPath,autoIncrement:!0}).createIndex(Na.userMutationsIndex,Na.userMutationsKeyPath,{unique:!0});var r=e.store(Na.store),i=n.map(function(t){return r.put(t)});return Wa.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Ba.store,{keyPath:Ba.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Ma.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(La.store);e.createIndex(La.readTimeIndex,La.readTimeIndexPath,{unique:!1}),e.createIndex(La.collectionReadTimeIndex,La.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Ha.store,{keyPath:Ha.keyPath})}(t),function(t){t.createObjectStore(za.store,{keyPath:za.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(La.store).$t(function(t,n){e+=ku(n)}).next(function(){var n=new Ma(e);return t.store(Ma.store).put(Ma.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ka.store),r=t.store(Na.store);return n.Nt().next(function(n){return Wa.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Na.userMutationsIndex,i).next(function(r){return Wa.forEach(r,function(r){ci(r.userId===n.userId);var i=yu(e.R,r);return ju(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Va.store),n=t.store(La.store);return t.store(Ua.store).get(Ua.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new Ei(n),o=function(t){return[0,Ta(t)]}(s);r.push(e.get(o).next(function(n){return n?Wa.resolve():function(n){return e.put(new Va(0,Ta(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Wa.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(qa.store,{keyPath:qa.keyPath});var n=e.store(qa.store),r=new Tu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ta(i)})}};return e.store(La.store).$t({kt:!0},function(t,e){var n=new Ei(t);return i(n.popLast())}).next(function(){return e.store(Pa.store).$t({kt:!0},function(t,e){var n=xa(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Fa.store);return n.$t(function(t,r){var i=vu(r),s=bu(e.R,i);return n.put(s)})},t}();function rc(t){t.createObjectStore(Va.store,{keyPath:Va.keyPath}).createIndex(Va.documentTargetsIndex,Va.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Fa.store,{keyPath:Fa.keyPath}).createIndex(Fa.queryTargetsIndexName,Fa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ua.store)}var ic="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sc=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ei(ti.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gu(this,i),this.Le=n+"main",this.R=new lu(u),this.Be=new Ya(this.Le,11,new nc(this.R)),this.qe=new Fu(this.referenceDelegate,this.R),this.Ut=new Cu,this.Ue=function(t,e){return new Yu(t,e)}(this.R,this.Ut),this.Qe=new wu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ei(ti.FAILED_PRECONDITION,ic);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Jr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(u.b)(e,void 0,void 0,function(){return Object(u.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(u.b)(e,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(u.b)(e,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ac(e).put(new Ba(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(tu(e))return ii("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ii("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return oc(t).get(ja.key).next(function(t){return Wa.resolve(e.tn(t))})},t.prototype.en=function(t){return ac(t).delete(this.clientId)},t.prototype.nn=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(u.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ou(t,Ba.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Wa.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Wa.resolve(!0):oc(t).get(ja.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ei(ti.FAILED_PRECONDITION,ic);return!1}}return!(!e.networkEnabled||!e.inForeground)||ac(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ii("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(u.b)(this,void 0,void 0,function(){var t=this;return Object(u.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ja.store,Ba.store],function(e){var n=new su(e,Jr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ac(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Nu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ii("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",$a,function(s){return r=new su(s,i.Ne?i.Ne.next():Jr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw si("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ei(ti.FAILED_PRECONDITION,Ka);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return oc(t).get(ja.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ei(ti.FAILED_PRECONDITION,ic)})},t.prototype.Ze=function(t){var e=new ja(this.clientId,this.allowTabSynchronization,Date.now());return oc(t).put(ja.key,e)},t.yt=function(){return Ya.yt()},t.prototype.Xe=function(t){var e=this,n=oc(t);return n.get(ja.key).next(function(t){return e.tn(t)?(ii("IndexedDbPersistence","Releasing primary lease."),n.delete(ja.key)):Wa.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(si("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ii("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return si("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){si("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function oc(t){return ou(t,ja.store)}function ac(t){return ou(t,Ba.store)}function uc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var cc=function(t,e){this.progress=t,this.wn=e},lc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Mi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):xs(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Mi(e)).next(function(t){var e=jo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=jo();return this.Ut.getCollectionParents(t,i).next(function(o){return Wa.forEach(o,function(o){var a=function(t,e){return new ws(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=ts.newInvalidDocument(c),r=r.insert(c,l)),so(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Rs(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Do(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof lo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),hc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Do(),i=Do(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),fc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(yi.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Os(e)||Ts(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(ri()<=X.a.DEBUG&&ii("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ds(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new To(Ls(t));return e.forEach(function(e,r){Rs(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ri()<=X.a.DEBUG&&ii("QueryEngine","Using full collection scan to execute query:",Ds(e)),this.Sn.getDocumentsMatchingQuery(t,e,yi.min())},t}(),dc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Eo(di),this.kn=new Wu(function(t){return rs(t)},is),this.$n=yi.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new lc(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function pc(t,e,n,r){return new dc(t,e,n,r)}function gc(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(u.d)(this,function(o){switch(o.label){case 0:return n=li(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new lc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Do(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function mc(t,e){var n=li(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Wa.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);ci(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function yc(t){var e=li(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function vc(t,e){var n=li(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ci(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=xo();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(bc(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(yi.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Wa.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function bc(t,e,n,r,i){var s=Do();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=xo();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(yi.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):ii("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function _c(t,e){var n=li(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function wc(t,e){var n=li(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Wa.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new cu(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Ec(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:r=li(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!tu(o=a.sent()))throw o;return ii("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Sc(t,e,n){var r=li(t),i=yi.min(),s=Do();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=li(t),i=r.kn.get(n);return void 0!==i?Wa.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,js(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:yi.min(),n?s:Do())}).next(function(t){return{documents:t,Bn:s}})})}function Oc(t,e){var n=li(t),r=li(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Tc(t){var e=li(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=li(t),i=xo(),s=du(n),o=tc(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:La.readTimeIndex,range:a},function(t,e){var n=hu(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:pu(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Cc(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){return[2,(e=li(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=tc(t),n=yi.min();return e.$t({index:La.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=pu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Ic(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s,o,a,c,l,h,f,d,p;return Object(u.d)(this,function(u){switch(u.label){case 0:for(i=li(t),s=Do(),o=xo(),a=No(),c=0,l=n;c<l.length;c++)f=e.qn((h=l[c]).metadata.name),h.document&&(s=s.add(f)),o=o.insert(f,e.Un(h)),a=a.insert(f,e.Qn(h.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,wc(i,function(t){return js(Ss(Ei.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=u.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return bc(t,d,o,yi.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return i.qe.addMatchingKeys(t,s,p.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function xc(t,e,n){return void 0===n&&(n=Do()),Object(u.b)(this,void 0,void 0,function(){var r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return[4,wc(t,js(_u(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=li(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Zo(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Ci.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Ac=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Wa.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Zo(n.createTime)}),Wa.resolve()},t.prototype.getNamedQuery=function(t,e){return Wa.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:_u(t.bundledQuery),readTime:Zo(t.readTime)}}(e)),Wa.resolve()},t}(),jc=function(){function t(){this.Wn=new To(kc.Gn),this.zn=new To(kc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new kc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new kc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Mi(new Ei([])),r=new kc(n,t),i=new kc(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Mi(new Ei([])),n=new kc(e,t),r=new kc(e,t+1),i=Do();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new kc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),kc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Mi.comparator(t.key,e.key)||di(t.ns,e.ns)},t.Hn=function(t,e){return di(t.ns,e.ns)||Mi.comparator(t.key,e.key)},t}(),Nc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new To(kc.Gn)}return t.prototype.checkEmpty=function(t){return Wa.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new au(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new kc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Wa.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Wa.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Wa.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Wa.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Wa.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new kc(e,0),i=new kc(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Wa.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new To(di);return e.forEach(function(t){var e=new kc(t,0),i=new kc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Wa.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Mi.isDocumentKey(i)||(i=i.child(""));var s=new kc(new Mi(i),0),o=new To(di);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Wa.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ci(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Wa.forEach(e.mutations,function(i){var s=new kc(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new kc(e,0),r=this.rs.firstAfterOrEqual(n);return Wa.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Wa.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Pc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Eo(Mi.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Wa.resolve(n?n.document.clone():ts.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=xo();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ts.newInvalidDocument(t))}),Wa.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=xo(),i=new Mi(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Rs(e,u)&&(r=r.insert(u.key,u.clone()))}return Wa.resolve(r)},t.prototype.fs=function(t,e){return Wa.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Dc(this)},t.prototype.getSize=function(t){return Wa.resolve(this.size)},t}(),Dc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(u.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Wa.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Xu),Rc=function(){function t(t){this.persistence=t,this.ds=new Wu(function(t){return rs(t)},is),this.lastRemoteSnapshotVersion=yi.min(),this.highestTargetId=0,this.ws=0,this._s=new jc,this.targetCount=0,this.ys=Mu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Wa.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Wa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Wa.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Wa.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Wa.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Mu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Wa.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Wa.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Wa.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Wa.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Wa.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Wa.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Wa.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Wa.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Wa.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Wa.resolve(n)},t.prototype.containsKey=function(t,e){return Wa.resolve(this._s.containsKey(e))},t}(),Lc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Jr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Rc(this),this.Ut=new Ou,this.Ue=function(t,e){return new Pc(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new lu(e),this.Qe=new Ac(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Nc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ii("MemoryPersistence","Starting transaction:",t);var i=new Mc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Wa.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Mc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(u.c)(e,t),e}(Ga),Fc=function(){function t(t){this.persistence=t,this.As=new jc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ui()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Wa.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Wa.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Wa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wa.forEach(this.vs,function(r){var i=Mi.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Wa.or([function(){return Wa.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Vc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Uc(t,e){return"firestore_clients_"+t+"_"+e}function qc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Bc(t,e){return"firestore_targets_"+t+"_"+e}Vc.UNAUTHENTICATED=new Vc(null),Vc.GOOGLE_CREDENTIALS=new Vc("google-credentials-uid"),Vc.FIRST_PARTY=new Vc("first-party-uid");var Hc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new ei(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(si("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ei(i.error.code,i.error.message)),s?new t(e,i.state,r):(si("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$c=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Lo(),o=0;i&&o<r.activeTargetIds.length;++o)i=Li(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(si("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Kc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(si("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gc=function(){function t(){this.activeTargetIds=Lo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Eo(di),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Uc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Gc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,l,h=this;return Object(u.d)(this,function(u){switch(u.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=u.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Uc(this.persistenceKey,r)))&&(s=$c.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,l=this.$s;c<l.length;c++)this.Fs(l[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Bc(this.persistenceKey,t));if(n){var r=zc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Bc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ii("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ii("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ii("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ii("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(u.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(u.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Jr.o;if(null!=t)try{var n=JSON.parse(t);ci("number"==typeof n),e=n}catch(t){si("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Jr.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Hc(this.currentUser,t,e,n),i=qc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=qc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Bc(this.persistenceKey,t),i=new zc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return $c.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Hc.Vs(new Vc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return zc.Vs(r,e)},t.prototype.js=function(t){return Kc.Vs(t)},t.prototype.ii=function(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ii("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Lo();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Wc=function(){function t(){this.li=new Gc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Gc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Xc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Yc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ii("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ii("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),tl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(u.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Zr;o.listenOnce(Wr.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Qr.NO_ERROR:var e=o.getResponseJson();ii("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Qr.TIMEOUT:ii("Connection",'RPC "'+t+'" timed out'),s(new ei(ti.DEADLINE_EXCEEDED,"Request time out"));break;case Qr.HTTP_ERROR:var n=o.getStatus();if(ii("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ti).indexOf(e)>=0?e:ti.UNKNOWN}(r.status);s(new ei(a,r.message))}else s(new ei(ti.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ei(ti.UNAVAILABLE,"Connection failed."));break;default:ui()}}finally{ii("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Hr,i=$e(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(W.n)()||Object(W.p)()||Object(W.l)()||Object(W.m)()||Object(W.q)()||Object(W.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ii("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Jc({Ei:function(t){c?ii("Connection","Not sending because WebChannel is closed:",t):(u||(ii("Connection","Opening WebChannel transport."),a.open(),u=!0),ii("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Yr.EventType.OPEN,function(){c||ii("Connection","WebChannel transport opened.")}),h(a,Yr.EventType.CLOSE,function(){c||(c=!0,ii("Connection","WebChannel transport closed"),l.Vi())}),h(a,Yr.EventType.ERROR,function(t){c||(c=!0,oi("Connection","WebChannel transport errored:",t),l.Vi(new ei(ti.UNAVAILABLE,"The operation could not be completed")))}),h(a,Yr.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ci(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ii("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=go[t];if(void 0!==e)return wo(e)}(i),o=r.message;void 0===s&&(s=ti.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new ei(s,o)),a.close()}else ii("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Xr.STAT_EVENT,function(t){10===t.stat?ii("Connection","Detected buffering proxy"):11===t.stat&&ii("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ii("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return ii("RestConnection","Received: ",t),t},function(e){throw oi("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Zc[t]},t}());function el(){return"undefined"!=typeof window?window:null}function nl(){return"undefined"!=typeof document?document:null}function rl(t){return new Qo(t,!0)}var il=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ii("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),sl=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new il(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ti.RESOURCE_EXHAUSTED?(si(e.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ti.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new ei(ti.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(u.b)(t,void 0,void 0,function(){return Object(u.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ii("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ii("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ol=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(u.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ui()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(ci(void 0===e||"string"==typeof e),Ci.fromBase64String(e||"")):(ci(void 0===e||e instanceof Uint8Array),Ci.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ti.UNKNOWN:wo(t.code);return new ei(e,t.message||"")}(a);n=new qo(r,i,s,o||null)}else if("documentChange"in e){i=na(t,(r=e.documentChange).document.name),s=Zo(r.document.updateTime);var a=new Zi({mapValue:{fields:r.document.fields}}),u=(o=ts.newFoundDocument(i,s,a),r.targetIds||[]);n=new Vo(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=na(t,(r=e.documentDelete).document),s=r.readTime?Zo(r.readTime):yi.min(),a=ts.newNoDocument(i,s),n=new Vo([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=na(t,(r=e.documentRemove).document),n=new Vo([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ui();var c=e.filter;i=new bo(r=c.count||0),n=new Uo(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return yi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?yi.min():e.readTime?Zo(e.readTime):yi.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=sa(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ss(r)?{documents:ha(t,r)}:{query:fa(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Xo(t,e.resumeToken):e.snapshotVersion.compareTo(yi.min())>0&&(n.readTime=Wo(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ui()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=sa(this.R),e.removeTarget=t,this.cr(e)},e}(sl),al=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(u.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ci(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ci(void 0!==e),t.map(function(t){return function(t,e){var n=Zo(t.updateTime?t.updateTime:e);return n.isEqual(yi.min())&&(n=Zo(e)),new to(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Zo(t.commitTime);return this.listener.Tr(n,e)}return ci(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=sa(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ca(e.R,t)})};this.cr(n)},e}(sl),ul=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(u.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new ei(ti.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ti.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ei(ti.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ti.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ei(ti.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),cl=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(si(e),this.Vr=!1):ii("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ll=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(u.b)(s,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return bl(this)?(ii("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return(e=li(t)).Or.add(4),[4,fl(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,hl(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new cl(n,r)};function hl(t){return Object(u.b)(this,void 0,void 0,function(){var e,n;return Object(u.d)(this,function(r){switch(r.label){case 0:if(!bl(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function fl(t){return Object(u.b)(this,void 0,void 0,function(){var e,n;return Object(u.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dl(t,e){var n=li(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),vl(n)?yl(n):Dl(n).er()&&gl(n,e))}function pl(t,e){var n=li(t),r=Dl(n);n.$r.delete(e),r.er()&&ml(n,e),0===n.$r.size&&(r.er()?r.ir():bl(n)&&n.Br.set("Unknown"))}function gl(t,e){t.qr.U(e.targetId),Dl(t).mr(e)}function ml(t,e){t.qr.U(e),Dl(t).yr(e)}function yl(t){t.qr=new Ho({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Dl(t).start(),t.Br.Sr()}function vl(t){return bl(t)&&!Dl(t).tr()&&t.$r.size>0}function bl(t){return 0===li(t).Or.size}function _l(t){t.qr=void 0}function wl(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){return t.$r.forEach(function(e,n){gl(t,e)}),[2]})})}function El(t,e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(n){return _l(t),vl(t)?(t.Br.Nr(e),yl(t)):t.Br.set("Unknown"),[2]})})}function Sl(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s;return Object(u.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof qo&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(u.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ii("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ol(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Vo?t.qr.X(e):e instanceof Uo?t.qr.rt(e):t.qr.et(e),n.isEqual(yi.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,yc(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Ci.EMPTY_BYTE_STRING,n.snapshotVersion)),ml(t,e);var r=new cu(n.target,e,1,n.sequenceNumber);gl(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ii("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Ol(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Ol(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r=this;return Object(u.d)(this,function(i){switch(i.label){case 0:if(!tu(e))throw e;return t.Or.add(1),[4,fl(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return yc(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(u.b)(r,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return ii("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,hl(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Tl(t,e){return e().catch(function(n){return Ol(t,n,e)})}function Cl(t){return Object(u.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(u.d)(this,function(o){switch(o.label){case 0:e=li(t),n=Rl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return bl(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,_c(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Rl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Ol(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Il(e)&&xl(e),[2]}})})}function Il(t){return bl(t)&&!Rl(t).tr()&&t.kr.length>0}function xl(t){Rl(t).start()}function Al(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){return Rl(t).Ar(),[2]})})}function jl(t){return Object(u.b)(this,void 0,void 0,function(){var e,n,r;return Object(u.d)(this,function(i){for(e=Rl(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function kl(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=uu.from(r,e,n),[4,Tl(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Cl(t)];case 2:return s.sent(),[2]}})})}function Nl(t,e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(n){switch(n.label){case 0:return e&&Rl(t).pr?[4,function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:return _o(r=e.code)&&r!==ti.ABORTED?(n=t.kr.shift(),Rl(t).sr(),[4,Tl(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Cl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Il(t)&&xl(t),[2]}})})}function Pl(t,e){return Object(u.b)(this,void 0,void 0,function(){var n;return Object(u.d)(this,function(r){switch(r.label){case 0:return n=li(t),e?(n.Or.delete(2),[4,hl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,fl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Dl(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=li(t);return r.br(),new ol(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:wl.bind(null,t),Ri:El.bind(null,t),_r:Sl.bind(null,t)}),t.Mr.push(function(n){return Object(u.b)(e,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),vl(t)?yl(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),_l(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Rl(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=li(t);return r.br(),new al(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Al.bind(null,t),Ri:Nl.bind(null,t),Ir:jl.bind(null,t),Tr:kl.bind(null,t)}),t.Mr.push(function(n){return Object(u.b)(e,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Cl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ii("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Ll=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ei(ti.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ml(t,e){if(si("AsyncQueue",e+": "+t),tu(t))return new ei(ti.UNAVAILABLE,e+": "+t);throw t}var Fl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Mi.comparator(e.key,n.key)}:function(t,e){return Mi.comparator(t.key,e.key)},this.keyedMap=jo(),this.sortedSet=new Eo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Vl=function(){function t(){this.Kr=new Eo(Mi.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ui():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ul=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Fl.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ns(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ql=function(){this.Wr=void 0,this.listeners=[]},Bl=function(){this.queries=new Wu(function(t){return Ps(t)},Ns),this.onlineState="Unknown",this.Gr=new Set};function Hl(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(u.d)(this,function(u){switch(u.label){case 0:if(n=li(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new ql),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=Ml(a,"Initialization of query '"+Ds(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Gl(n),[2]}})})}function zl(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(u.d)(this,function(a){return n=li(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function $l(t,e){for(var n=li(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Gl(n)}function Kl(t,e,n){var r=li(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Gl(t){t.Gr.forEach(function(t){t.next()})}var Ql=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ul(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Wl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Xl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return na(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?ua(this.R,t.document,!1):ts.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Zo(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Xl(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Do()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return[4,Ic(this.localStore,new Xl(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,xc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cc(Object.assign({},this.progress),t))]}})})}}();var Yl=function(t){this.key=t},Zl=function(t){this.key=t},Jl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Do(),this.mutatedKeys=Do(),this.lo=Ls(t),this.fo=new Fl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Vl,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Os(this.query)&&i.size===this.query.limit?i.last():null,c=Ts(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Rs(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Os(this.query)||Ts(this.query))for(;o.size>this.query.limit;){var l=Os(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ui()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Ul(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Vl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Do(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Zl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Yl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Do();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ul.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),th=function(t,e,n){this.query=t,this.targetId=e,this.view=n},eh=function(t){this.key=t,this.bo=!1},nh=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Wu(function(t){return Ps(t)},Ns),this.Vo=new Map,this.So=new Set,this.Do=new Eo(Mi.comparator),this.Co=new Map,this.No=new jc,this.xo={},this.Fo=new Map,this.ko=Mu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function rh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:return n=Nh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,wc(n.localStore,js(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ih(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&dl(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ih(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s,o,a,c,l;return Object(u.d)(this,function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Sc(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(yh(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Sc(t.localStore,e,!0)];case 1:return i=h.sent(),s=new Jl(e,i.Bn),o=s._o(i.documents),a=Fo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),yh(t,n,c.To),l=new th(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function sh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return n=li(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ns(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ec(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),pl(n.remoteStore,r.targetId),gh(n,r.targetId)}).catch(Bu)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return gh(n,r.targetId),[4,Ec(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function oh(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:r=Ph(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=li(t),i=mi.now(),s=e.reduce(function(t,e){return t.add(e.key)},Do());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=oo(c,n.get(c.key));null!=l&&o.push(new lo(c.key,l,Ji(l.value.mapValue),eo.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Eo(di)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,_h(r,i.changes)];case 3:return a.sent(),[4,Cl(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Ml(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ah(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:n=li(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ci(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ci(r.bo):t.removedDocuments.size>0&&(ci(r.bo),r.bo=!1))}),[4,_h(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Bu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function uh(t,e,n){var r=li(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=li(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Gl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ch(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(u.d)(this,function(u){switch(u.label){case 0:return(r=li(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Eo(Mi.comparator)).insert(s,ts.newNoDocument(s,yi.min())),a=Do().add(s),c=new Mo(yi.min(),new Map,new To(di),o,a),[4,ah(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),bh(r),[3,4];case 2:return[4,Ec(r.localStore,e,!1).then(function(){return gh(r,e,n)}).catch(Bu)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function lh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:n=li(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,mc(n.localStore,e)];case 2:return i=s.sent(),ph(n,r,null),dh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,_h(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function hh(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:r=li(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=li(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ci(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),ph(r,e,n),dh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,_h(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function fh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:bl((n=li(t)).remoteStore)||ii("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=li(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Ml(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function dh(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function ph(t,e,n){var r=li(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function gh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||mh(t,e)})}function mh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(pl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),bh(t))}function yh(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Yl?(t.No.addReference(s.key,e),vh(t,s)):s instanceof Zl?(ii("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||mh(t,s.key)):ui()}}function vh(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ii("SyncEngine","New document in limbo: "+n),t.So.add(r),bh(t))}function bh(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Mi(Ei.fromString(e)),r=t.ko.next();t.Co.set(r,new eh(n)),t.Do=t.Do.insert(n,r),dl(t.remoteStore,new cu(js(Ss(n.path)),r,2,Jr.o))}}function _h(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:return r=li(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=hc.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l;return Object(u.d)(this,function(u){switch(u.label){case 0:n=li(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Wa.forEach(e,function(e){return Wa.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Wa.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!tu(r=u.sent()))throw r;return ii("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function wh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:return(n=li(t)).currentUser.isEqual(e)?[3,3]:(ii("SyncEngine","User change. New user:",e.toKey()),[4,gc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new ei(ti.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,_h(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Eh(t,e){var n=li(t),r=n.Co.get(e);if(r&&r.bo)return Do().add(r.key);var i=Do(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Sh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return[4,Sc((n=li(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&yh(n,e.targetId,i.To),i)]}})})}function Oh(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){return[2,Tc((e=li(t)).localStore).then(function(t){return _h(e,t)})]})})}function Th(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s;return Object(u.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=li(t),r=li(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Wa.resolve(null)})})}((i=li(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Cl(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ph(i,e,r||null),dh(i,e),function(t,e){li(li(t)._n).Gt(e)}(i.localStore,e)):ui(),o.label=4;case 4:return[4,_h(i,s)];case 5:return o.sent(),[3,7];case 6:ii("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ch(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(u.d)(this,function(u){switch(u.label){case 0:return Nh(n=li(t)),Ph(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ih(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,Pl(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)dl(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return gh(n,e),Ec(n.localStore,e,!0)}),pl(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,Ih(n,a)];case 5:return u.sent(),function(t){var e=li(t);e.Co.forEach(function(t,n){pl(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Eo(Mi.comparator)}(n),n.$o=!1,[4,Pl(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Ih(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,h,f,d,p,g;return Object(u.d)(this,function(u){switch(u.label){case 0:n=li(t),r=[],i=[],s=0,o=e,u.label=1;case 1:return s<o.length?(c=void 0,(l=n.Vo.get(a=o[s]))&&0!==l.length?[4,wc(n.localStore,js(l[0]))]:[3,7]):[3,13];case 2:c=u.sent(),h=0,f=l,u.label=3;case 3:return h<f.length?(d=n.Po.get(f[h]),[4,Sh(n,d)]):[3,6];case 4:(p=u.sent()).snapshot&&i.push(p.snapshot),u.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Oc(n.localStore,a)];case 8:return g=u.sent(),[4,wc(n.localStore,g)];case 9:return c=u.sent(),[4,ih(n,xh(g),a,!1)];case 10:u.sent(),u.label=11;case 11:r.push(c),u.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function xh(t){return Es(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ah(t){var e=li(t);return li(li(e.localStore).persistence).fn()}function jh(t,e,n,r){return Object(u.b)(this,void 0,void 0,function(){var i,s,o;return Object(u.d)(this,function(a){switch(a.label){case 0:return(i=li(t)).$o?(ii("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tc(i.localStore)];case 3:return s=a.sent(),o=Mo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,_h(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Ec(i.localStore,e,!0)];case 6:return a.sent(),gh(i,e,r),[3,8];case 7:ui(),a.label=8;case 8:return[2]}})})}function kh(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,l,h,f;return Object(u.d)(this,function(d){switch(d.label){case 0:if(!(r=Nh(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(ii("SyncEngine","Adding an already active target "+o),[3,5]):[4,Oc(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,wc(r.localStore,a)];case 3:return c=d.sent(),[4,ih(r,xh(a),c.targetId,!1)];case 4:d.sent(),dl(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(u.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ec(r.localStore,t,!1).then(function(){pl(r.remoteStore,t),gh(r,t)}).catch(Bu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Nh(t){var e=li(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ah.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ch.bind(null,e),e.vo._r=$l.bind(null,e.eventManager),e.vo.Mo=Kl.bind(null,e.eventManager),e}function Ph(t){var e=li(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hh.bind(null,e),e}var Dh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return this.R=rl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return pc(this.persistence,new fc,t.initialUser,this.R)},t.prototype.qo=function(t){return new Lc(Fc.bs,this.R)},t.prototype.Bo=function(t){return new Wc},t.prototype.terminate=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(u.c)(e,t),e.prototype.initialize=function(e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Ph(this.Ko.syncEngine)];case 4:return n.sent(),[4,Cl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return pc(this.persistence,new fc,t.initialUser,this.R)},e.prototype.Uo=function(t){return new $u(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=uc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Au.withCacheSize(this.cacheSizeBytes):Au.DEFAULT;return new sc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,el(),nl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Wc},e}(Dh),Lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(u.c)(e,t),e.prototype.initialize=function(e){return Object(u.b)(this,void 0,void 0,function(){var n,r=this;return Object(u.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Qc?(this.sharedClientState.syncEngine={ui:Th.bind(null,n),ai:jh.bind(null,n),hi:kh.bind(null,n),fn:Ah.bind(null,n),ci:Oh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(u.b)(r,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return[4,Ch(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=el();if(!Qc.yt(e))throw new ei(ti.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=uc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Qc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Rh),Mh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n=this;return Object(u.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return uh(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wh.bind(null,this.syncEngine),[4,Pl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Bl},t.prototype.createDatastore=function(t){var e=rl(t.databaseInfo.databaseId),n=new tl(t.databaseInfo);return function(t,e,n){return new ul(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return uh(o.syncEngine,t,0)},s=Yc.yt()?new Yc:new Xc,new ll(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new nh(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return e=li(t),ii("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,fl(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Fh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Vh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Qa,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Wl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e;return Object(u.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e;return Object(u.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(u.b)(this,void 0,void 0,function(){var e,n=this;return Object(u.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ei(ti.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(u.d)(this,function(u){switch(u.label){case 0:return n=li(t),r=sa(n.R)+"/documents",i={documents:e.map(function(t){return ea(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ci(!!e.found);var n=na(t,e.found.name),r=Zo(e.found.updateTime),i=new Zi({mapValue:{fields:e.found.fields}});return ts.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ci(!!e.missing),ci(!!e.readTime);var n=na(t,e.missing),r=Zo(e.readTime);return ts.newNoDocument(n,r)}(t,e):ui()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ci(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new yo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e=this;return Object(u.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Mi.fromPath(n);e.mutations.push(new vo(r,e.precondition(r)))}),[4,function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return n=li(t),r=sa(n.R)+"/documents",i={writes:e.map(function(t){return ca(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ui();e=yi.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ei(ti.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?eo.updateTime(e):eo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(yi.min()))throw new ei(ti.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return eo.updateTime(e)}return eo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Uh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new il(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(u.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(u.d)(this,function(r){return t=new Vh(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Di(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_o(e)}return!1},t}(),qh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Vc.UNAUTHENTICATED,this.clientId=fi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(u.b)(r,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return ii("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ei(ti.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(u.b)(t,void 0,void 0,function(){var t,n;return Object(u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ml(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Bh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(u.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ii("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(u.b)(i,void 0,void 0,function(){return Object(u.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,gc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Hh(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,zh(t)];case 1:return n=i.sent(),ii("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(u.b)(this,void 0,void 0,function(){var n,r;return Object(u.d)(this,function(i){switch(i.label){case 0:return(n=li(t)).asyncQueue.verifyOperationInProgress(),ii("RemoteStore","RemoteStore received new credentials"),r=bl(n),n.Or.add(3),[4,fl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,hl(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function zh(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ii("FirestoreClient","Using default OfflineComponentProvider"),[4,Bh(t,new Dh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function $h(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ii("FirestoreClient","Using default OnlineComponentProvider"),[4,Hh(t,new Mh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Kh(t){return zh(t).then(function(t){return t.persistence})}function Gh(t){return zh(t).then(function(t){return t.localStore})}function Qh(t){return $h(t).then(function(t){return t.remoteStore})}function Wh(t){return $h(t).then(function(t){return t.syncEngine})}function Xh(t){return Object(u.b)(this,void 0,void 0,function(){var e,n;return Object(u.d)(this,function(r){switch(r.label){case 0:return[4,$h(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=rh.bind(null,e.syncEngine),n.onUnlisten=sh.bind(null,e.syncEngine),n)]}})})}function Yh(t,e,n){var r=this;void 0===n&&(n={});var i=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(r,void 0,void 0,function(){var r;return Object(u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Fh({next:function(s){e.enqueueAndForget(function(){return zl(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ei(ti.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ei(ti.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Ql(Ss(n.path),s,{includeMetadataChanges:!0,so:!0});return Hl(t,o)},[4,Xh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Zh(t,e,n){var r=this;void 0===n&&(n={});var i=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(r,void 0,void 0,function(){var r;return Object(u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Fh({next:function(n){e.enqueueAndForget(function(){return zl(t,o)}),n.fromCache&&"server"===r.source?i.reject(new ei(ti.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Ql(n,s,{includeMetadataChanges:!0,so:!0});return Hl(t,o)},[4,Xh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Jh=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},tf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ef=new Map,nf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},rf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Vc.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),of=function(){function t(t){var e=this;this.currentUser=Vc.UNAUTHENTICATED,this.oc=new Qa,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ii("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(ii("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ii("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ci("string"==typeof n.accessToken),new nf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return ci(null===t||"string"==typeof t),new Vc(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return Object(u.b)(t,void 0,void 0,function(){return Object(u.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),af=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Vc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),uf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new af(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Vc.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cf(t,e,n){if(!n)throw new ei(ti.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function lf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ei(ti.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hf(t,e,n,r){if(!0===e&&!0===r)throw new ei(ti.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ff(t){if(!Mi.isDocumentKey(t))throw new ei(ti.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function df(t){if(Mi.isDocumentKey(t))throw new ei(ti.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ui()}function gf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ei(ti.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pf(t);throw new ei(ti.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function mf(t,e){if(e<=0)throw new ei(ti.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ei(ti.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ei(ti.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),vf=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yf({}),this._settingsFrozen=!1,t instanceof tf?(this._databaseId=t,this._credentials=new rf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ei(ti.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(t.options.projectId)}(t),this._credentials=new of(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ei(ti.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ei(ti.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new rf;switch(t.type){case"gapi":var e=t.client;return ci(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new uf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ei(ti.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=ef.get(this))&&(ii("ComponentProvider","Removing Datastore"),ef.delete(this),t.terminate()),Promise.resolve();var t},t}(),bf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_f=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),wf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ss(r))||this)._path=r,i.type="collection",i}return Object(u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new bf(this.firestore,null,new Mi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_f);function Ef(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(W.h)(t),cf("collection","path",e),t instanceof vf)return df(n=Ei.fromString.apply(Ei,Object(u.f)([e],r))),new wf(t,null,n);if(!(t instanceof bf||t instanceof wf))throw new ei(ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return df(n=Ei.fromString.apply(Ei,Object(u.f)([t.path],r)).child(Ei.fromString(e))),new wf(t.firestore,null,n)}function Sf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(W.h)(t),1===arguments.length&&(e=fi.u()),cf("doc","path",e),t instanceof vf)return ff(n=Ei.fromString.apply(Ei,Object(u.f)([e],r))),new bf(t,null,new Mi(n));if(!(t instanceof bf||t instanceof wf))throw new ei(ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ff(n=t._path.child(Ei.fromString.apply(Ei,Object(u.f)([e],r)))),new bf(t.firestore,t instanceof wf?t.converter:null,new Mi(n))}function Of(t,e){return t=Object(W.h)(t),e=Object(W.h)(e),(t instanceof bf||t instanceof wf)&&(e instanceof bf||e instanceof wf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Tf(t,e){return t=Object(W.h)(t),e=Object(W.h)(e),t instanceof _f&&e instanceof _f&&t.firestore===e.firestore&&Ns(t._query,e._query)&&t.converter===e.converter}var Cf=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new il(this,"async_queue_retry"),this.Ac=function(){var e=nl();e&&ii("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=nl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=nl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e=this;return Object(u.d)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!tu(t=n.sent()))throw t;return ii("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,si("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Ll.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&ui()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(u.b)(this,void 0,void 0,function(){var t;return Object(u.d)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function If(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Qa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var xf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Cf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(u.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||jf(this),this._firestoreClient.terminate()},e}(vf);function Af(t){return t._firestoreClient||jf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Jh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new qh(t._credentials,t._queue,r)}function kf(t,e,n){var r=this,i=new Qa;return t.asyncQueue.enqueue(function(){return Object(u.b)(r,void 0,void 0,function(){var r;return Object(u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Bh(t,n)];case 1:return s.sent(),[4,Hh(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ti.FAILED_PRECONDITION||t.code===ti.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Nf(t){if(t._initialized||t._terminated)throw new ei(ti.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Pf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ei(ti.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Df=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ci.fromBase64String(e))}catch(e){throw new ei(ti.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ci.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Rf=function(t){this._methodName=t},Lf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ei(ti.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ei(ti.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return di(this._lat,t._lat)||di(this._long,t._long)},t}(),Mf=/^__.*__$/,Ff=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new lo(t,this.data,this.fieldMask,e,this.fieldTransforms):new co(t,this.data,e,this.fieldTransforms)},t}(),Vf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new lo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Uf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ui()}}var qf=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return ad(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Uf(this.xc)&&Mf.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Bf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||rl(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new qf({xc:t,methodName:e,Uc:n,path:Oi.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Hf(t){var e=t._freezeSettings(),n=rl(t._databaseId);return new Bf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zf(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);rd("Data must be an object, but it was:",o,r);var a,u,c=ed(r,o);if(s.merge)a=new Ti(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=id(e,f[h],n);if(!o.contains(d))throw new ei(ti.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ud(l,d)||l.push(d)}a=new Ti(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new Ff(new Zi(c),a,u)}var $f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Rf);function Kf(t,e,n){return new qf({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype._toFieldTransform=function(t){return new Js(t.path,new $s)},e.prototype.isEqual=function(t){return t instanceof e},e}(Rf),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(u.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Kf(this,t,!0),n=this.Kc.map(function(t){return td(t,e)}),r=new Ks(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(u.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Kf(this,t,!0),n=this.Kc.map(function(t){return td(t,e)}),r=new Qs(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(u.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Xs(t.R,Us(t.R,this.jc));return new Js(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Rf);function Yf(t,e,n,r){var i=t.Qc(1,e,n);rd("Data must be an object, but it was:",i,r);var s=[],o=Zi.empty();bi(r,function(t,r){var a=od(e,t,n);r=Object(W.h)(r);var u=i.Mc(a);if(r instanceof $f)s.push(a);else{var c=td(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Ti(s);return new Vf(o,a,i.fieldTransforms)}function Zf(t,e,n,r,i,s){var o=t.Qc(1,e,n),a=[id(e,r,n)],u=[i];if(s.length%2!=0)throw new ei(ti.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(id(e,s[c])),u.push(s[c+1]);for(var l=[],h=Zi.empty(),f=a.length-1;f>=0;--f)if(!ud(l,a[f])){var d=a[f],p=u[f];p=Object(W.h)(p);var g=o.Mc(d);if(p instanceof $f)l.push(d);else{var m=td(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Ti(l);return new Vf(h,y,o.fieldTransforms)}function Jf(t,e,n,r){return void 0===r&&(r=!1),td(n,t.Qc(r?4:3,e))}function td(t,e){if(nd(t=Object(W.h)(t)))return rd("Unsupported field value:",e,t),ed(t,e);if(t instanceof Rf)return function(t,e){if(!Uf(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=td(s[i],e.Lc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(W.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Us(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=mi.fromDate(t);return{timestampValue:Wo(e.R,n)}}if(t instanceof mi)return n=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Wo(e.R,n)};if(t instanceof Lf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Df)return{bytesValue:Xo(e.R,t._byteString)};if(t instanceof bf){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Jo(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+pf(t))}(t,e)}function ed(t,e){var n={};return _i(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(t,function(t,r){var i=td(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function nd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mi||t instanceof Lf||t instanceof Df||t instanceof bf||t instanceof Rf)}function rd(t,e,n){if(!nd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=pf(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function id(t,e,n){if((e=Object(W.h)(e))instanceof Pf)return e._internalPath;if("string"==typeof e)return od(t,e);throw ad("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sd=new RegExp("[~\\*/\\[\\]]");function od(t,e,n){if(e.search(sd)>=0)throw ad("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Pf.bind.apply(Pf,Object(u.f)([void 0],e.split(".")))))._internalPath}catch(r){throw ad("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ad(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ei(ti.INVALID_ARGUMENT,(a+=". ")+t+u)}function ud(t,e){return t.some(function(t){return t.isEqual(e)})}var cd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new bf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(hd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(cd);function hd(t,e){return"string"==typeof e?od(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}var fd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),dd=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(u.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(hd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(cd),pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(dd),gd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new fd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new pd(n._firestore,n._userDataWriter,r.key,r,new fd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ei(ti.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new pd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new fd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new pd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new fd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:md(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function md(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ui()}}function yd(t,e){return t instanceof dd&&e instanceof dd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gd&&e instanceof gd&&t._firestore===e._firestore&&Tf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function vd(t){if(Ts(t)&&0===t.explicitOrderBy.length)throw new ei(ti.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bd=function(){};function _d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(u.c)(e,t),e.prototype._apply=function(t){var e=Hf(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ei(ti.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){xd(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Id(r,t,l[c]));a={arrayValue:{values:u}}}else a=Id(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xd(o,s),a=Jf(n,"where",o,"in"===s||"not-in"===s);var h=os.create(i,s,a);return function(t,e){if(e.g()){var n=Is(t);if(null!==n&&!n.isEqual(e.field))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Cs(t);null!==r&&Ad(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ei(ti.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new _f(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(bd),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(u.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ei(ti.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ei(ti.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ys(e,n);return function(t,e){if(null===Cs(t)){var n=Is(t);null!==n&&Ad(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new _f(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ws(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(bd),Sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(u.c)(e,t),e.prototype._apply=function(t){return new _f(t.firestore,t.converter,ks(t._query,this.Jc,this.Yc))},e}(bd),Od=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(u.c)(e,t),e.prototype._apply=function(t){var e=Cd(t,this.type,this.Xc,this.Zc);return new _f(t.firestore,t.converter,function(t,e){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(bd),Td=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(u.c)(e,t),e.prototype._apply=function(t){var e=Cd(t,this.type,this.Xc,this.Zc);return new _f(t.firestore,t.converter,function(t,e){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(bd);function Cd(t,e,n,r){if(n[0]=Object(W.h)(n[0]),n[0]instanceof cd)return function(t,e,n,r,i){if(!r)throw new ei(ti.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=As(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push($i(e,r.key));else{var c=r.data.field(u.field);if(ki(c))throw new ei(ti.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ei(ti.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new gs(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Hf(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new ei(ti.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ei(ti.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xs(t)&&-1!==c.indexOf("/"))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ei.fromString(c));if(!Mi.isDocumentKey(l))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Mi(l);a.push($i(e,h))}else{var f=Jf(n,r,c);a.push(f)}}return new gs(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Id(t,e,n){if("string"==typeof(n=Object(W.h)(n))){if(""===n)throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xs(e)&&-1!==n.indexOf("/"))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ei.fromString(n));if(!Mi.isDocumentKey(r))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $i(t,new Mi(r))}if(n instanceof bf)return $i(t,n._key);throw new ei(ti.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pf(n)+".")}function xd(t,e){if(!Array.isArray(t)||0===t.length)throw new ei(ti.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ei(ti.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ad(t,e,n){if(!n.isEqual(e))throw new ei(ti.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ji(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ui()}},t.prototype.convertObject=function(t,e){var n=this,r={};return bi(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Lf(Ai(t.latitude),Ai(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ni(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Pi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=xi(t);return new mi(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ei.fromString(t);ci(Oa(n));var r=new tf(n.get(1),n.get(3)),i=new Mi(n.popFirst(5));return r.isEqual(e)||si("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function kd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(u.c)(e,t),e.prototype.convertBytes=function(t){return new Df(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new bf(this.firestore,null,e)},e}(jd),Pd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Hf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Dd(t,this._firestore),i=kd(r.converter,e,n),s=zf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,eo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Dd(t,this._firestore);return s="string"==typeof(e=Object(W.h)(e))||e instanceof Pf?Zf(this._dataReader,"WriteBatch.update",o._key,e,n,r):Yf(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,eo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Dd(t,this._firestore);return this._mutations=this._mutations.concat(new yo(e._key,eo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ei(ti.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dd(t,e){if((t=Object(W.h)(t)).firestore!==e)throw new ei(ti.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(u.c)(e,t),e.prototype.convertBytes=function(t){return new Df(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new bf(this.firestore,null,e)},e}(jd);function Ld(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gf(t,bf);var s=gf(t.firestore,xf),o=Hf(s);return Fd(s,[("string"==typeof(e=Object(W.h)(e))||e instanceof Pf?Zf(o,"updateDoc",t._key,e,n,r):Yf(o,"updateDoc",t._key,e)).toMutation(t._key,eo.exists(!0))])}function Md(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(W.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||If(i[a])||(o=i[a],a++);var c,l,h,f={includeMetadataChanges:o.includeMetadataChanges};if(If(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof bf)l=gf(t.firestore,xf),h=Ss(t._key.path),c={next:function(e){i[a]&&i[a](Vd(l,t,e))},error:i[a+1],complete:i[a+2]};else{var p=gf(t,_f);l=gf(p.firestore,xf),h=p._query;var g=new Rd(l);c={next:function(t){i[a]&&i[a](new gd(l,g,p,t))},error:i[a+1],complete:i[a+2]},vd(t._query)}return function(t,e,n,r){var i=this,s=new Fh(r),o=new Ql(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(i,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return e=Hl,[4,Xh(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(i,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return e=zl,[4,Xh(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Af(l),h,f,c)}function Fd(t,e){return function(t,e){var n=this,r=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var n;return Object(u.d)(this,function(i){switch(i.label){case 0:return n=oh,[4,Wh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Af(t),e)}function Vd(t,e,n){var r=n.docs.get(e._key),i=new Rd(t);return new dd(t,i,e._key,r,new fd(n.hasPendingWrites,n.fromCache),e.converter)}var Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(u.c)(e,t),e.prototype.get=function(e){var n=this,r=Dd(e,this._firestore),i=new Rd(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new dd(n._firestore,i,r._key,t._document,new fd(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Hf(t)}return t.prototype.get=function(t){var e=this,n=Dd(t,this._firestore),r=new Nd(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ui();var i=t[0];if(i.isFoundDocument())return new cd(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cd(e._firestore,r,n._key,null,n.converter);throw ui()})},t.prototype.set=function(t,e,n){var r=Dd(t,this._firestore),i=kd(r.converter,e,n),s=zf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Dd(t,this._firestore);return s="string"==typeof(e=Object(W.h)(e))||e instanceof Pf?Zf(this._dataReader,"Transaction.update",o._key,e,n,r):Yf(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Dd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function qd(){if("undefined"==typeof Uint8Array)throw new ei(ti.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bd(){if("undefined"==typeof atob)throw new ei(ti.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Bd(),new t(Df.fromBase64String(e))},t.fromUint8Array=function(e){return qd(),new t(Df.fromUint8Array(e))},t.prototype.toBase64=function(){return Bd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return qd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),zd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Nf(t=gf(t,xf));var n=Af(t),r=t._freezeSettings(),i=new Mh;return kf(n,i,new Rh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Nf(t=gf(t,xf));var e=Af(t),n=t._freezeSettings(),r=new Mh;return kf(e,r,new Lh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ei(ti.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qa;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.d)(this,function(e){switch(e.label){case 0:return Ya.yt()?[4,Ya.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(uc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),$d=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof tf||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=gf(t,vf))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&oi("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(W.d)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ei(ti.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new sf(new nf(s,new Vc(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(u.b)(e,void 0,void 0,function(){var e,n;return Object(u.d)(this,function(r){switch(r.label){case 0:return[4,Kh(t)];case 1:return e=r.sent(),[4,Qh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=li(t);return e.Or.delete(0),hl(e)}(n))]}})})})}(Af(gf(this._delegate,xf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(u.b)(e,void 0,void 0,function(){var e,n;return Object(u.d)(this,function(r){switch(r.label){case 0:return[4,Kh(t)];case 1:return e=r.sent(),[4,Qh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return(e=li(t)).Or.add(0),[4,fl(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Af(gf(this._delegate,xf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.d)(this,function(r){switch(r.label){case 0:return e=fh,[4,Wh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Af(gf(this._delegate,xf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Fh(e);return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){li(t).Gr.add(e),e.next()},[4,Xh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var e;return Object(u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){li(t).Gr.delete(e)},[4,Xh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Af(t=gf(t,xf)),If(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new ei(ti.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sp(this,Ef(this._delegate,t))}catch(t){throw Yd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xd(this,Sf(this._delegate,t))}catch(t){throw Yd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new np(this,function(t,e){if(t=gf(t,vf),cf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ei(ti.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _f(t,null,function(t){return new ws(Ei.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Yd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var n;return Object(u.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return $h(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Uh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Af(t),function(n){return e(new Ud(t,n))})}(this._delegate,function(n){return t(new Gd(e,n))})},t.prototype.batch=function(){var t=this;return Af(this._delegate),new Qd(new Pd(this._delegate,function(e){return Fd(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new ei(ti.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ei(ti.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Kd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(u.c)(e,t),e.prototype.convertBytes=function(t){return new Hd(new Df(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xd.nu(e,this.firestore,null)},e}(jd),Gd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Kd(t)}return t.prototype.get=function(t){var e=this,n=op(t);return this._delegate.get(n).then(function(t){return new tp(e._firestore,new dd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=op(t);return n?(lf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=op(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(u.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=op(t);return this._delegate.delete(e),this},t}(),Qd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=op(t);return n?(lf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=op(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(u.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=op(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Wd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new pd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ep(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Kd(e),n),i.set(n,s)),s},t}();Wd.iu=new WeakMap;var Xd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kd(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new ei(ti.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new bf(n._delegate,r,new Mi(e)))},t.nu=function(e,n,r){return new t(n,new bf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sp(this.firestore,Ef(this._delegate,t))}catch(t){throw Yd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(W.h)(t))instanceof bf&&Of(this._delegate,t)},t.prototype.set=function(t,e){e=lf("DocumentReference.set",e);try{return function(t,e,n){t=gf(t,bf);var r=gf(t.firestore,xf),i=kd(t.converter,e,n);return Fd(r,[zf(Hf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,eo.none())])}(this._delegate,t,e)}catch(t){throw Yd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ld(this._delegate,t):Ld.apply(void 0,Object(u.f)([this._delegate,t,e],n))}catch(t){throw Yd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Fd(gf((t=this._delegate).firestore,xf),[new yo(t._key,eo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zd(e),i=Jd(e,function(e){return new tp(t.firestore,new dd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Md(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gf(t,bf);var e=gf(t.firestore,xf),n=Af(e),r=new Rd(e);return function(t,e){var n=this,r=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var n;return Object(u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i;return Object(u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=li(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ei(ti.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Ml(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new dd(e,r,t._key,n,new fd(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gf(t,bf);var e=gf(t.firestore,xf);return Yh(Af(e),t._key,{source:"server"}).then(function(n){return Vd(e,t,n)})}(this._delegate):function(t){t=gf(t,bf);var e=gf(t.firestore,xf);return Yh(Af(e),t._key).then(function(n){return Vd(e,t,n)})}(this._delegate)).then(function(t){return new tp(e.firestore,new dd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Wd.su(this.firestore,e):null))},t}();function Yd(t,e,n){return t.message=t.message.replace(e,n),t}function Zd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!If(r))return r}return{}}function Jd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=If(t[0])?t[0]:If(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var tp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return yd(this._delegate,t._delegate)},t}(),ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(tp),np=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_d(this._delegate,function(t,e,n){var r=e,i=hd("where",t);return new wd(i,r,n)}(e,n,r)))}catch(e){throw Yd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_d(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=hd("orderBy",t);return new Ed(r,n)}(e,n)))}catch(e){throw Yd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_d(this._delegate,function(t){return mf("limit",t),new Sd("limit",t,"F")}(e)))}catch(e){throw Yd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_d(this._delegate,function(t){return mf("limitToLast",t),new Sd("limitToLast",t,"L")}(e)))}catch(e){throw Yd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Od("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Yd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Od("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Yd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Td("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Yd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Td("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Yd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Tf(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gf(t,_f);var e=gf(t.firestore,xf),n=Af(e),r=new Rd(e);return function(t,e){var n=this,r=new Qa;return t.asyncQueue.enqueueAndForget(function(){return Object(u.b)(n,void 0,void 0,function(){var n;return Object(u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(u.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(u.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Sc(t,e,!0)];case 1:return a=u.sent(),r=new Jl(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Ml(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new gd(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gf(t,_f);var e=gf(t.firestore,xf),n=Af(e),r=new Rd(e);return Zh(n,t._query,{source:"server"}).then(function(n){return new gd(e,r,t,n)})}(this._delegate):function(t){t=gf(t,_f);var e=gf(t.firestore,xf),n=Af(e),r=new Rd(e);return vd(t._query),Zh(n,t._query).then(function(n){return new gd(e,r,t,n)})}(this._delegate)).then(function(t){return new ip(e.firestore,new gd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zd(e),i=Jd(e,function(e){return new ip(t.firestore,new gd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Md(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Wd.su(this.firestore,e):null))},t}(),rp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ep(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ip=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new np(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ep(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new rp(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ep(n._firestore,r))})},t.prototype.isEqual=function(t){return yd(this._delegate,t._delegate)},t}(),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xd(this.firestore,void 0===t?Sf(this._delegate):Sf(this._delegate,t))}catch(t){throw Yd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gf(t.firestore,xf),r=Sf(t),i=kd(t.converter,e);return Fd(n,[zf(Hf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,eo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Xd(e.firestore,t)})},e.prototype.isEqual=function(t){return Of(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Wd.su(this.firestore,t):null))},e}(np);function op(t){return gf(t,bf)}var ap,up=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Pf.bind.apply(Pf,Object(u.f)([void 0],t)))}return t.documentId=function(){return new t(Oi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(W.h)(t))instanceof Pf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),cp=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Gf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $f("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Xf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),lp=n("/6Yf"),hp={Firestore:$d,GeoPoint:Lf,Timestamp:mi,Blob:Hd,Transaction:Gd,WriteBatch:Qd,DocumentReference:Xd,DocumentSnapshot:tp,Query:np,QueryDocumentSnapshot:ep,QuerySnapshot:ip,CollectionReference:sp,FieldPath:up,FieldValue:cp,setLogLevel:function(t){ni.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function fp(t,e){return function(t,e=F.a){return new h.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dp(t,e){return fp(t,e).pipe(Object(m.a)(t=>({payload:t,type:"query"})))}function pp(t,e){return dp(t,e).pipe(Object(V.a)(void 0),q(),Object(m.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function gp(t,e,n){return pp(t,n).pipe(Object(z.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return mp(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return mp(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mp(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new $(void 0,void 0)),Object(m.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function mp(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function yp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new lp.a("firestore",function(t){return function(t,e){return new $d(t,new xf(t,e),new zd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hp)))})(ap=Q.a),ap.registerVersion("@firebase/firestore","2.3.2");class vp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=pp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(m.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(V.a)(void 0),q(),Object(I.a)(([t,e])=>e.length>0||!t),Object(m.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(z.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=yp(t);return gp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(m.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(f.a)(this.query.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new bp(this.ref.doc(t),this.afs)}}class bp{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Tp(n,e);return new vp(r,i,this.afs)}snapshotChanges(){return fp(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(V.a)(void 0),q(),Object(m.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(m.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(f.a)(this.ref.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}class _p{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(m.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(I.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):pp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(z.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=yp(t);return gp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dp(this.query,this.afs.schedulers.outsideAngular).pipe(Object(m.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(f.a)(this.query.get(t)).pipe(Object(p.b)(this.afs.schedulers.insideAngular))}}const wp=new i.u("angularfire2.enableFirestorePersistence"),Ep=new i.u("angularfire2.firestore.persistenceSettings"),Sp=new i.u("angularfire2.firestore.settings"),Op=new i.u("angularfire2.firestore.use-emulator");function Tp(t,e=(t=>t)){return{query:e(t),ref:t}}let Cp=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new x.d(s),this.keepUnstableUntilFirst=Object(x.h)(this.schedulers);const c=Object(x.g)(t,s,e);!G.a.auth&&u&&Object(x.j)();const h=a;[this.firestore,this.persistenceEnabled$]=Object(x.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),h&&t.useEmulator(...h),n&&!Object(A.o)(i)){const e=()=>{try{return Object(f.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(ap){return"undefined"!=typeof console&&console.warn(ap),Object(l.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(l.a)(!1)]},[r,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Tp(n,e),s=this.schedulers.ngZone.run(()=>r);return new vp(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _p(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new bp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.cc(x.c),i.cc(x.b,8),i.cc(wp,8),i.cc(Sp,8),i.cc(i.I),i.cc(i.F),i.cc(Ep,8),i.cc(Op,8),i.cc(j,8))},t.\u0275prov=i.Pb({factory:function(){return new t(i.cc(x.c),i.cc(x.b,8),i.cc(wp,8),i.cc(Sp,8),i.cc(i.I),i.cc(i.F),i.cc(Ep,8),i.cc(Op,8),i.cc(j,8))},token:t,providedIn:"any"}),t})(),Ip=(()=>{class t{constructor(t){this.fs=t,this.obj={rmg:!1,lead:!1,evaluator:!1}}getAuth(){return this.fs.collection("users")}getProfile(t){switch(t){case"rmg":this.obj.rmg=!0,this.value=t;break;case"lead":this.obj.lead=!0,this.value=t;break;case"evaluator":this.obj.evaluator=!0,this.value=t;break;default:console.log("sorry no route present")}return this.value}getStatus(){return this.obj}}return t.\u0275fac=function(e){return new(e||t)(i.cc(Cp))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var xp=n("tyNb"),Ap=n("5eHb");let jp=(()=>{class t{constructor(t,e,n,r){this.fireAuth=t,this.fs=e,this.router=n,this.ts=r,this.isLoggedIn=!1}signin(t,e){return Object(u.b)(this,void 0,void 0,function*(){return this.fireAuth.signInWithEmailAndPassword(t,e).then(t=>{this.fs.getAuth().get().subscribe(e=>{e.docs.forEach(e=>{var n;let r=e.data();(null===(n=t.user)||void 0===n?void 0:n.uid)===e.id&&(sessionStorage.setItem("user",JSON.stringify(t.user)),this.fs.getProfile(r.access),this.router.navigateByUrl(r.access))})})}).catch(t=>{this.ts.error(t.code.split("/")[1])})})}signup(t,e){return Object(u.b)(this,void 0,void 0,function*(){yield this.fireAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.isLoggedIn=!0,sessionStorage.setItem("user",JSON.stringify(t.user))}).catch(t=>{this.ts.error(t.code)})})}logout(){return Object(u.b)(this,void 0,void 0,function*(){yield this.fireAuth.signOut(),sessionStorage.removeItem("user")})}reset(t){return Object(u.b)(this,void 0,void 0,function*(){yield this.fireAuth.sendPasswordResetEmail(t).then(()=>{this.ts.warning("Reset Mail sent")}).catch(t=>{this.ts.error("Message: "+t.Message)})})}}return t.\u0275fac=function(e){return new(e||t)(i.cc(L),i.cc(Ip),i.cc(xp.a),i.cc(Ap.b))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kp=[{path:"login",component:(()=>{class t{constructor(t,e,n){this.auth=t,this.fs=e,this.router=n,this.isLoggedIn=!1}ngOnInit(){}ngDoCheck(){this.fs.getStatus()}login(t,e){this.auth.signin(t,e).then(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(jp),i.Tb(Ip),i.Tb(xp.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"main"],[1,"sign"],[1,"form1"],["type","email","placeholder","Username","value","rmg@rmg.com",1,"un"],["email",""],["type","password","placeholder","Password","value","rmg123",1,"pass"],["password",""],[1,"submit",3,"click"],[1,"forgot"],["href","#"]],template:function(t,e){if(1&t){const t=i.Zb();i.Yb(0,"div",0),i.Yb(1,"p",1),i.wc(2,"Sign in"),i.Xb(),i.Yb(3,"form",2),i.Ub(4,"input",3,4),i.Ub(6,"input",5,6),i.Yb(8,"button",7),i.fc("click",function(){i.pc(t);const n=i.oc(5),r=i.oc(7);return e.login(n.value,r.value)}),i.wc(9,"Sign in"),i.Xb(),i.Yb(10,"p",8),i.Yb(11,"a",9),i.wc(12,"Forgot Password?"),i.Xb(),i.Xb(),i.Xb(),i.Xb()}},directives:[o.o,o.g,o.h],styles:["body[_ngcontent-%COMP%]{background-color:#f3ebf6;font-family:Ubuntu,sans-serif}.main[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:1.5em;box-shadow:0 11px 35px 2px rgba(0,0,0,.14);height:25rem;margin:7em auto;width:24rem}.sign[_ngcontent-%COMP%]{color:#7395ae;font-size:23px;padding-top:40px}.sign[_ngcontent-%COMP%], .un[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;font-weight:700;text-align:center}.un[_ngcontent-%COMP%]{background:hsla(0,4%,51.4%,.04);border:none;border:2px solid rgba(0,0,0,.02);border-radius:20px;box-sizing:border-box;color:#263238;font-size:14px;letter-spacing:1px;margin-bottom:27px;margin-left:46px;outline:none;padding:10px 20px;width:76%}form.form1[_ngcontent-%COMP%]{padding-top:40px}.pass[_ngcontent-%COMP%]{background:hsla(0,4%,51.4%,.04);border:none;border:2px solid rgba(0,0,0,.02);border-radius:20px;box-sizing:border-box;color:#263238;font-family:Ubuntu,sans-serif;font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:27px;margin-left:46px;outline:none;padding:10px 20px;text-align:center;width:76%}.pass[_ngcontent-%COMP%]:focus, .un[_ngcontent-%COMP%]:focus{border:2px solid rgba(0,0,0,.18)!important}.submit[_ngcontent-%COMP%]{background-color:#7395ae;border:0;border-radius:5em;box-shadow:0 0 20px 1px rgba(0,0,0,.04);color:#fff;cursor:pointer;font-family:Ubuntu,sans-serif;font-size:13px;margin-left:35%;padding:10px 40px}.forgot[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.forgot[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-shadow:0 0 3px hsla(0,0%,45.9%,.12)}a[_ngcontent-%COMP%]{color:#7395ae;text-decoration:none}@media (max-width:600px){.main[_ngcontent-%COMP%]{border-radius:0}}"]}),t})()},{path:"lead",loadChildren:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"it4r")).then(t=>t.LeadModule)},{path:"",component:a},{path:"lead/:date",loadChildren:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"it4r")).then(t=>t.LeadModule)},{path:"rmg",loadChildren:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"W5Rm")).then(t=>t.RmgModule)},{path:"evaluator",loadChildren:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"lMxK")).then(t=>t.EvaluatorModule)},{path:"evaluator/:id",loadChildren:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"lMxK")).then(t=>t.EvaluatorModule)}];let Np=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({imports:[[xp.c.forRoot(kp)],xp.c]}),t})();var Pp=n("R0Ic");function Dp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rp(t){switch(t.length){case 0:return new Pp.d;case 1:return t[0];default:return new Pp.k(t)}}function Lp(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case Pp.l:a=i[n];break;case Pp.a:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Mp(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Fp(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Fp(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Fp(n,"destroy",t)))}}function Fp(t,e,n){const r=n.totalTime,i=Vp(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Vp(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Up(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function qp(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Bp=(t,e)=>!1,Hp=(t,e)=>!1,zp=(t,e,n)=>[];const $p=Dp();($p||"undefined"!=typeof Element)&&(Bp=(t,e)=>t.contains(e),Hp=(()=>{if($p||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Hp}})(),zp=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Kp=null,Gp=!1;function Qp(t){Kp||(Kp=("undefined"!=typeof document?document.body:null)||{},Gp=!!Kp.style&&"WebkitAppearance"in Kp.style);let e=!0;return Kp.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Kp.style,!e&&Gp)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Kp.style),e}const Wp=Hp,Xp=Bp,Yp=zp;function Zp(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Jp=(()=>{class t{validateStyleProperty(t){return Qp(t)}matchesElement(t,e){return Wp(t,e)}containsElement(t,e){return Xp(t,e)}query(t,e,n){return Yp(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Pp.d(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),tg=(()=>{class t{}return t.NOOP=new Jp,t})();const eg="ng-enter",ng="ng-leave",rg="ng-trigger",ig=".ng-trigger",sg="ng-animating",og=".ng-animating";function ag(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ug(parseFloat(e[1]),e[2])}function ug(t,e){switch(e){case"s":return 1e3*t;default:return t}}function cg(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=ug(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=ug(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function lg(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function hg(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else lg(t,n);return n}function fg(t,e,n){return n?e+":"+n+";":""}function dg(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=fg(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=fg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function pg(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Eg(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Dp()&&dg(t))}function gg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Eg(e);t.style[n]=""}),Dp()&&dg(t))}function mg(t){return Array.isArray(t)?1==t.length?t[0]:Object(Pp.f)(t):t}const yg=new RegExp("{{\\s*(.+?)\\s*}}","g");function vg(t){let e=[];if("string"==typeof t){let n;for(;n=yg.exec(t);)e.push(n[1]);yg.lastIndex=0}return e}function bg(t,e,n){const r=t.toString(),i=r.replace(yg,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function _g(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const wg=/-+([a-z0-9])/g;function Eg(t){return t.replace(wg,(...t)=>t[1].toUpperCase())}function Sg(t,e){return 0===t||0===e}function Og(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Cg(t,e)})}}return e}function Tg(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Cg(t,e){return window.getComputedStyle(t)[e]}const Ig="*";function xg(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(kg(i,o)),"<"!=s[0]||i==Ig&&o==Ig||e.push(kg(o,i))}(t,n,e)):n.push(t),n}const Ag=new Set(["true","1"]),jg=new Set(["false","0"]);function kg(t,e){const n=Ag.has(t)||jg.has(t),r=Ag.has(e)||jg.has(e);return(i,s)=>{let o=t==Ig||t==i,a=e==Ig||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ag.has(t):jg.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ag.has(e):jg.has(e)),o&&a}}const Ng=new RegExp("s*:selfs*,?","g");function Pg(t,e,n){return new Dg(t).build(e,n)}class Dg{constructor(t){this._driver=t}build(t,e){const n=new Rg(e);return this._resetContextStyleTimingState(n),Tg(this,mg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Lg(t)){const e=t;Object.keys(e).forEach(t=>{vg(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=_g(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Tg(this,mg(t.animation),e);return{type:1,matchers:xg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Mg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Tg(this,t,e)),options:Mg(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Tg(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Mg(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Fg(cg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Fg(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||cg(r,e),Fg(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(Pp.h)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(Pp.h)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Pp.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Lg(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=vg(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Lg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Lg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Tg(this,mg(t.animation),e),options:Mg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Mg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Mg(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ng,"")),[t=t.replace(/@\*/g,ig).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,og),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Up(e.collectedStyles,e.currentQuerySelector,{});const o=Tg(this,mg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Mg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:cg(t.timings,e.errors,!0);return{type:12,animation:Tg(this,mg(t.animation),e),timings:n,options:null}}}class Rg{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Lg(t){return!Array.isArray(t)&&"object"==typeof t}function Mg(t){var e;return t?(t=lg(t)).params&&(t.params=(e=t.params)?lg(e):null):t={},t}function Fg(t,e,n){return{duration:t,delay:e,easing:n}}function Vg(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ug{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const qg=new RegExp(":enter","g"),Bg=new RegExp(":leave","g");function Hg(t,e,n,r,i,s={},o={},a,u,c=[]){return(new zg).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class zg{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Ug;const l=new Kg(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Tg(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Vg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ag(n.duration):null,s=null!=n.delay?ag(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Tg(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$g);const t=ag(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Tg(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ag(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Tg(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return cg(e.params?bg(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ag(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$g);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Tg(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Tg(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const $g={};class Kg{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$g,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Gg(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ag(n.duration)),null!=n.delay&&(r.delay=ag(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=bg(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Kg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=$g,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Qg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(qg,"."+this._enterClassName)).replace(Bg,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Gg{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Gg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Pp.a,this._currentKeyframe[t]=Pp.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Pp.a})):hg(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=bg(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Pp.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=hg(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==Pp.l?t.add(n):r==Pp.a&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?_g(t.values()):[],s=e.size?_g(e.values()):[];if(n){const t=r[0],e=lg(t);t.offset=0,e.offset=1,r=[t,e]}return Vg(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Qg extends Gg{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=hg(t[0],!1);a.offset=0,i.push(a);const u=hg(t[0],!1);u.offset=Wg(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=hg(t[r],!1);o.offset=Wg((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Vg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Wg(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xg{}class Yg extends Xg{normalizePropertyName(t,e){return Eg(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Zg[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Zg=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Jg(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const tm={};class em{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||tm,f=this.buildStyles(n,o&&o.params||tm,l),d=a&&a.params||tm,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:Hg(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Jg(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Up(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Up(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=_g(g.values());return Jg(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class nm{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=lg(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=bg(s,r,e)),n[t]=s})}}),n}}class rm{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new nm(t.style,t.options&&t.options.params||{})}),im(this.states,"true","1"),im(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new em(t,e,this.states))}),this.fallbackTransition=new em(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function im(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const sm=new Ug;class om{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Pg(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Lp(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Hg(this._driver,e,i,eg,ng,{},{},n,sm,r),s.forEach(t=>{const e=Up(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Pp.a)})});const a=Rp(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Vp(e,"","","");return Mp(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const am="ng-animate-queued",um="ng-animate-disabled",cm=".ng-animate-disabled",lm=[],hm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class dm{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=lg(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const pm="void",gm=new dm(pm);class mm{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sm(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Up(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Up(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Sm(t,rg),Sm(t,"ng-trigger-"+e),a[e]=gm),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new vm(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Sm(t,rg),Sm(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new dm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=gm),u.value!==pm&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{gg(t,n),pg(t,r)})}return}const c=Up(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Sm(t,am),s.onStart(()=>{Om(t,am)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ig,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,pm,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Rp(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||gm,a=new dm(pm),u=new vm(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==hm||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Sm(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Vp(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Mp(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ym{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new mm(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(bm(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!bm(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sm(t,um)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Om(t,um))}removeNode(t,e,n,r){if(bm(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return bm(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ig,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,og,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Rp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=hm,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,cm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,cm,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Sm(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Rp(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ug,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Em(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=eg+p++;d.set(e,n),t.forEach(t=>Sm(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Em(h,Array.from(m));b.forEach((t,e)=>{const n=ng+p++;v.set(e,n),t.forEach(t=>Sm(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Om(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Om(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>gg(i,p.fromStyles)),e.onDestroy(()=>pg(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>gg(i,p.fromStyles)),e.onDestroy(()=>pg(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Up(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Up(E,e,[]).push(t),t.destroy()})});const O=g.filter(t=>Im(t,a,u)),T=new Map;wm(T,this.driver,y,u,Pp.a).forEach(t=>{Im(t,a,u)&&O.push(t)});const C=new Map;f.forEach((t,e)=>{wm(C,this.driver,new Set(t),a,Pp.l)}),O.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>pg(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Rp(e)),r.push(s)}}else gg(e,o.fromStyles),s.onDestroy(()=>pg(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Rp(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(Om(t,ng),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,og,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Tm(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==pm;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Up(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}gg(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Pp.d(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return Cm(t,e),e}((n.get(h)||lm).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Lp(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new vm(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Up(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Sm(t,sg));const f=Rp(h);return f.onDestroy(()=>{c.forEach(t=>Om(t,sg)),pg(a,e.toStyles)}),l.forEach(t=>{Up(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Pp.d(t.duration,t.delay)}}class vm{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Pp.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Mp(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Up(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bm(t){return t&&1===t.nodeType}function _m(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function wm(t,e,n,r,i){const s=[];n.forEach(t=>s.push(_m(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=fm,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>_m(t,s[a++])),o}function Em(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Sm(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Om(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Tm(t,e,n){Rp(n).onDone(()=>t.processLeaveNode(e))}function Cm(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Pp.k?Cm(r.players,e):e.push(r)}}function Im(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class xm{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ym(t,e,n),this._timelineEngine=new om(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Pg(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new rm(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=qp(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=qp(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Am(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=km(e[0]),e.length>1&&(r=km(e[e.length-1]))):e&&(n=km(e)),n||r?new jm(t,n,r):null}let jm=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&pg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pg(this._element,this._initialStyles),this._endStyles&&(pg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(gg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gg(this._element,this._endStyles),this._endStyles=null),pg(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function km(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Nm(i)&&(e=e||{},e[i]=t[i])}return e}function Nm(t){return"display"===t||"position"===t}const Pm="animation",Dm="animationend";class Rm{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=qm(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Um(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vm(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Lm(this._element,this._name,"paused")}resume(){Lm(this._element,this._name,"running")}setPosition(t){const e=Mm(this._element,this._name);this._position=t*this._duration,Um(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vm(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=qm(t,"").split(","),r=Fm(n,e);r>=0&&(n.splice(r,1),Um(t,"",n.join(",")))}(this._element,this._name))}}function Lm(t,e,n){Um(t,"PlayState",n,Mm(t,e))}function Mm(t,e){const n=qm(t,"");return n.indexOf(",")>0?Fm(n.split(","),e):Fm([n],e)}function Fm(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Vm(t,e,n){n?t.removeEventListener(Dm,e):t.addEventListener(Dm,e)}function Um(t,e,n,r){const i=Pm+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function qm(t,e){return t.style[Pm+e]||""}class Bm{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rm(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Cg(this.element,n))})}this.currentSnapshot=t}}class Hm extends Pp.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Zp(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class zm{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Qp(t)}matchesElement(t,e){return Wp(t,e)}containsElement(t,e){return Xp(t,e)}query(t,e,n){return Yp(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Zp(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Bm),u={};Sg(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Og(t,e,u));if(0==n)return new Hm(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Am(t,e),d=new Bm(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class $m{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Cg(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Km{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Gm().toString()),this._cssKeyframesDriver=new zm}validateStyleProperty(t){return Qp(t)}matchesElement(t,e){return Wp(t,e)}containsElement(t,e){return Xp(t,e)}query(t,e,n){return Yp(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof $m);Sg(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Am(t,e=Og(t,e=e.map(t=>hg(t,!1)),u));return new $m(t,e,a,l)}}function Gm(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Qm=(()=>{class t extends Pp.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.Y.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(Pp.f)(t):t;return Ym(this._renderer,null,e,"register",[n]),new Wm(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.M),i.cc(A.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class Wm extends Pp.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Xm(this._id,t,e||{},this._renderer)}}class Xm{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ym(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ym(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Zm="@",Jm="@.disabled";let ty=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ey("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ny(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.cc(i.M),i.cc(xm),i.cc(i.F))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class ey{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Zm&&e==Jm?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ny extends ey{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Zm?"."==e.charAt(1)&&e==Jm?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Zm){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Zm&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ry=(()=>{class t extends xm{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(A.c),i.cc(tg),i.cc(Xg))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const iy=[{provide:tg,useFactory:function(){return"function"==typeof Gm()?new Km:new zm}},{provide:new i.u("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Pp.b,useClass:Qm},{provide:Xg,useFactory:function(){return new Yg}},{provide:xm,useClass:ry},{provide:i.M,useFactory:function(t,e,n){return new ty(t,e,n)},deps:[r.d,xm,i.F]}];let sy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({providers:iy,imports:[r.a]}),t})();function oy(t,e){1&t&&(i.Yb(0,"li"),i.Yb(1,"a",11),i.wc(2,"sign in"),i.Xb(),i.Xb())}function ay(t,e){if(1&t){const t=i.Zb();i.Yb(0,"li"),i.Yb(1,"a",12),i.fc("click",function(){return i.pc(t),i.hc().logout()}),i.wc(2,"logout"),i.Xb(),i.Xb()}}let uy=(()=>{class t{constructor(t){this.fireAuth=t,this.isLoggedIn=!1}ngDoCheck(){this.isLoggedIn=!!sessionStorage.getItem("user")}ngOnInit(){}logout(){this.fireAuth.logout(),this.isLoggedIn=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(jp))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-nav"]],decls:18,vars:2,consts:[[1,"navbar","navbar-expand-md","navbar-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","justify-content-around"],[1,""],["routerLink","/rmg",1,"nav-link"],["routerLink","/lead",1,"nav-link"],["routerLink","/evaluator",1,"nav-link"],[4,"ngIf"],["routerLink","/login",1,"nav-link"],[1,"nav-link","logout",3,"click"]],template:function(t,e){1&t&&(i.Yb(0,"nav",0),i.Yb(1,"a",1),i.wc(2,"TCS Internal"),i.Xb(),i.Yb(3,"button",2),i.Ub(4,"span",3),i.Xb(),i.Yb(5,"div",4),i.Yb(6,"ul",5),i.Yb(7,"li",6),i.Yb(8,"a",7),i.wc(9,"RMG "),i.Xb(),i.Xb(),i.Yb(10,"li",6),i.Yb(11,"a",8),i.wc(12,"Lead"),i.Xb(),i.Xb(),i.Yb(13,"li",6),i.Yb(14,"a",9),i.wc(15,"Evaluator"),i.Xb(),i.Xb(),i.vc(16,oy,3,0,"li",10),i.vc(17,ay,3,0,"li",10),i.Xb(),i.Xb(),i.Xb()),2&t&&(i.Ib(16),i.lc("ngIf",!e.isLoggedIn),i.Ib(1),i.lc("ngIf",e.isLoggedIn))},directives:[xp.b,A.k],styles:[".navbar-brand[_ngcontent-%COMP%]{color:#fff;font-family:myFont}.navbar-brand[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#f3ebeb}.logout[_ngcontent-%COMP%]:hover{cursor:pointer}@media (min-width:992px){.navbar-nav[_ngcontent-%COMP%]{display:grid}li[_ngcontent-%COMP%]{color:#db0f31}}@media (max-width:767px){nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center}}.mr-auto[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:space-between;margin:auto!important}"]}),t})(),cy=(()=>{class t{constructor(){this.title="hiring"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(i.Yb(0,"div",0),i.Ub(1,"app-nav"),i.Ub(2,"router-outlet"),i.Xb())},directives:[uy,xp.d],styles:["h1[_ngcontent-%COMP%]{font-family:myFont}.container[_ngcontent-%COMP%]{margin-top:1rem}"]}),t})(),ly=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Rb({type:t,bootstrap:[cy]}),t.\u0275inj=i.Qb({providers:[],imports:[[r.a,o.c,Np,s.b,sy,Ap.a.forRoot({timeOut:2e3,progressBar:!0,progressAnimation:"increasing",preventDuplicates:!0}),x.a.initializeApp({apiKey:"AIzaSyAxcHSn5GBlTqs_fgUXiPTbybJWP3pNcm8",authDomain:"evaluateprofile.firebaseapp.com",projectId:"evaluateprofile",storageBucket:"evaluateprofile.appspot.com",messagingSenderId:"992086403954",appId:"1:992086403954:web:dbd5e85f96851c284e4beb"}),M]]}),t})();Object(i.ab)(),r.c().bootstrapModule(ly).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,1]]]);